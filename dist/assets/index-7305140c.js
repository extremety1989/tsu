var vt=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var St=vt(exports=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const n of i.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function r(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(o){if(o.ep)return;o.ep=!0;const i=r(o);fetch(o.href,i)}})();const style="";/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const REVISION="154",CullFaceNone=0,CullFaceBack=1,CullFaceFront=2,PCFShadowMap=1,PCFSoftShadowMap=2,VSMShadowMap=3,FrontSide=0,BackSide=1,DoubleSide=2,NoBlending=0,NormalBlending=1,AdditiveBlending=2,SubtractiveBlending=3,MultiplyBlending=4,CustomBlending=5,AddEquation=100,SubtractEquation=101,ReverseSubtractEquation=102,MinEquation=103,MaxEquation=104,ZeroFactor=200,OneFactor=201,SrcColorFactor=202,OneMinusSrcColorFactor=203,SrcAlphaFactor=204,OneMinusSrcAlphaFactor=205,DstAlphaFactor=206,OneMinusDstAlphaFactor=207,DstColorFactor=208,OneMinusDstColorFactor=209,SrcAlphaSaturateFactor=210,NeverDepth=0,AlwaysDepth=1,LessDepth=2,LessEqualDepth=3,EqualDepth=4,GreaterEqualDepth=5,GreaterDepth=6,NotEqualDepth=7,MultiplyOperation=0,MixOperation=1,AddOperation=2,NoToneMapping=0,LinearToneMapping=1,ReinhardToneMapping=2,CineonToneMapping=3,ACESFilmicToneMapping=4,CustomToneMapping=5,UVMapping=300,CubeReflectionMapping=301,CubeRefractionMapping=302,EquirectangularReflectionMapping=303,EquirectangularRefractionMapping=304,CubeUVReflectionMapping=306,RepeatWrapping=1e3,ClampToEdgeWrapping=1001,MirroredRepeatWrapping=1002,NearestFilter=1003,NearestMipmapNearestFilter=1004,NearestMipmapLinearFilter=1005,LinearFilter=1006,LinearMipmapNearestFilter=1007,LinearMipmapLinearFilter=1008,UnsignedByteType=1009,ByteType=1010,ShortType=1011,UnsignedShortType=1012,IntType=1013,UnsignedIntType=1014,FloatType=1015,HalfFloatType=1016,UnsignedShort4444Type=1017,UnsignedShort5551Type=1018,UnsignedInt248Type=1020,AlphaFormat=1021,RGBAFormat=1023,LuminanceFormat=1024,LuminanceAlphaFormat=1025,DepthFormat=1026,DepthStencilFormat=1027,RedFormat=1028,RedIntegerFormat=1029,RGFormat=1030,RGIntegerFormat=1031,RGBAIntegerFormat=1033,RGB_S3TC_DXT1_Format=33776,RGBA_S3TC_DXT1_Format=33777,RGBA_S3TC_DXT3_Format=33778,RGBA_S3TC_DXT5_Format=33779,RGB_PVRTC_4BPPV1_Format=35840,RGB_PVRTC_2BPPV1_Format=35841,RGBA_PVRTC_4BPPV1_Format=35842,RGBA_PVRTC_2BPPV1_Format=35843,RGB_ETC1_Format=36196,RGB_ETC2_Format=37492,RGBA_ETC2_EAC_Format=37496,RGBA_ASTC_4x4_Format=37808,RGBA_ASTC_5x4_Format=37809,RGBA_ASTC_5x5_Format=37810,RGBA_ASTC_6x5_Format=37811,RGBA_ASTC_6x6_Format=37812,RGBA_ASTC_8x5_Format=37813,RGBA_ASTC_8x6_Format=37814,RGBA_ASTC_8x8_Format=37815,RGBA_ASTC_10x5_Format=37816,RGBA_ASTC_10x6_Format=37817,RGBA_ASTC_10x8_Format=37818,RGBA_ASTC_10x10_Format=37819,RGBA_ASTC_12x10_Format=37820,RGBA_ASTC_12x12_Format=37821,RGBA_BPTC_Format=36492,RED_RGTC1_Format=36283,SIGNED_RED_RGTC1_Format=36284,RED_GREEN_RGTC2_Format=36285,SIGNED_RED_GREEN_RGTC2_Format=36286,LinearEncoding=3e3,sRGBEncoding=3001,BasicDepthPacking=3200,RGBADepthPacking=3201,TangentSpaceNormalMap=0,ObjectSpaceNormalMap=1,NoColorSpace="",SRGBColorSpace="srgb",LinearSRGBColorSpace="srgb-linear",DisplayP3ColorSpace="display-p3",KeepStencilOp=7680,AlwaysStencilFunc=519,NeverCompare=512,LessCompare=513,EqualCompare=514,LessEqualCompare=515,GreaterCompare=516,NotEqualCompare=517,GreaterEqualCompare=518,AlwaysCompare=519,StaticDrawUsage=35044,GLSL3="300 es",_SRGBAFormat=1035,WebGLCoordinateSystem=2e3,WebGPUCoordinateSystem=2001;class EventDispatcher{addEventListener(e,r){this._listeners===void 0&&(this._listeners={});const s=this._listeners;s[e]===void 0&&(s[e]=[]),s[e].indexOf(r)===-1&&s[e].push(r)}hasEventListener(e,r){if(this._listeners===void 0)return!1;const s=this._listeners;return s[e]!==void 0&&s[e].indexOf(r)!==-1}removeEventListener(e,r){if(this._listeners===void 0)return;const o=this._listeners[e];if(o!==void 0){const i=o.indexOf(r);i!==-1&&o.splice(i,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const s=this._listeners[e.type];if(s!==void 0){e.target=this;const o=s.slice(0);for(let i=0,n=o.length;i<n;i++)o[i].call(this,e);e.target=null}}}const _lut=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],DEG2RAD=Math.PI/180,RAD2DEG=180/Math.PI;function generateUUID(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,r=Math.random()*4294967295|0,s=Math.random()*4294967295|0;return(_lut[t&255]+_lut[t>>8&255]+_lut[t>>16&255]+_lut[t>>24&255]+"-"+_lut[e&255]+_lut[e>>8&255]+"-"+_lut[e>>16&15|64]+_lut[e>>24&255]+"-"+_lut[r&63|128]+_lut[r>>8&255]+"-"+_lut[r>>16&255]+_lut[r>>24&255]+_lut[s&255]+_lut[s>>8&255]+_lut[s>>16&255]+_lut[s>>24&255]).toLowerCase()}function clamp(t,e,r){return Math.max(e,Math.min(r,t))}function euclideanModulo(t,e){return(t%e+e)%e}function lerp(t,e,r){return(1-r)*t+r*e}function isPowerOfTwo(t){return(t&t-1)===0&&t!==0}function floorPowerOfTwo(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function denormalize(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function normalize(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}class Vector2{constructor(e=0,r=0){Vector2.prototype.isVector2=!0,this.x=e,this.y=r}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,r){return this.x=e,this.y=r,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,r){switch(e){case 0:this.x=r;break;case 1:this.y=r;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,r){return this.x=e.x+r.x,this.y=e.y+r.y,this}addScaledVector(e,r){return this.x+=e.x*r,this.y+=e.y*r,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,r){return this.x=e.x-r.x,this.y=e.y-r.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const r=this.x,s=this.y,o=e.elements;return this.x=o[0]*r+o[3]*s+o[6],this.y=o[1]*r+o[4]*s+o[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,r){return this.x=Math.max(e.x,Math.min(r.x,this.x)),this.y=Math.max(e.y,Math.min(r.y,this.y)),this}clampScalar(e,r){return this.x=Math.max(e,Math.min(r,this.x)),this.y=Math.max(e,Math.min(r,this.y)),this}clampLength(e,r){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(e,Math.min(r,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const r=Math.sqrt(this.lengthSq()*e.lengthSq());if(r===0)return Math.PI/2;const s=this.dot(e)/r;return Math.acos(clamp(s,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const r=this.x-e.x,s=this.y-e.y;return r*r+s*s}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,r){return this.x+=(e.x-this.x)*r,this.y+=(e.y-this.y)*r,this}lerpVectors(e,r,s){return this.x=e.x+(r.x-e.x)*s,this.y=e.y+(r.y-e.y)*s,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,r=0){return this.x=e[r],this.y=e[r+1],this}toArray(e=[],r=0){return e[r]=this.x,e[r+1]=this.y,e}fromBufferAttribute(e,r){return this.x=e.getX(r),this.y=e.getY(r),this}rotateAround(e,r){const s=Math.cos(r),o=Math.sin(r),i=this.x-e.x,n=this.y-e.y;return this.x=i*s-n*o+e.x,this.y=i*o+n*s+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Matrix3{constructor(e,r,s,o,i,n,p,d,l){Matrix3.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,r,s,o,i,n,p,d,l)}set(e,r,s,o,i,n,p,d,l){const u=this.elements;return u[0]=e,u[1]=o,u[2]=p,u[3]=r,u[4]=i,u[5]=d,u[6]=s,u[7]=n,u[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const r=this.elements,s=e.elements;return r[0]=s[0],r[1]=s[1],r[2]=s[2],r[3]=s[3],r[4]=s[4],r[5]=s[5],r[6]=s[6],r[7]=s[7],r[8]=s[8],this}extractBasis(e,r,s){return e.setFromMatrix3Column(this,0),r.setFromMatrix3Column(this,1),s.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const r=e.elements;return this.set(r[0],r[4],r[8],r[1],r[5],r[9],r[2],r[6],r[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,r){const s=e.elements,o=r.elements,i=this.elements,n=s[0],p=s[3],d=s[6],l=s[1],u=s[4],c=s[7],g=s[2],f=s[5],y=s[8],_=o[0],m=o[3],h=o[6],R=o[1],b=o[4],v=o[7],S=o[2],T=o[5],O=o[8];return i[0]=n*_+p*R+d*S,i[3]=n*m+p*b+d*T,i[6]=n*h+p*v+d*O,i[1]=l*_+u*R+c*S,i[4]=l*m+u*b+c*T,i[7]=l*h+u*v+c*O,i[2]=g*_+f*R+y*S,i[5]=g*m+f*b+y*T,i[8]=g*h+f*v+y*O,this}multiplyScalar(e){const r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=e,r[4]*=e,r[7]*=e,r[2]*=e,r[5]*=e,r[8]*=e,this}determinant(){const e=this.elements,r=e[0],s=e[1],o=e[2],i=e[3],n=e[4],p=e[5],d=e[6],l=e[7],u=e[8];return r*n*u-r*p*l-s*i*u+s*p*d+o*i*l-o*n*d}invert(){const e=this.elements,r=e[0],s=e[1],o=e[2],i=e[3],n=e[4],p=e[5],d=e[6],l=e[7],u=e[8],c=u*n-p*l,g=p*d-u*i,f=l*i-n*d,y=r*c+s*g+o*f;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const _=1/y;return e[0]=c*_,e[1]=(o*l-u*s)*_,e[2]=(p*s-o*n)*_,e[3]=g*_,e[4]=(u*r-o*d)*_,e[5]=(o*i-p*r)*_,e[6]=f*_,e[7]=(s*d-l*r)*_,e[8]=(n*r-s*i)*_,this}transpose(){let e;const r=this.elements;return e=r[1],r[1]=r[3],r[3]=e,e=r[2],r[2]=r[6],r[6]=e,e=r[5],r[5]=r[7],r[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const r=this.elements;return e[0]=r[0],e[1]=r[3],e[2]=r[6],e[3]=r[1],e[4]=r[4],e[5]=r[7],e[6]=r[2],e[7]=r[5],e[8]=r[8],this}setUvTransform(e,r,s,o,i,n,p){const d=Math.cos(i),l=Math.sin(i);return this.set(s*d,s*l,-s*(d*n+l*p)+n+e,-o*l,o*d,-o*(-l*n+d*p)+p+r,0,0,1),this}scale(e,r){return this.premultiply(_m3.makeScale(e,r)),this}rotate(e){return this.premultiply(_m3.makeRotation(-e)),this}translate(e,r){return this.premultiply(_m3.makeTranslation(e,r)),this}makeTranslation(e,r){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,r,0,0,1),this}makeRotation(e){const r=Math.cos(e),s=Math.sin(e);return this.set(r,-s,0,s,r,0,0,0,1),this}makeScale(e,r){return this.set(e,0,0,0,r,0,0,0,1),this}equals(e){const r=this.elements,s=e.elements;for(let o=0;o<9;o++)if(r[o]!==s[o])return!1;return!0}fromArray(e,r=0){for(let s=0;s<9;s++)this.elements[s]=e[s+r];return this}toArray(e=[],r=0){const s=this.elements;return e[r]=s[0],e[r+1]=s[1],e[r+2]=s[2],e[r+3]=s[3],e[r+4]=s[4],e[r+5]=s[5],e[r+6]=s[6],e[r+7]=s[7],e[r+8]=s[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const _m3=new Matrix3;function arrayNeedsUint32(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}function createElementNS(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}const _cache={};function warnOnce(t){t in _cache||(_cache[t]=!0,console.warn(t))}function SRGBToLinear(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function LinearToSRGB(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const LINEAR_SRGB_TO_LINEAR_DISPLAY_P3=new Matrix3().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),LINEAR_DISPLAY_P3_TO_LINEAR_SRGB=new Matrix3().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function DisplayP3ToLinearSRGB(t){return t.convertSRGBToLinear().applyMatrix3(LINEAR_DISPLAY_P3_TO_LINEAR_SRGB)}function LinearSRGBToDisplayP3(t){return t.applyMatrix3(LINEAR_SRGB_TO_LINEAR_DISPLAY_P3).convertLinearToSRGB()}const TO_LINEAR={[LinearSRGBColorSpace]:t=>t,[SRGBColorSpace]:t=>t.convertSRGBToLinear(),[DisplayP3ColorSpace]:DisplayP3ToLinearSRGB},FROM_LINEAR={[LinearSRGBColorSpace]:t=>t,[SRGBColorSpace]:t=>t.convertLinearToSRGB(),[DisplayP3ColorSpace]:LinearSRGBToDisplayP3},ColorManagement={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(t){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!t},get workingColorSpace(){return LinearSRGBColorSpace},set workingColorSpace(t){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,e,r){if(this.enabled===!1||e===r||!e||!r)return t;const s=TO_LINEAR[e],o=FROM_LINEAR[r];if(s===void 0||o===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${r}".`);return o(s(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)}};let _canvas;class ImageUtils{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{_canvas===void 0&&(_canvas=createElementNS("canvas")),_canvas.width=e.width,_canvas.height=e.height;const s=_canvas.getContext("2d");e instanceof ImageData?s.putImageData(e,0,0):s.drawImage(e,0,0,e.width,e.height),r=_canvas}return r.width>2048||r.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),r.toDataURL("image/jpeg",.6)):r.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const r=createElementNS("canvas");r.width=e.width,r.height=e.height;const s=r.getContext("2d");s.drawImage(e,0,0,e.width,e.height);const o=s.getImageData(0,0,e.width,e.height),i=o.data;for(let n=0;n<i.length;n++)i[n]=SRGBToLinear(i[n]/255)*255;return s.putImageData(o,0,0),r}else if(e.data){const r=e.data.slice(0);for(let s=0;s<r.length;s++)r instanceof Uint8Array||r instanceof Uint8ClampedArray?r[s]=Math.floor(SRGBToLinear(r[s]/255)*255):r[s]=SRGBToLinear(r[s]);return{data:r,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let sourceId=0;class Source{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:sourceId++}),this.uuid=generateUUID(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const r=e===void 0||typeof e=="string";if(!r&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const s={uuid:this.uuid,url:""},o=this.data;if(o!==null){let i;if(Array.isArray(o)){i=[];for(let n=0,p=o.length;n<p;n++)o[n].isDataTexture?i.push(serializeImage(o[n].image)):i.push(serializeImage(o[n]))}else i=serializeImage(o);s.url=i}return r||(e.images[this.uuid]=s),s}}function serializeImage(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?ImageUtils.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let textureId=0;class Texture extends EventDispatcher{constructor(e=Texture.DEFAULT_IMAGE,r=Texture.DEFAULT_MAPPING,s=ClampToEdgeWrapping,o=ClampToEdgeWrapping,i=LinearFilter,n=LinearMipmapLinearFilter,p=RGBAFormat,d=UnsignedByteType,l=Texture.DEFAULT_ANISOTROPY,u=NoColorSpace){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:textureId++}),this.uuid=generateUUID(),this.name="",this.source=new Source(e),this.mipmaps=[],this.mapping=r,this.channel=0,this.wrapS=s,this.wrapT=o,this.magFilter=i,this.minFilter=n,this.anisotropy=l,this.format=p,this.internalFormat=null,this.type=d,this.offset=new Vector2(0,0),this.repeat=new Vector2(1,1),this.center=new Vector2(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Matrix3,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof u=="string"?this.colorSpace=u:(warnOnce("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=u===sRGBEncoding?SRGBColorSpace:NoColorSpace),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const r=e===void 0||typeof e=="string";if(!r&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const s={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(s.userData=this.userData),r||(e.textures[this.uuid]=s),s}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==UVMapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case RepeatWrapping:e.x=e.x-Math.floor(e.x);break;case ClampToEdgeWrapping:e.x=e.x<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case RepeatWrapping:e.y=e.y-Math.floor(e.y);break;case ClampToEdgeWrapping:e.y=e.y<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return warnOnce("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===SRGBColorSpace?sRGBEncoding:LinearEncoding}set encoding(e){warnOnce("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===sRGBEncoding?SRGBColorSpace:NoColorSpace}}Texture.DEFAULT_IMAGE=null;Texture.DEFAULT_MAPPING=UVMapping;Texture.DEFAULT_ANISOTROPY=1;class Vector4{constructor(e=0,r=0,s=0,o=1){Vector4.prototype.isVector4=!0,this.x=e,this.y=r,this.z=s,this.w=o}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,r,s,o){return this.x=e,this.y=r,this.z=s,this.w=o,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,r){switch(e){case 0:this.x=r;break;case 1:this.y=r;break;case 2:this.z=r;break;case 3:this.w=r;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,r){return this.x=e.x+r.x,this.y=e.y+r.y,this.z=e.z+r.z,this.w=e.w+r.w,this}addScaledVector(e,r){return this.x+=e.x*r,this.y+=e.y*r,this.z+=e.z*r,this.w+=e.w*r,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,r){return this.x=e.x-r.x,this.y=e.y-r.y,this.z=e.z-r.z,this.w=e.w-r.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const r=this.x,s=this.y,o=this.z,i=this.w,n=e.elements;return this.x=n[0]*r+n[4]*s+n[8]*o+n[12]*i,this.y=n[1]*r+n[5]*s+n[9]*o+n[13]*i,this.z=n[2]*r+n[6]*s+n[10]*o+n[14]*i,this.w=n[3]*r+n[7]*s+n[11]*o+n[15]*i,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const r=Math.sqrt(1-e.w*e.w);return r<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/r,this.y=e.y/r,this.z=e.z/r),this}setAxisAngleFromRotationMatrix(e){let r,s,o,i;const d=e.elements,l=d[0],u=d[4],c=d[8],g=d[1],f=d[5],y=d[9],_=d[2],m=d[6],h=d[10];if(Math.abs(u-g)<.01&&Math.abs(c-_)<.01&&Math.abs(y-m)<.01){if(Math.abs(u+g)<.1&&Math.abs(c+_)<.1&&Math.abs(y+m)<.1&&Math.abs(l+f+h-3)<.1)return this.set(1,0,0,0),this;r=Math.PI;const b=(l+1)/2,v=(f+1)/2,S=(h+1)/2,T=(u+g)/4,O=(c+_)/4,C=(y+m)/4;return b>v&&b>S?b<.01?(s=0,o=.707106781,i=.707106781):(s=Math.sqrt(b),o=T/s,i=O/s):v>S?v<.01?(s=.707106781,o=0,i=.707106781):(o=Math.sqrt(v),s=T/o,i=C/o):S<.01?(s=.707106781,o=.707106781,i=0):(i=Math.sqrt(S),s=O/i,o=C/i),this.set(s,o,i,r),this}let R=Math.sqrt((m-y)*(m-y)+(c-_)*(c-_)+(g-u)*(g-u));return Math.abs(R)<.001&&(R=1),this.x=(m-y)/R,this.y=(c-_)/R,this.z=(g-u)/R,this.w=Math.acos((l+f+h-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,r){return this.x=Math.max(e.x,Math.min(r.x,this.x)),this.y=Math.max(e.y,Math.min(r.y,this.y)),this.z=Math.max(e.z,Math.min(r.z,this.z)),this.w=Math.max(e.w,Math.min(r.w,this.w)),this}clampScalar(e,r){return this.x=Math.max(e,Math.min(r,this.x)),this.y=Math.max(e,Math.min(r,this.y)),this.z=Math.max(e,Math.min(r,this.z)),this.w=Math.max(e,Math.min(r,this.w)),this}clampLength(e,r){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(e,Math.min(r,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,r){return this.x+=(e.x-this.x)*r,this.y+=(e.y-this.y)*r,this.z+=(e.z-this.z)*r,this.w+=(e.w-this.w)*r,this}lerpVectors(e,r,s){return this.x=e.x+(r.x-e.x)*s,this.y=e.y+(r.y-e.y)*s,this.z=e.z+(r.z-e.z)*s,this.w=e.w+(r.w-e.w)*s,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,r=0){return this.x=e[r],this.y=e[r+1],this.z=e[r+2],this.w=e[r+3],this}toArray(e=[],r=0){return e[r]=this.x,e[r+1]=this.y,e[r+2]=this.z,e[r+3]=this.w,e}fromBufferAttribute(e,r){return this.x=e.getX(r),this.y=e.getY(r),this.z=e.getZ(r),this.w=e.getW(r),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class WebGLRenderTarget extends EventDispatcher{constructor(e=1,r=1,s={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=r,this.depth=1,this.scissor=new Vector4(0,0,e,r),this.scissorTest=!1,this.viewport=new Vector4(0,0,e,r);const o={width:e,height:r,depth:1};s.encoding!==void 0&&(warnOnce("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),s.colorSpace=s.encoding===sRGBEncoding?SRGBColorSpace:NoColorSpace),this.texture=new Texture(o,s.mapping,s.wrapS,s.wrapT,s.magFilter,s.minFilter,s.format,s.type,s.anisotropy,s.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=s.generateMipmaps!==void 0?s.generateMipmaps:!1,this.texture.internalFormat=s.internalFormat!==void 0?s.internalFormat:null,this.texture.minFilter=s.minFilter!==void 0?s.minFilter:LinearFilter,this.depthBuffer=s.depthBuffer!==void 0?s.depthBuffer:!0,this.stencilBuffer=s.stencilBuffer!==void 0?s.stencilBuffer:!1,this.depthTexture=s.depthTexture!==void 0?s.depthTexture:null,this.samples=s.samples!==void 0?s.samples:0}setSize(e,r,s=1){(this.width!==e||this.height!==r||this.depth!==s)&&(this.width=e,this.height=r,this.depth=s,this.texture.image.width=e,this.texture.image.height=r,this.texture.image.depth=s,this.dispose()),this.viewport.set(0,0,e,r),this.scissor.set(0,0,e,r)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const r=Object.assign({},e.texture.image);return this.texture.source=new Source(r),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class DataArrayTexture extends Texture{constructor(e=null,r=1,s=1,o=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:r,height:s,depth:o},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Data3DTexture extends Texture{constructor(e=null,r=1,s=1,o=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:r,height:s,depth:o},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Quaternion{constructor(e=0,r=0,s=0,o=1){this.isQuaternion=!0,this._x=e,this._y=r,this._z=s,this._w=o}static slerpFlat(e,r,s,o,i,n,p){let d=s[o+0],l=s[o+1],u=s[o+2],c=s[o+3];const g=i[n+0],f=i[n+1],y=i[n+2],_=i[n+3];if(p===0){e[r+0]=d,e[r+1]=l,e[r+2]=u,e[r+3]=c;return}if(p===1){e[r+0]=g,e[r+1]=f,e[r+2]=y,e[r+3]=_;return}if(c!==_||d!==g||l!==f||u!==y){let m=1-p;const h=d*g+l*f+u*y+c*_,R=h>=0?1:-1,b=1-h*h;if(b>Number.EPSILON){const S=Math.sqrt(b),T=Math.atan2(S,h*R);m=Math.sin(m*T)/S,p=Math.sin(p*T)/S}const v=p*R;if(d=d*m+g*v,l=l*m+f*v,u=u*m+y*v,c=c*m+_*v,m===1-p){const S=1/Math.sqrt(d*d+l*l+u*u+c*c);d*=S,l*=S,u*=S,c*=S}}e[r]=d,e[r+1]=l,e[r+2]=u,e[r+3]=c}static multiplyQuaternionsFlat(e,r,s,o,i,n){const p=s[o],d=s[o+1],l=s[o+2],u=s[o+3],c=i[n],g=i[n+1],f=i[n+2],y=i[n+3];return e[r]=p*y+u*c+d*f-l*g,e[r+1]=d*y+u*g+l*c-p*f,e[r+2]=l*y+u*f+p*g-d*c,e[r+3]=u*y-p*c-d*g-l*f,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,r,s,o){return this._x=e,this._y=r,this._z=s,this._w=o,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,r){const s=e._x,o=e._y,i=e._z,n=e._order,p=Math.cos,d=Math.sin,l=p(s/2),u=p(o/2),c=p(i/2),g=d(s/2),f=d(o/2),y=d(i/2);switch(n){case"XYZ":this._x=g*u*c+l*f*y,this._y=l*f*c-g*u*y,this._z=l*u*y+g*f*c,this._w=l*u*c-g*f*y;break;case"YXZ":this._x=g*u*c+l*f*y,this._y=l*f*c-g*u*y,this._z=l*u*y-g*f*c,this._w=l*u*c+g*f*y;break;case"ZXY":this._x=g*u*c-l*f*y,this._y=l*f*c+g*u*y,this._z=l*u*y+g*f*c,this._w=l*u*c-g*f*y;break;case"ZYX":this._x=g*u*c-l*f*y,this._y=l*f*c+g*u*y,this._z=l*u*y-g*f*c,this._w=l*u*c+g*f*y;break;case"YZX":this._x=g*u*c+l*f*y,this._y=l*f*c+g*u*y,this._z=l*u*y-g*f*c,this._w=l*u*c-g*f*y;break;case"XZY":this._x=g*u*c-l*f*y,this._y=l*f*c-g*u*y,this._z=l*u*y+g*f*c,this._w=l*u*c+g*f*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+n)}return r!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,r){const s=r/2,o=Math.sin(s);return this._x=e.x*o,this._y=e.y*o,this._z=e.z*o,this._w=Math.cos(s),this._onChangeCallback(),this}setFromRotationMatrix(e){const r=e.elements,s=r[0],o=r[4],i=r[8],n=r[1],p=r[5],d=r[9],l=r[2],u=r[6],c=r[10],g=s+p+c;if(g>0){const f=.5/Math.sqrt(g+1);this._w=.25/f,this._x=(u-d)*f,this._y=(i-l)*f,this._z=(n-o)*f}else if(s>p&&s>c){const f=2*Math.sqrt(1+s-p-c);this._w=(u-d)/f,this._x=.25*f,this._y=(o+n)/f,this._z=(i+l)/f}else if(p>c){const f=2*Math.sqrt(1+p-s-c);this._w=(i-l)/f,this._x=(o+n)/f,this._y=.25*f,this._z=(d+u)/f}else{const f=2*Math.sqrt(1+c-s-p);this._w=(n-o)/f,this._x=(i+l)/f,this._y=(d+u)/f,this._z=.25*f}return this._onChangeCallback(),this}setFromUnitVectors(e,r){let s=e.dot(r)+1;return s<Number.EPSILON?(s=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=s):(this._x=0,this._y=-e.z,this._z=e.y,this._w=s)):(this._x=e.y*r.z-e.z*r.y,this._y=e.z*r.x-e.x*r.z,this._z=e.x*r.y-e.y*r.x,this._w=s),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(clamp(this.dot(e),-1,1)))}rotateTowards(e,r){const s=this.angleTo(e);if(s===0)return this;const o=Math.min(1,r/s);return this.slerp(e,o),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,r){const s=e._x,o=e._y,i=e._z,n=e._w,p=r._x,d=r._y,l=r._z,u=r._w;return this._x=s*u+n*p+o*l-i*d,this._y=o*u+n*d+i*p-s*l,this._z=i*u+n*l+s*d-o*p,this._w=n*u-s*p-o*d-i*l,this._onChangeCallback(),this}slerp(e,r){if(r===0)return this;if(r===1)return this.copy(e);const s=this._x,o=this._y,i=this._z,n=this._w;let p=n*e._w+s*e._x+o*e._y+i*e._z;if(p<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,p=-p):this.copy(e),p>=1)return this._w=n,this._x=s,this._y=o,this._z=i,this;const d=1-p*p;if(d<=Number.EPSILON){const f=1-r;return this._w=f*n+r*this._w,this._x=f*s+r*this._x,this._y=f*o+r*this._y,this._z=f*i+r*this._z,this.normalize(),this._onChangeCallback(),this}const l=Math.sqrt(d),u=Math.atan2(l,p),c=Math.sin((1-r)*u)/l,g=Math.sin(r*u)/l;return this._w=n*c+this._w*g,this._x=s*c+this._x*g,this._y=o*c+this._y*g,this._z=i*c+this._z*g,this._onChangeCallback(),this}slerpQuaternions(e,r,s){return this.copy(e).slerp(r,s)}random(){const e=Math.random(),r=Math.sqrt(1-e),s=Math.sqrt(e),o=2*Math.PI*Math.random(),i=2*Math.PI*Math.random();return this.set(r*Math.cos(o),s*Math.sin(i),s*Math.cos(i),r*Math.sin(o))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,r=0){return this._x=e[r],this._y=e[r+1],this._z=e[r+2],this._w=e[r+3],this._onChangeCallback(),this}toArray(e=[],r=0){return e[r]=this._x,e[r+1]=this._y,e[r+2]=this._z,e[r+3]=this._w,e}fromBufferAttribute(e,r){return this._x=e.getX(r),this._y=e.getY(r),this._z=e.getZ(r),this._w=e.getW(r),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Vector3{constructor(e=0,r=0,s=0){Vector3.prototype.isVector3=!0,this.x=e,this.y=r,this.z=s}set(e,r,s){return s===void 0&&(s=this.z),this.x=e,this.y=r,this.z=s,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,r){switch(e){case 0:this.x=r;break;case 1:this.y=r;break;case 2:this.z=r;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,r){return this.x=e.x+r.x,this.y=e.y+r.y,this.z=e.z+r.z,this}addScaledVector(e,r){return this.x+=e.x*r,this.y+=e.y*r,this.z+=e.z*r,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,r){return this.x=e.x-r.x,this.y=e.y-r.y,this.z=e.z-r.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,r){return this.x=e.x*r.x,this.y=e.y*r.y,this.z=e.z*r.z,this}applyEuler(e){return this.applyQuaternion(_quaternion$4.setFromEuler(e))}applyAxisAngle(e,r){return this.applyQuaternion(_quaternion$4.setFromAxisAngle(e,r))}applyMatrix3(e){const r=this.x,s=this.y,o=this.z,i=e.elements;return this.x=i[0]*r+i[3]*s+i[6]*o,this.y=i[1]*r+i[4]*s+i[7]*o,this.z=i[2]*r+i[5]*s+i[8]*o,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const r=this.x,s=this.y,o=this.z,i=e.elements,n=1/(i[3]*r+i[7]*s+i[11]*o+i[15]);return this.x=(i[0]*r+i[4]*s+i[8]*o+i[12])*n,this.y=(i[1]*r+i[5]*s+i[9]*o+i[13])*n,this.z=(i[2]*r+i[6]*s+i[10]*o+i[14])*n,this}applyQuaternion(e){const r=this.x,s=this.y,o=this.z,i=e.x,n=e.y,p=e.z,d=e.w,l=d*r+n*o-p*s,u=d*s+p*r-i*o,c=d*o+i*s-n*r,g=-i*r-n*s-p*o;return this.x=l*d+g*-i+u*-p-c*-n,this.y=u*d+g*-n+c*-i-l*-p,this.z=c*d+g*-p+l*-n-u*-i,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const r=this.x,s=this.y,o=this.z,i=e.elements;return this.x=i[0]*r+i[4]*s+i[8]*o,this.y=i[1]*r+i[5]*s+i[9]*o,this.z=i[2]*r+i[6]*s+i[10]*o,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,r){return this.x=Math.max(e.x,Math.min(r.x,this.x)),this.y=Math.max(e.y,Math.min(r.y,this.y)),this.z=Math.max(e.z,Math.min(r.z,this.z)),this}clampScalar(e,r){return this.x=Math.max(e,Math.min(r,this.x)),this.y=Math.max(e,Math.min(r,this.y)),this.z=Math.max(e,Math.min(r,this.z)),this}clampLength(e,r){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(e,Math.min(r,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,r){return this.x+=(e.x-this.x)*r,this.y+=(e.y-this.y)*r,this.z+=(e.z-this.z)*r,this}lerpVectors(e,r,s){return this.x=e.x+(r.x-e.x)*s,this.y=e.y+(r.y-e.y)*s,this.z=e.z+(r.z-e.z)*s,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,r){const s=e.x,o=e.y,i=e.z,n=r.x,p=r.y,d=r.z;return this.x=o*d-i*p,this.y=i*n-s*d,this.z=s*p-o*n,this}projectOnVector(e){const r=e.lengthSq();if(r===0)return this.set(0,0,0);const s=e.dot(this)/r;return this.copy(e).multiplyScalar(s)}projectOnPlane(e){return _vector$b.copy(this).projectOnVector(e),this.sub(_vector$b)}reflect(e){return this.sub(_vector$b.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const r=Math.sqrt(this.lengthSq()*e.lengthSq());if(r===0)return Math.PI/2;const s=this.dot(e)/r;return Math.acos(clamp(s,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const r=this.x-e.x,s=this.y-e.y,o=this.z-e.z;return r*r+s*s+o*o}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,r,s){const o=Math.sin(r)*e;return this.x=o*Math.sin(s),this.y=Math.cos(r)*e,this.z=o*Math.cos(s),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,r,s){return this.x=e*Math.sin(r),this.y=s,this.z=e*Math.cos(r),this}setFromMatrixPosition(e){const r=e.elements;return this.x=r[12],this.y=r[13],this.z=r[14],this}setFromMatrixScale(e){const r=this.setFromMatrixColumn(e,0).length(),s=this.setFromMatrixColumn(e,1).length(),o=this.setFromMatrixColumn(e,2).length();return this.x=r,this.y=s,this.z=o,this}setFromMatrixColumn(e,r){return this.fromArray(e.elements,r*4)}setFromMatrix3Column(e,r){return this.fromArray(e.elements,r*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,r=0){return this.x=e[r],this.y=e[r+1],this.z=e[r+2],this}toArray(e=[],r=0){return e[r]=this.x,e[r+1]=this.y,e[r+2]=this.z,e}fromBufferAttribute(e,r){return this.x=e.getX(r),this.y=e.getY(r),this.z=e.getZ(r),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,r=Math.random()*Math.PI*2,s=Math.sqrt(1-e**2);return this.x=s*Math.cos(r),this.y=s*Math.sin(r),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const _vector$b=new Vector3,_quaternion$4=new Quaternion;class Box3{constructor(e=new Vector3(1/0,1/0,1/0),r=new Vector3(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=r}set(e,r){return this.min.copy(e),this.max.copy(r),this}setFromArray(e){this.makeEmpty();for(let r=0,s=e.length;r<s;r+=3)this.expandByPoint(_vector$a.fromArray(e,r));return this}setFromBufferAttribute(e){this.makeEmpty();for(let r=0,s=e.count;r<s;r++)this.expandByPoint(_vector$a.fromBufferAttribute(e,r));return this}setFromPoints(e){this.makeEmpty();for(let r=0,s=e.length;r<s;r++)this.expandByPoint(e[r]);return this}setFromCenterAndSize(e,r){const s=_vector$a.copy(r).multiplyScalar(.5);return this.min.copy(e).sub(s),this.max.copy(e).add(s),this}setFromObject(e,r=!1){return this.makeEmpty(),this.expandByObject(e,r)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,r=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),_box$3.copy(e.boundingBox),_box$3.applyMatrix4(e.matrixWorld),this.union(_box$3);else{const o=e.geometry;if(o!==void 0)if(r&&o.attributes!==void 0&&o.attributes.position!==void 0){const i=o.attributes.position;for(let n=0,p=i.count;n<p;n++)_vector$a.fromBufferAttribute(i,n).applyMatrix4(e.matrixWorld),this.expandByPoint(_vector$a)}else o.boundingBox===null&&o.computeBoundingBox(),_box$3.copy(o.boundingBox),_box$3.applyMatrix4(e.matrixWorld),this.union(_box$3)}const s=e.children;for(let o=0,i=s.length;o<i;o++)this.expandByObject(s[o],r);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,r){return r.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,_vector$a),_vector$a.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let r,s;return e.normal.x>0?(r=e.normal.x*this.min.x,s=e.normal.x*this.max.x):(r=e.normal.x*this.max.x,s=e.normal.x*this.min.x),e.normal.y>0?(r+=e.normal.y*this.min.y,s+=e.normal.y*this.max.y):(r+=e.normal.y*this.max.y,s+=e.normal.y*this.min.y),e.normal.z>0?(r+=e.normal.z*this.min.z,s+=e.normal.z*this.max.z):(r+=e.normal.z*this.max.z,s+=e.normal.z*this.min.z),r<=-e.constant&&s>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(_center),_extents.subVectors(this.max,_center),_v0$2.subVectors(e.a,_center),_v1$7.subVectors(e.b,_center),_v2$4.subVectors(e.c,_center),_f0.subVectors(_v1$7,_v0$2),_f1.subVectors(_v2$4,_v1$7),_f2.subVectors(_v0$2,_v2$4);let r=[0,-_f0.z,_f0.y,0,-_f1.z,_f1.y,0,-_f2.z,_f2.y,_f0.z,0,-_f0.x,_f1.z,0,-_f1.x,_f2.z,0,-_f2.x,-_f0.y,_f0.x,0,-_f1.y,_f1.x,0,-_f2.y,_f2.x,0];return!satForAxes(r,_v0$2,_v1$7,_v2$4,_extents)||(r=[1,0,0,0,1,0,0,0,1],!satForAxes(r,_v0$2,_v1$7,_v2$4,_extents))?!1:(_triangleNormal.crossVectors(_f0,_f1),r=[_triangleNormal.x,_triangleNormal.y,_triangleNormal.z],satForAxes(r,_v0$2,_v1$7,_v2$4,_extents))}clampPoint(e,r){return r.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,_vector$a).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(_vector$a).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(_points[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),_points[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),_points[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),_points[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),_points[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),_points[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),_points[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),_points[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(_points),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const _points=[new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3],_vector$a=new Vector3,_box$3=new Box3,_v0$2=new Vector3,_v1$7=new Vector3,_v2$4=new Vector3,_f0=new Vector3,_f1=new Vector3,_f2=new Vector3,_center=new Vector3,_extents=new Vector3,_triangleNormal=new Vector3,_testAxis=new Vector3;function satForAxes(t,e,r,s,o){for(let i=0,n=t.length-3;i<=n;i+=3){_testAxis.fromArray(t,i);const p=o.x*Math.abs(_testAxis.x)+o.y*Math.abs(_testAxis.y)+o.z*Math.abs(_testAxis.z),d=e.dot(_testAxis),l=r.dot(_testAxis),u=s.dot(_testAxis);if(Math.max(-Math.max(d,l,u),Math.min(d,l,u))>p)return!1}return!0}const _box$2=new Box3,_v1$6=new Vector3,_v2$3=new Vector3;class Sphere{constructor(e=new Vector3,r=-1){this.center=e,this.radius=r}set(e,r){return this.center.copy(e),this.radius=r,this}setFromPoints(e,r){const s=this.center;r!==void 0?s.copy(r):_box$2.setFromPoints(e).getCenter(s);let o=0;for(let i=0,n=e.length;i<n;i++)o=Math.max(o,s.distanceToSquared(e[i]));return this.radius=Math.sqrt(o),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const r=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=r*r}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,r){const s=this.center.distanceToSquared(e);return r.copy(e),s>this.radius*this.radius&&(r.sub(this.center).normalize(),r.multiplyScalar(this.radius).add(this.center)),r}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;_v1$6.subVectors(e,this.center);const r=_v1$6.lengthSq();if(r>this.radius*this.radius){const s=Math.sqrt(r),o=(s-this.radius)*.5;this.center.addScaledVector(_v1$6,o/s),this.radius+=o}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(_v2$3.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(_v1$6.copy(e.center).add(_v2$3)),this.expandByPoint(_v1$6.copy(e.center).sub(_v2$3))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const _vector$9=new Vector3,_segCenter=new Vector3,_segDir=new Vector3,_diff=new Vector3,_edge1=new Vector3,_edge2=new Vector3,_normal$1=new Vector3;class Ray{constructor(e=new Vector3,r=new Vector3(0,0,-1)){this.origin=e,this.direction=r}set(e,r){return this.origin.copy(e),this.direction.copy(r),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,r){return r.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,_vector$9)),this}closestPointToPoint(e,r){r.subVectors(e,this.origin);const s=r.dot(this.direction);return s<0?r.copy(this.origin):r.copy(this.origin).addScaledVector(this.direction,s)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const r=_vector$9.subVectors(e,this.origin).dot(this.direction);return r<0?this.origin.distanceToSquared(e):(_vector$9.copy(this.origin).addScaledVector(this.direction,r),_vector$9.distanceToSquared(e))}distanceSqToSegment(e,r,s,o){_segCenter.copy(e).add(r).multiplyScalar(.5),_segDir.copy(r).sub(e).normalize(),_diff.copy(this.origin).sub(_segCenter);const i=e.distanceTo(r)*.5,n=-this.direction.dot(_segDir),p=_diff.dot(this.direction),d=-_diff.dot(_segDir),l=_diff.lengthSq(),u=Math.abs(1-n*n);let c,g,f,y;if(u>0)if(c=n*d-p,g=n*p-d,y=i*u,c>=0)if(g>=-y)if(g<=y){const _=1/u;c*=_,g*=_,f=c*(c+n*g+2*p)+g*(n*c+g+2*d)+l}else g=i,c=Math.max(0,-(n*g+p)),f=-c*c+g*(g+2*d)+l;else g=-i,c=Math.max(0,-(n*g+p)),f=-c*c+g*(g+2*d)+l;else g<=-y?(c=Math.max(0,-(-n*i+p)),g=c>0?-i:Math.min(Math.max(-i,-d),i),f=-c*c+g*(g+2*d)+l):g<=y?(c=0,g=Math.min(Math.max(-i,-d),i),f=g*(g+2*d)+l):(c=Math.max(0,-(n*i+p)),g=c>0?i:Math.min(Math.max(-i,-d),i),f=-c*c+g*(g+2*d)+l);else g=n>0?-i:i,c=Math.max(0,-(n*g+p)),f=-c*c+g*(g+2*d)+l;return s&&s.copy(this.origin).addScaledVector(this.direction,c),o&&o.copy(_segCenter).addScaledVector(_segDir,g),f}intersectSphere(e,r){_vector$9.subVectors(e.center,this.origin);const s=_vector$9.dot(this.direction),o=_vector$9.dot(_vector$9)-s*s,i=e.radius*e.radius;if(o>i)return null;const n=Math.sqrt(i-o),p=s-n,d=s+n;return d<0?null:p<0?this.at(d,r):this.at(p,r)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const r=e.normal.dot(this.direction);if(r===0)return e.distanceToPoint(this.origin)===0?0:null;const s=-(this.origin.dot(e.normal)+e.constant)/r;return s>=0?s:null}intersectPlane(e,r){const s=this.distanceToPlane(e);return s===null?null:this.at(s,r)}intersectsPlane(e){const r=e.distanceToPoint(this.origin);return r===0||e.normal.dot(this.direction)*r<0}intersectBox(e,r){let s,o,i,n,p,d;const l=1/this.direction.x,u=1/this.direction.y,c=1/this.direction.z,g=this.origin;return l>=0?(s=(e.min.x-g.x)*l,o=(e.max.x-g.x)*l):(s=(e.max.x-g.x)*l,o=(e.min.x-g.x)*l),u>=0?(i=(e.min.y-g.y)*u,n=(e.max.y-g.y)*u):(i=(e.max.y-g.y)*u,n=(e.min.y-g.y)*u),s>n||i>o||((i>s||isNaN(s))&&(s=i),(n<o||isNaN(o))&&(o=n),c>=0?(p=(e.min.z-g.z)*c,d=(e.max.z-g.z)*c):(p=(e.max.z-g.z)*c,d=(e.min.z-g.z)*c),s>d||p>o)||((p>s||s!==s)&&(s=p),(d<o||o!==o)&&(o=d),o<0)?null:this.at(s>=0?s:o,r)}intersectsBox(e){return this.intersectBox(e,_vector$9)!==null}intersectTriangle(e,r,s,o,i){_edge1.subVectors(r,e),_edge2.subVectors(s,e),_normal$1.crossVectors(_edge1,_edge2);let n=this.direction.dot(_normal$1),p;if(n>0){if(o)return null;p=1}else if(n<0)p=-1,n=-n;else return null;_diff.subVectors(this.origin,e);const d=p*this.direction.dot(_edge2.crossVectors(_diff,_edge2));if(d<0)return null;const l=p*this.direction.dot(_edge1.cross(_diff));if(l<0||d+l>n)return null;const u=-p*_diff.dot(_normal$1);return u<0?null:this.at(u/n,i)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Matrix4{constructor(e,r,s,o,i,n,p,d,l,u,c,g,f,y,_,m){Matrix4.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,r,s,o,i,n,p,d,l,u,c,g,f,y,_,m)}set(e,r,s,o,i,n,p,d,l,u,c,g,f,y,_,m){const h=this.elements;return h[0]=e,h[4]=r,h[8]=s,h[12]=o,h[1]=i,h[5]=n,h[9]=p,h[13]=d,h[2]=l,h[6]=u,h[10]=c,h[14]=g,h[3]=f,h[7]=y,h[11]=_,h[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Matrix4().fromArray(this.elements)}copy(e){const r=this.elements,s=e.elements;return r[0]=s[0],r[1]=s[1],r[2]=s[2],r[3]=s[3],r[4]=s[4],r[5]=s[5],r[6]=s[6],r[7]=s[7],r[8]=s[8],r[9]=s[9],r[10]=s[10],r[11]=s[11],r[12]=s[12],r[13]=s[13],r[14]=s[14],r[15]=s[15],this}copyPosition(e){const r=this.elements,s=e.elements;return r[12]=s[12],r[13]=s[13],r[14]=s[14],this}setFromMatrix3(e){const r=e.elements;return this.set(r[0],r[3],r[6],0,r[1],r[4],r[7],0,r[2],r[5],r[8],0,0,0,0,1),this}extractBasis(e,r,s){return e.setFromMatrixColumn(this,0),r.setFromMatrixColumn(this,1),s.setFromMatrixColumn(this,2),this}makeBasis(e,r,s){return this.set(e.x,r.x,s.x,0,e.y,r.y,s.y,0,e.z,r.z,s.z,0,0,0,0,1),this}extractRotation(e){const r=this.elements,s=e.elements,o=1/_v1$5.setFromMatrixColumn(e,0).length(),i=1/_v1$5.setFromMatrixColumn(e,1).length(),n=1/_v1$5.setFromMatrixColumn(e,2).length();return r[0]=s[0]*o,r[1]=s[1]*o,r[2]=s[2]*o,r[3]=0,r[4]=s[4]*i,r[5]=s[5]*i,r[6]=s[6]*i,r[7]=0,r[8]=s[8]*n,r[9]=s[9]*n,r[10]=s[10]*n,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this}makeRotationFromEuler(e){const r=this.elements,s=e.x,o=e.y,i=e.z,n=Math.cos(s),p=Math.sin(s),d=Math.cos(o),l=Math.sin(o),u=Math.cos(i),c=Math.sin(i);if(e.order==="XYZ"){const g=n*u,f=n*c,y=p*u,_=p*c;r[0]=d*u,r[4]=-d*c,r[8]=l,r[1]=f+y*l,r[5]=g-_*l,r[9]=-p*d,r[2]=_-g*l,r[6]=y+f*l,r[10]=n*d}else if(e.order==="YXZ"){const g=d*u,f=d*c,y=l*u,_=l*c;r[0]=g+_*p,r[4]=y*p-f,r[8]=n*l,r[1]=n*c,r[5]=n*u,r[9]=-p,r[2]=f*p-y,r[6]=_+g*p,r[10]=n*d}else if(e.order==="ZXY"){const g=d*u,f=d*c,y=l*u,_=l*c;r[0]=g-_*p,r[4]=-n*c,r[8]=y+f*p,r[1]=f+y*p,r[5]=n*u,r[9]=_-g*p,r[2]=-n*l,r[6]=p,r[10]=n*d}else if(e.order==="ZYX"){const g=n*u,f=n*c,y=p*u,_=p*c;r[0]=d*u,r[4]=y*l-f,r[8]=g*l+_,r[1]=d*c,r[5]=_*l+g,r[9]=f*l-y,r[2]=-l,r[6]=p*d,r[10]=n*d}else if(e.order==="YZX"){const g=n*d,f=n*l,y=p*d,_=p*l;r[0]=d*u,r[4]=_-g*c,r[8]=y*c+f,r[1]=c,r[5]=n*u,r[9]=-p*u,r[2]=-l*u,r[6]=f*c+y,r[10]=g-_*c}else if(e.order==="XZY"){const g=n*d,f=n*l,y=p*d,_=p*l;r[0]=d*u,r[4]=-c,r[8]=l*u,r[1]=g*c+_,r[5]=n*u,r[9]=f*c-y,r[2]=y*c-f,r[6]=p*u,r[10]=_*c+g}return r[3]=0,r[7]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this}makeRotationFromQuaternion(e){return this.compose(_zero,e,_one)}lookAt(e,r,s){const o=this.elements;return _z.subVectors(e,r),_z.lengthSq()===0&&(_z.z=1),_z.normalize(),_x.crossVectors(s,_z),_x.lengthSq()===0&&(Math.abs(s.z)===1?_z.x+=1e-4:_z.z+=1e-4,_z.normalize(),_x.crossVectors(s,_z)),_x.normalize(),_y.crossVectors(_z,_x),o[0]=_x.x,o[4]=_y.x,o[8]=_z.x,o[1]=_x.y,o[5]=_y.y,o[9]=_z.y,o[2]=_x.z,o[6]=_y.z,o[10]=_z.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,r){const s=e.elements,o=r.elements,i=this.elements,n=s[0],p=s[4],d=s[8],l=s[12],u=s[1],c=s[5],g=s[9],f=s[13],y=s[2],_=s[6],m=s[10],h=s[14],R=s[3],b=s[7],v=s[11],S=s[15],T=o[0],O=o[4],C=o[8],M=o[12],E=o[1],B=o[5],N=o[9],w=o[13],D=o[2],G=o[6],K=o[10],j=o[14],Y=o[3],J=o[7],q=o[11],U=o[15];return i[0]=n*T+p*E+d*D+l*Y,i[4]=n*O+p*B+d*G+l*J,i[8]=n*C+p*N+d*K+l*q,i[12]=n*M+p*w+d*j+l*U,i[1]=u*T+c*E+g*D+f*Y,i[5]=u*O+c*B+g*G+f*J,i[9]=u*C+c*N+g*K+f*q,i[13]=u*M+c*w+g*j+f*U,i[2]=y*T+_*E+m*D+h*Y,i[6]=y*O+_*B+m*G+h*J,i[10]=y*C+_*N+m*K+h*q,i[14]=y*M+_*w+m*j+h*U,i[3]=R*T+b*E+v*D+S*Y,i[7]=R*O+b*B+v*G+S*J,i[11]=R*C+b*N+v*K+S*q,i[15]=R*M+b*w+v*j+S*U,this}multiplyScalar(e){const r=this.elements;return r[0]*=e,r[4]*=e,r[8]*=e,r[12]*=e,r[1]*=e,r[5]*=e,r[9]*=e,r[13]*=e,r[2]*=e,r[6]*=e,r[10]*=e,r[14]*=e,r[3]*=e,r[7]*=e,r[11]*=e,r[15]*=e,this}determinant(){const e=this.elements,r=e[0],s=e[4],o=e[8],i=e[12],n=e[1],p=e[5],d=e[9],l=e[13],u=e[2],c=e[6],g=e[10],f=e[14],y=e[3],_=e[7],m=e[11],h=e[15];return y*(+i*d*c-o*l*c-i*p*g+s*l*g+o*p*f-s*d*f)+_*(+r*d*f-r*l*g+i*n*g-o*n*f+o*l*u-i*d*u)+m*(+r*l*c-r*p*f-i*n*c+s*n*f+i*p*u-s*l*u)+h*(-o*p*u-r*d*c+r*p*g+o*n*c-s*n*g+s*d*u)}transpose(){const e=this.elements;let r;return r=e[1],e[1]=e[4],e[4]=r,r=e[2],e[2]=e[8],e[8]=r,r=e[6],e[6]=e[9],e[9]=r,r=e[3],e[3]=e[12],e[12]=r,r=e[7],e[7]=e[13],e[13]=r,r=e[11],e[11]=e[14],e[14]=r,this}setPosition(e,r,s){const o=this.elements;return e.isVector3?(o[12]=e.x,o[13]=e.y,o[14]=e.z):(o[12]=e,o[13]=r,o[14]=s),this}invert(){const e=this.elements,r=e[0],s=e[1],o=e[2],i=e[3],n=e[4],p=e[5],d=e[6],l=e[7],u=e[8],c=e[9],g=e[10],f=e[11],y=e[12],_=e[13],m=e[14],h=e[15],R=c*m*l-_*g*l+_*d*f-p*m*f-c*d*h+p*g*h,b=y*g*l-u*m*l-y*d*f+n*m*f+u*d*h-n*g*h,v=u*_*l-y*c*l+y*p*f-n*_*f-u*p*h+n*c*h,S=y*c*d-u*_*d-y*p*g+n*_*g+u*p*m-n*c*m,T=r*R+s*b+o*v+i*S;if(T===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const O=1/T;return e[0]=R*O,e[1]=(_*g*i-c*m*i-_*o*f+s*m*f+c*o*h-s*g*h)*O,e[2]=(p*m*i-_*d*i+_*o*l-s*m*l-p*o*h+s*d*h)*O,e[3]=(c*d*i-p*g*i-c*o*l+s*g*l+p*o*f-s*d*f)*O,e[4]=b*O,e[5]=(u*m*i-y*g*i+y*o*f-r*m*f-u*o*h+r*g*h)*O,e[6]=(y*d*i-n*m*i-y*o*l+r*m*l+n*o*h-r*d*h)*O,e[7]=(n*g*i-u*d*i+u*o*l-r*g*l-n*o*f+r*d*f)*O,e[8]=v*O,e[9]=(y*c*i-u*_*i-y*s*f+r*_*f+u*s*h-r*c*h)*O,e[10]=(n*_*i-y*p*i+y*s*l-r*_*l-n*s*h+r*p*h)*O,e[11]=(u*p*i-n*c*i-u*s*l+r*c*l+n*s*f-r*p*f)*O,e[12]=S*O,e[13]=(u*_*o-y*c*o+y*s*g-r*_*g-u*s*m+r*c*m)*O,e[14]=(y*p*o-n*_*o-y*s*d+r*_*d+n*s*m-r*p*m)*O,e[15]=(n*c*o-u*p*o+u*s*d-r*c*d-n*s*g+r*p*g)*O,this}scale(e){const r=this.elements,s=e.x,o=e.y,i=e.z;return r[0]*=s,r[4]*=o,r[8]*=i,r[1]*=s,r[5]*=o,r[9]*=i,r[2]*=s,r[6]*=o,r[10]*=i,r[3]*=s,r[7]*=o,r[11]*=i,this}getMaxScaleOnAxis(){const e=this.elements,r=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],s=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],o=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(r,s,o))}makeTranslation(e,r,s){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,r,0,0,1,s,0,0,0,1),this}makeRotationX(e){const r=Math.cos(e),s=Math.sin(e);return this.set(1,0,0,0,0,r,-s,0,0,s,r,0,0,0,0,1),this}makeRotationY(e){const r=Math.cos(e),s=Math.sin(e);return this.set(r,0,s,0,0,1,0,0,-s,0,r,0,0,0,0,1),this}makeRotationZ(e){const r=Math.cos(e),s=Math.sin(e);return this.set(r,-s,0,0,s,r,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,r){const s=Math.cos(r),o=Math.sin(r),i=1-s,n=e.x,p=e.y,d=e.z,l=i*n,u=i*p;return this.set(l*n+s,l*p-o*d,l*d+o*p,0,l*p+o*d,u*p+s,u*d-o*n,0,l*d-o*p,u*d+o*n,i*d*d+s,0,0,0,0,1),this}makeScale(e,r,s){return this.set(e,0,0,0,0,r,0,0,0,0,s,0,0,0,0,1),this}makeShear(e,r,s,o,i,n){return this.set(1,s,i,0,e,1,n,0,r,o,1,0,0,0,0,1),this}compose(e,r,s){const o=this.elements,i=r._x,n=r._y,p=r._z,d=r._w,l=i+i,u=n+n,c=p+p,g=i*l,f=i*u,y=i*c,_=n*u,m=n*c,h=p*c,R=d*l,b=d*u,v=d*c,S=s.x,T=s.y,O=s.z;return o[0]=(1-(_+h))*S,o[1]=(f+v)*S,o[2]=(y-b)*S,o[3]=0,o[4]=(f-v)*T,o[5]=(1-(g+h))*T,o[6]=(m+R)*T,o[7]=0,o[8]=(y+b)*O,o[9]=(m-R)*O,o[10]=(1-(g+_))*O,o[11]=0,o[12]=e.x,o[13]=e.y,o[14]=e.z,o[15]=1,this}decompose(e,r,s){const o=this.elements;let i=_v1$5.set(o[0],o[1],o[2]).length();const n=_v1$5.set(o[4],o[5],o[6]).length(),p=_v1$5.set(o[8],o[9],o[10]).length();this.determinant()<0&&(i=-i),e.x=o[12],e.y=o[13],e.z=o[14],_m1$2.copy(this);const l=1/i,u=1/n,c=1/p;return _m1$2.elements[0]*=l,_m1$2.elements[1]*=l,_m1$2.elements[2]*=l,_m1$2.elements[4]*=u,_m1$2.elements[5]*=u,_m1$2.elements[6]*=u,_m1$2.elements[8]*=c,_m1$2.elements[9]*=c,_m1$2.elements[10]*=c,r.setFromRotationMatrix(_m1$2),s.x=i,s.y=n,s.z=p,this}makePerspective(e,r,s,o,i,n,p=WebGLCoordinateSystem){const d=this.elements,l=2*i/(r-e),u=2*i/(s-o),c=(r+e)/(r-e),g=(s+o)/(s-o);let f,y;if(p===WebGLCoordinateSystem)f=-(n+i)/(n-i),y=-2*n*i/(n-i);else if(p===WebGPUCoordinateSystem)f=-n/(n-i),y=-n*i/(n-i);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+p);return d[0]=l,d[4]=0,d[8]=c,d[12]=0,d[1]=0,d[5]=u,d[9]=g,d[13]=0,d[2]=0,d[6]=0,d[10]=f,d[14]=y,d[3]=0,d[7]=0,d[11]=-1,d[15]=0,this}makeOrthographic(e,r,s,o,i,n,p=WebGLCoordinateSystem){const d=this.elements,l=1/(r-e),u=1/(s-o),c=1/(n-i),g=(r+e)*l,f=(s+o)*u;let y,_;if(p===WebGLCoordinateSystem)y=(n+i)*c,_=-2*c;else if(p===WebGPUCoordinateSystem)y=i*c,_=-1*c;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+p);return d[0]=2*l,d[4]=0,d[8]=0,d[12]=-g,d[1]=0,d[5]=2*u,d[9]=0,d[13]=-f,d[2]=0,d[6]=0,d[10]=_,d[14]=-y,d[3]=0,d[7]=0,d[11]=0,d[15]=1,this}equals(e){const r=this.elements,s=e.elements;for(let o=0;o<16;o++)if(r[o]!==s[o])return!1;return!0}fromArray(e,r=0){for(let s=0;s<16;s++)this.elements[s]=e[s+r];return this}toArray(e=[],r=0){const s=this.elements;return e[r]=s[0],e[r+1]=s[1],e[r+2]=s[2],e[r+3]=s[3],e[r+4]=s[4],e[r+5]=s[5],e[r+6]=s[6],e[r+7]=s[7],e[r+8]=s[8],e[r+9]=s[9],e[r+10]=s[10],e[r+11]=s[11],e[r+12]=s[12],e[r+13]=s[13],e[r+14]=s[14],e[r+15]=s[15],e}}const _v1$5=new Vector3,_m1$2=new Matrix4,_zero=new Vector3(0,0,0),_one=new Vector3(1,1,1),_x=new Vector3,_y=new Vector3,_z=new Vector3,_matrix=new Matrix4,_quaternion$3=new Quaternion;class Euler{constructor(e=0,r=0,s=0,o=Euler.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=r,this._z=s,this._order=o}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,r,s,o=this._order){return this._x=e,this._y=r,this._z=s,this._order=o,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,r=this._order,s=!0){const o=e.elements,i=o[0],n=o[4],p=o[8],d=o[1],l=o[5],u=o[9],c=o[2],g=o[6],f=o[10];switch(r){case"XYZ":this._y=Math.asin(clamp(p,-1,1)),Math.abs(p)<.9999999?(this._x=Math.atan2(-u,f),this._z=Math.atan2(-n,i)):(this._x=Math.atan2(g,l),this._z=0);break;case"YXZ":this._x=Math.asin(-clamp(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(p,f),this._z=Math.atan2(d,l)):(this._y=Math.atan2(-c,i),this._z=0);break;case"ZXY":this._x=Math.asin(clamp(g,-1,1)),Math.abs(g)<.9999999?(this._y=Math.atan2(-c,f),this._z=Math.atan2(-n,l)):(this._y=0,this._z=Math.atan2(d,i));break;case"ZYX":this._y=Math.asin(-clamp(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(g,f),this._z=Math.atan2(d,i)):(this._x=0,this._z=Math.atan2(-n,l));break;case"YZX":this._z=Math.asin(clamp(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(-u,l),this._y=Math.atan2(-c,i)):(this._x=0,this._y=Math.atan2(p,f));break;case"XZY":this._z=Math.asin(-clamp(n,-1,1)),Math.abs(n)<.9999999?(this._x=Math.atan2(g,l),this._y=Math.atan2(p,i)):(this._x=Math.atan2(-u,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+r)}return this._order=r,s===!0&&this._onChangeCallback(),this}setFromQuaternion(e,r,s){return _matrix.makeRotationFromQuaternion(e),this.setFromRotationMatrix(_matrix,r,s)}setFromVector3(e,r=this._order){return this.set(e.x,e.y,e.z,r)}reorder(e){return _quaternion$3.setFromEuler(this),this.setFromQuaternion(_quaternion$3,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],r=0){return e[r]=this._x,e[r+1]=this._y,e[r+2]=this._z,e[r+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Euler.DEFAULT_ORDER="XYZ";class Layers{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let _object3DId=0;const _v1$4=new Vector3,_q1=new Quaternion,_m1$1=new Matrix4,_target=new Vector3,_position$3=new Vector3,_scale$2=new Vector3,_quaternion$2=new Quaternion,_xAxis=new Vector3(1,0,0),_yAxis=new Vector3(0,1,0),_zAxis=new Vector3(0,0,1),_addedEvent={type:"added"},_removedEvent={type:"removed"};class Object3D extends EventDispatcher{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:_object3DId++}),this.uuid=generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Object3D.DEFAULT_UP.clone();const e=new Vector3,r=new Euler,s=new Quaternion,o=new Vector3(1,1,1);function i(){s.setFromEuler(r,!1)}function n(){r.setFromQuaternion(s,void 0,!1)}r._onChange(i),s._onChange(n),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:r},quaternion:{configurable:!0,enumerable:!0,value:s},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new Matrix4},normalMatrix:{value:new Matrix3}}),this.matrix=new Matrix4,this.matrixWorld=new Matrix4,this.matrixAutoUpdate=Object3D.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Layers,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,r){this.quaternion.setFromAxisAngle(e,r)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,r){return _q1.setFromAxisAngle(e,r),this.quaternion.multiply(_q1),this}rotateOnWorldAxis(e,r){return _q1.setFromAxisAngle(e,r),this.quaternion.premultiply(_q1),this}rotateX(e){return this.rotateOnAxis(_xAxis,e)}rotateY(e){return this.rotateOnAxis(_yAxis,e)}rotateZ(e){return this.rotateOnAxis(_zAxis,e)}translateOnAxis(e,r){return _v1$4.copy(e).applyQuaternion(this.quaternion),this.position.add(_v1$4.multiplyScalar(r)),this}translateX(e){return this.translateOnAxis(_xAxis,e)}translateY(e){return this.translateOnAxis(_yAxis,e)}translateZ(e){return this.translateOnAxis(_zAxis,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(_m1$1.copy(this.matrixWorld).invert())}lookAt(e,r,s){e.isVector3?_target.copy(e):_target.set(e,r,s);const o=this.parent;this.updateWorldMatrix(!0,!1),_position$3.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?_m1$1.lookAt(_position$3,_target,this.up):_m1$1.lookAt(_target,_position$3,this.up),this.quaternion.setFromRotationMatrix(_m1$1),o&&(_m1$1.extractRotation(o.matrixWorld),_q1.setFromRotationMatrix(_m1$1),this.quaternion.premultiply(_q1.invert()))}add(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.add(arguments[r]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(_addedEvent)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let s=0;s<arguments.length;s++)this.remove(arguments[s]);return this}const r=this.children.indexOf(e);return r!==-1&&(e.parent=null,this.children.splice(r,1),e.dispatchEvent(_removedEvent)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const r=this.children[e];r.parent=null,r.dispatchEvent(_removedEvent)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),_m1$1.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),_m1$1.multiply(e.parent.matrixWorld)),e.applyMatrix4(_m1$1),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,r){if(this[e]===r)return this;for(let s=0,o=this.children.length;s<o;s++){const n=this.children[s].getObjectByProperty(e,r);if(n!==void 0)return n}}getObjectsByProperty(e,r){let s=[];this[e]===r&&s.push(this);for(let o=0,i=this.children.length;o<i;o++){const n=this.children[o].getObjectsByProperty(e,r);n.length>0&&(s=s.concat(n))}return s}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,e,_scale$2),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,_quaternion$2,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const r=this.matrixWorld.elements;return e.set(r[8],r[9],r[10]).normalize()}raycast(){}traverse(e){e(this);const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].traverseVisible(e)}traverseAncestors(e){const r=this.parent;r!==null&&(e(r),r.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const r=this.children;for(let s=0,o=r.length;s<o;s++){const i=r[s];(i.matrixWorldAutoUpdate===!0||e===!0)&&i.updateMatrixWorld(e)}}updateWorldMatrix(e,r){const s=this.parent;if(e===!0&&s!==null&&s.matrixWorldAutoUpdate===!0&&s.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),r===!0){const o=this.children;for(let i=0,n=o.length;i<n;i++){const p=o[i];p.matrixWorldAutoUpdate===!0&&p.updateWorldMatrix(!1,!0)}}}toJSON(e){const r=e===void 0||typeof e=="string",s={};r&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},s.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const o={};o.uuid=this.uuid,o.type=this.type,this.name!==""&&(o.name=this.name),this.castShadow===!0&&(o.castShadow=!0),this.receiveShadow===!0&&(o.receiveShadow=!0),this.visible===!1&&(o.visible=!1),this.frustumCulled===!1&&(o.frustumCulled=!1),this.renderOrder!==0&&(o.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(o.userData=this.userData),o.layers=this.layers.mask,o.matrix=this.matrix.toArray(),o.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(o.matrixAutoUpdate=!1),this.isInstancedMesh&&(o.type="InstancedMesh",o.count=this.count,o.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(o.instanceColor=this.instanceColor.toJSON()));function i(p,d){return p[d.uuid]===void 0&&(p[d.uuid]=d.toJSON(e)),d.uuid}if(this.isScene)this.background&&(this.background.isColor?o.background=this.background.toJSON():this.background.isTexture&&(o.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(o.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){o.geometry=i(e.geometries,this.geometry);const p=this.geometry.parameters;if(p!==void 0&&p.shapes!==void 0){const d=p.shapes;if(Array.isArray(d))for(let l=0,u=d.length;l<u;l++){const c=d[l];i(e.shapes,c)}else i(e.shapes,d)}}if(this.isSkinnedMesh&&(o.bindMode=this.bindMode,o.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(i(e.skeletons,this.skeleton),o.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const p=[];for(let d=0,l=this.material.length;d<l;d++)p.push(i(e.materials,this.material[d]));o.material=p}else o.material=i(e.materials,this.material);if(this.children.length>0){o.children=[];for(let p=0;p<this.children.length;p++)o.children.push(this.children[p].toJSON(e).object)}if(this.animations.length>0){o.animations=[];for(let p=0;p<this.animations.length;p++){const d=this.animations[p];o.animations.push(i(e.animations,d))}}if(r){const p=n(e.geometries),d=n(e.materials),l=n(e.textures),u=n(e.images),c=n(e.shapes),g=n(e.skeletons),f=n(e.animations),y=n(e.nodes);p.length>0&&(s.geometries=p),d.length>0&&(s.materials=d),l.length>0&&(s.textures=l),u.length>0&&(s.images=u),c.length>0&&(s.shapes=c),g.length>0&&(s.skeletons=g),f.length>0&&(s.animations=f),y.length>0&&(s.nodes=y)}return s.object=o,s;function n(p){const d=[];for(const l in p){const u=p[l];delete u.metadata,d.push(u)}return d}}clone(e){return new this.constructor().copy(this,e)}copy(e,r=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations,this.userData=JSON.parse(JSON.stringify(e.userData)),r===!0)for(let s=0;s<e.children.length;s++){const o=e.children[s];this.add(o.clone())}return this}}Object3D.DEFAULT_UP=new Vector3(0,1,0);Object3D.DEFAULT_MATRIX_AUTO_UPDATE=!0;Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const _v0$1=new Vector3,_v1$3=new Vector3,_v2$2=new Vector3,_v3$1=new Vector3,_vab=new Vector3,_vac=new Vector3,_vbc=new Vector3,_vap=new Vector3,_vbp=new Vector3,_vcp=new Vector3;let warnedGetUV=!1;class Triangle{constructor(e=new Vector3,r=new Vector3,s=new Vector3){this.a=e,this.b=r,this.c=s}static getNormal(e,r,s,o){o.subVectors(s,r),_v0$1.subVectors(e,r),o.cross(_v0$1);const i=o.lengthSq();return i>0?o.multiplyScalar(1/Math.sqrt(i)):o.set(0,0,0)}static getBarycoord(e,r,s,o,i){_v0$1.subVectors(o,r),_v1$3.subVectors(s,r),_v2$2.subVectors(e,r);const n=_v0$1.dot(_v0$1),p=_v0$1.dot(_v1$3),d=_v0$1.dot(_v2$2),l=_v1$3.dot(_v1$3),u=_v1$3.dot(_v2$2),c=n*l-p*p;if(c===0)return i.set(-2,-1,-1);const g=1/c,f=(l*d-p*u)*g,y=(n*u-p*d)*g;return i.set(1-f-y,y,f)}static containsPoint(e,r,s,o){return this.getBarycoord(e,r,s,o,_v3$1),_v3$1.x>=0&&_v3$1.y>=0&&_v3$1.x+_v3$1.y<=1}static getUV(e,r,s,o,i,n,p,d){return warnedGetUV===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),warnedGetUV=!0),this.getInterpolation(e,r,s,o,i,n,p,d)}static getInterpolation(e,r,s,o,i,n,p,d){return this.getBarycoord(e,r,s,o,_v3$1),d.setScalar(0),d.addScaledVector(i,_v3$1.x),d.addScaledVector(n,_v3$1.y),d.addScaledVector(p,_v3$1.z),d}static isFrontFacing(e,r,s,o){return _v0$1.subVectors(s,r),_v1$3.subVectors(e,r),_v0$1.cross(_v1$3).dot(o)<0}set(e,r,s){return this.a.copy(e),this.b.copy(r),this.c.copy(s),this}setFromPointsAndIndices(e,r,s,o){return this.a.copy(e[r]),this.b.copy(e[s]),this.c.copy(e[o]),this}setFromAttributeAndIndices(e,r,s,o){return this.a.fromBufferAttribute(e,r),this.b.fromBufferAttribute(e,s),this.c.fromBufferAttribute(e,o),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return _v0$1.subVectors(this.c,this.b),_v1$3.subVectors(this.a,this.b),_v0$1.cross(_v1$3).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Triangle.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,r){return Triangle.getBarycoord(e,this.a,this.b,this.c,r)}getUV(e,r,s,o,i){return warnedGetUV===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),warnedGetUV=!0),Triangle.getInterpolation(e,this.a,this.b,this.c,r,s,o,i)}getInterpolation(e,r,s,o,i){return Triangle.getInterpolation(e,this.a,this.b,this.c,r,s,o,i)}containsPoint(e){return Triangle.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Triangle.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,r){const s=this.a,o=this.b,i=this.c;let n,p;_vab.subVectors(o,s),_vac.subVectors(i,s),_vap.subVectors(e,s);const d=_vab.dot(_vap),l=_vac.dot(_vap);if(d<=0&&l<=0)return r.copy(s);_vbp.subVectors(e,o);const u=_vab.dot(_vbp),c=_vac.dot(_vbp);if(u>=0&&c<=u)return r.copy(o);const g=d*c-u*l;if(g<=0&&d>=0&&u<=0)return n=d/(d-u),r.copy(s).addScaledVector(_vab,n);_vcp.subVectors(e,i);const f=_vab.dot(_vcp),y=_vac.dot(_vcp);if(y>=0&&f<=y)return r.copy(i);const _=f*l-d*y;if(_<=0&&l>=0&&y<=0)return p=l/(l-y),r.copy(s).addScaledVector(_vac,p);const m=u*y-f*c;if(m<=0&&c-u>=0&&f-y>=0)return _vbc.subVectors(i,o),p=(c-u)/(c-u+(f-y)),r.copy(o).addScaledVector(_vbc,p);const h=1/(m+_+g);return n=_*h,p=g*h,r.copy(s).addScaledVector(_vab,n).addScaledVector(_vac,p)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let materialId=0;class Material extends EventDispatcher{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:materialId++}),this.uuid=generateUUID(),this.name="",this.type="Material",this.blending=NormalBlending,this.side=FrontSide,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=SrcAlphaFactor,this.blendDst=OneMinusSrcAlphaFactor,this.blendEquation=AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=AlwaysStencilFunc,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=KeepStencilOp,this.stencilZFail=KeepStencilOp,this.stencilZPass=KeepStencilOp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const r in e){const s=e[r];if(s===void 0){console.warn(`THREE.Material: parameter '${r}' has value of undefined.`);continue}const o=this[r];if(o===void 0){console.warn(`THREE.Material: '${r}' is not a property of THREE.${this.type}.`);continue}o&&o.isColor?o.set(s):o&&o.isVector3&&s&&s.isVector3?o.copy(s):this[r]=s}}toJSON(e){const r=e===void 0||typeof e=="string";r&&(e={textures:{},images:{}});const s={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),this.color&&this.color.isColor&&(s.color=this.color.getHex()),this.roughness!==void 0&&(s.roughness=this.roughness),this.metalness!==void 0&&(s.metalness=this.metalness),this.sheen!==void 0&&(s.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(s.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(s.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(s.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(s.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(s.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(s.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(s.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(s.shininess=this.shininess),this.clearcoat!==void 0&&(s.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(s.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(s.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(s.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(s.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,s.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(s.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(s.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(s.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(s.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(s.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(s.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(s.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(s.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(s.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(s.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(s.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(s.lightMap=this.lightMap.toJSON(e).uuid,s.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(s.aoMap=this.aoMap.toJSON(e).uuid,s.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(s.bumpMap=this.bumpMap.toJSON(e).uuid,s.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(s.normalMap=this.normalMap.toJSON(e).uuid,s.normalMapType=this.normalMapType,s.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(s.displacementMap=this.displacementMap.toJSON(e).uuid,s.displacementScale=this.displacementScale,s.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(s.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(s.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(s.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(s.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(s.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(s.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(s.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(s.combine=this.combine)),this.envMapIntensity!==void 0&&(s.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(s.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(s.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(s.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(s.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(s.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(s.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(s.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(s.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(s.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(s.size=this.size),this.shadowSide!==null&&(s.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(s.sizeAttenuation=this.sizeAttenuation),this.blending!==NormalBlending&&(s.blending=this.blending),this.side!==FrontSide&&(s.side=this.side),this.vertexColors&&(s.vertexColors=!0),this.opacity<1&&(s.opacity=this.opacity),this.transparent===!0&&(s.transparent=this.transparent),s.depthFunc=this.depthFunc,s.depthTest=this.depthTest,s.depthWrite=this.depthWrite,s.colorWrite=this.colorWrite,s.stencilWrite=this.stencilWrite,s.stencilWriteMask=this.stencilWriteMask,s.stencilFunc=this.stencilFunc,s.stencilRef=this.stencilRef,s.stencilFuncMask=this.stencilFuncMask,s.stencilFail=this.stencilFail,s.stencilZFail=this.stencilZFail,s.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(s.rotation=this.rotation),this.polygonOffset===!0&&(s.polygonOffset=!0),this.polygonOffsetFactor!==0&&(s.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(s.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(s.linewidth=this.linewidth),this.dashSize!==void 0&&(s.dashSize=this.dashSize),this.gapSize!==void 0&&(s.gapSize=this.gapSize),this.scale!==void 0&&(s.scale=this.scale),this.dithering===!0&&(s.dithering=!0),this.alphaTest>0&&(s.alphaTest=this.alphaTest),this.alphaHash===!0&&(s.alphaHash=this.alphaHash),this.alphaToCoverage===!0&&(s.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(s.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(s.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(s.wireframe=this.wireframe),this.wireframeLinewidth>1&&(s.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(s.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(s.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(s.flatShading=this.flatShading),this.visible===!1&&(s.visible=!1),this.toneMapped===!1&&(s.toneMapped=!1),this.fog===!1&&(s.fog=!1),Object.keys(this.userData).length>0&&(s.userData=this.userData);function o(i){const n=[];for(const p in i){const d=i[p];delete d.metadata,n.push(d)}return n}if(r){const i=o(e.textures),n=o(e.images);i.length>0&&(s.textures=i),n.length>0&&(s.images=n)}return s}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const r=e.clippingPlanes;let s=null;if(r!==null){const o=r.length;s=new Array(o);for(let i=0;i!==o;++i)s[i]=r[i].clone()}return this.clippingPlanes=s,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const _colorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_hslA={h:0,s:0,l:0},_hslB={h:0,s:0,l:0};function hue2rgb(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*6*(2/3-r):t}class Color{constructor(e,r,s){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,r,s)}set(e,r,s){if(r===void 0&&s===void 0){const o=e;o&&o.isColor?this.copy(o):typeof o=="number"?this.setHex(o):typeof o=="string"&&this.setStyle(o)}else this.setRGB(e,r,s);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,r=SRGBColorSpace){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,ColorManagement.toWorkingColorSpace(this,r),this}setRGB(e,r,s,o=ColorManagement.workingColorSpace){return this.r=e,this.g=r,this.b=s,ColorManagement.toWorkingColorSpace(this,o),this}setHSL(e,r,s,o=ColorManagement.workingColorSpace){if(e=euclideanModulo(e,1),r=clamp(r,0,1),s=clamp(s,0,1),r===0)this.r=this.g=this.b=s;else{const i=s<=.5?s*(1+r):s+r-s*r,n=2*s-i;this.r=hue2rgb(n,i,e+1/3),this.g=hue2rgb(n,i,e),this.b=hue2rgb(n,i,e-1/3)}return ColorManagement.toWorkingColorSpace(this,o),this}setStyle(e,r=SRGBColorSpace){function s(i){i!==void 0&&parseFloat(i)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let o;if(o=/^(\w+)\(([^\)]*)\)/.exec(e)){let i;const n=o[1],p=o[2];switch(n){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(p))return s(i[4]),this.setRGB(Math.min(255,parseInt(i[1],10))/255,Math.min(255,parseInt(i[2],10))/255,Math.min(255,parseInt(i[3],10))/255,r);if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(p))return s(i[4]),this.setRGB(Math.min(100,parseInt(i[1],10))/100,Math.min(100,parseInt(i[2],10))/100,Math.min(100,parseInt(i[3],10))/100,r);break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(p))return s(i[4]),this.setHSL(parseFloat(i[1])/360,parseFloat(i[2])/100,parseFloat(i[3])/100,r);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(o=/^\#([A-Fa-f\d]+)$/.exec(e)){const i=o[1],n=i.length;if(n===3)return this.setRGB(parseInt(i.charAt(0),16)/15,parseInt(i.charAt(1),16)/15,parseInt(i.charAt(2),16)/15,r);if(n===6)return this.setHex(parseInt(i,16),r);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,r);return this}setColorName(e,r=SRGBColorSpace){const s=_colorKeywords[e.toLowerCase()];return s!==void 0?this.setHex(s,r):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=SRGBToLinear(e.r),this.g=SRGBToLinear(e.g),this.b=SRGBToLinear(e.b),this}copyLinearToSRGB(e){return this.r=LinearToSRGB(e.r),this.g=LinearToSRGB(e.g),this.b=LinearToSRGB(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=SRGBColorSpace){return ColorManagement.fromWorkingColorSpace(_color.copy(this),e),Math.round(clamp(_color.r*255,0,255))*65536+Math.round(clamp(_color.g*255,0,255))*256+Math.round(clamp(_color.b*255,0,255))}getHexString(e=SRGBColorSpace){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,r=ColorManagement.workingColorSpace){ColorManagement.fromWorkingColorSpace(_color.copy(this),r);const s=_color.r,o=_color.g,i=_color.b,n=Math.max(s,o,i),p=Math.min(s,o,i);let d,l;const u=(p+n)/2;if(p===n)d=0,l=0;else{const c=n-p;switch(l=u<=.5?c/(n+p):c/(2-n-p),n){case s:d=(o-i)/c+(o<i?6:0);break;case o:d=(i-s)/c+2;break;case i:d=(s-o)/c+4;break}d/=6}return e.h=d,e.s=l,e.l=u,e}getRGB(e,r=ColorManagement.workingColorSpace){return ColorManagement.fromWorkingColorSpace(_color.copy(this),r),e.r=_color.r,e.g=_color.g,e.b=_color.b,e}getStyle(e=SRGBColorSpace){ColorManagement.fromWorkingColorSpace(_color.copy(this),e);const r=_color.r,s=_color.g,o=_color.b;return e!==SRGBColorSpace?`color(${e} ${r.toFixed(3)} ${s.toFixed(3)} ${o.toFixed(3)})`:`rgb(${Math.round(r*255)},${Math.round(s*255)},${Math.round(o*255)})`}offsetHSL(e,r,s){return this.getHSL(_hslA),_hslA.h+=e,_hslA.s+=r,_hslA.l+=s,this.setHSL(_hslA.h,_hslA.s,_hslA.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,r){return this.r=e.r+r.r,this.g=e.g+r.g,this.b=e.b+r.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,r){return this.r+=(e.r-this.r)*r,this.g+=(e.g-this.g)*r,this.b+=(e.b-this.b)*r,this}lerpColors(e,r,s){return this.r=e.r+(r.r-e.r)*s,this.g=e.g+(r.g-e.g)*s,this.b=e.b+(r.b-e.b)*s,this}lerpHSL(e,r){this.getHSL(_hslA),e.getHSL(_hslB);const s=lerp(_hslA.h,_hslB.h,r),o=lerp(_hslA.s,_hslB.s,r),i=lerp(_hslA.l,_hslB.l,r);return this.setHSL(s,o,i),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const r=this.r,s=this.g,o=this.b,i=e.elements;return this.r=i[0]*r+i[3]*s+i[6]*o,this.g=i[1]*r+i[4]*s+i[7]*o,this.b=i[2]*r+i[5]*s+i[8]*o,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,r=0){return this.r=e[r],this.g=e[r+1],this.b=e[r+2],this}toArray(e=[],r=0){return e[r]=this.r,e[r+1]=this.g,e[r+2]=this.b,e}fromBufferAttribute(e,r){return this.r=e.getX(r),this.g=e.getY(r),this.b=e.getZ(r),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const _color=new Color;Color.NAMES=_colorKeywords;class MeshBasicMaterial extends Material{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const _vector$8=new Vector3,_vector2$1=new Vector2;class BufferAttribute{constructor(e,r,s=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=r,this.count=e!==void 0?e.length/r:0,this.normalized=s,this.usage=StaticDrawUsage,this.updateRange={offset:0,count:-1},this.gpuType=FloatType,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,r,s){e*=this.itemSize,s*=r.itemSize;for(let o=0,i=this.itemSize;o<i;o++)this.array[e+o]=r.array[s+o];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let r=0,s=this.count;r<s;r++)_vector2$1.fromBufferAttribute(this,r),_vector2$1.applyMatrix3(e),this.setXY(r,_vector2$1.x,_vector2$1.y);else if(this.itemSize===3)for(let r=0,s=this.count;r<s;r++)_vector$8.fromBufferAttribute(this,r),_vector$8.applyMatrix3(e),this.setXYZ(r,_vector$8.x,_vector$8.y,_vector$8.z);return this}applyMatrix4(e){for(let r=0,s=this.count;r<s;r++)_vector$8.fromBufferAttribute(this,r),_vector$8.applyMatrix4(e),this.setXYZ(r,_vector$8.x,_vector$8.y,_vector$8.z);return this}applyNormalMatrix(e){for(let r=0,s=this.count;r<s;r++)_vector$8.fromBufferAttribute(this,r),_vector$8.applyNormalMatrix(e),this.setXYZ(r,_vector$8.x,_vector$8.y,_vector$8.z);return this}transformDirection(e){for(let r=0,s=this.count;r<s;r++)_vector$8.fromBufferAttribute(this,r),_vector$8.transformDirection(e),this.setXYZ(r,_vector$8.x,_vector$8.y,_vector$8.z);return this}set(e,r=0){return this.array.set(e,r),this}getX(e){let r=this.array[e*this.itemSize];return this.normalized&&(r=denormalize(r,this.array)),r}setX(e,r){return this.normalized&&(r=normalize(r,this.array)),this.array[e*this.itemSize]=r,this}getY(e){let r=this.array[e*this.itemSize+1];return this.normalized&&(r=denormalize(r,this.array)),r}setY(e,r){return this.normalized&&(r=normalize(r,this.array)),this.array[e*this.itemSize+1]=r,this}getZ(e){let r=this.array[e*this.itemSize+2];return this.normalized&&(r=denormalize(r,this.array)),r}setZ(e,r){return this.normalized&&(r=normalize(r,this.array)),this.array[e*this.itemSize+2]=r,this}getW(e){let r=this.array[e*this.itemSize+3];return this.normalized&&(r=denormalize(r,this.array)),r}setW(e,r){return this.normalized&&(r=normalize(r,this.array)),this.array[e*this.itemSize+3]=r,this}setXY(e,r,s){return e*=this.itemSize,this.normalized&&(r=normalize(r,this.array),s=normalize(s,this.array)),this.array[e+0]=r,this.array[e+1]=s,this}setXYZ(e,r,s,o){return e*=this.itemSize,this.normalized&&(r=normalize(r,this.array),s=normalize(s,this.array),o=normalize(o,this.array)),this.array[e+0]=r,this.array[e+1]=s,this.array[e+2]=o,this}setXYZW(e,r,s,o,i){return e*=this.itemSize,this.normalized&&(r=normalize(r,this.array),s=normalize(s,this.array),o=normalize(o,this.array),i=normalize(i,this.array)),this.array[e+0]=r,this.array[e+1]=s,this.array[e+2]=o,this.array[e+3]=i,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==StaticDrawUsage&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}class Uint16BufferAttribute extends BufferAttribute{constructor(e,r,s){super(new Uint16Array(e),r,s)}}class Uint32BufferAttribute extends BufferAttribute{constructor(e,r,s){super(new Uint32Array(e),r,s)}}class Float32BufferAttribute extends BufferAttribute{constructor(e,r,s){super(new Float32Array(e),r,s)}}let _id$1=0;const _m1=new Matrix4,_obj=new Object3D,_offset=new Vector3,_box$1=new Box3,_boxMorphTargets=new Box3,_vector$7=new Vector3;class BufferGeometry extends EventDispatcher{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:_id$1++}),this.uuid=generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(arrayNeedsUint32(e)?Uint32BufferAttribute:Uint16BufferAttribute)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,r){return this.attributes[e]=r,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,r,s=0){this.groups.push({start:e,count:r,materialIndex:s})}clearGroups(){this.groups=[]}setDrawRange(e,r){this.drawRange.start=e,this.drawRange.count=r}applyMatrix4(e){const r=this.attributes.position;r!==void 0&&(r.applyMatrix4(e),r.needsUpdate=!0);const s=this.attributes.normal;if(s!==void 0){const i=new Matrix3().getNormalMatrix(e);s.applyNormalMatrix(i),s.needsUpdate=!0}const o=this.attributes.tangent;return o!==void 0&&(o.transformDirection(e),o.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return _m1.makeRotationFromQuaternion(e),this.applyMatrix4(_m1),this}rotateX(e){return _m1.makeRotationX(e),this.applyMatrix4(_m1),this}rotateY(e){return _m1.makeRotationY(e),this.applyMatrix4(_m1),this}rotateZ(e){return _m1.makeRotationZ(e),this.applyMatrix4(_m1),this}translate(e,r,s){return _m1.makeTranslation(e,r,s),this.applyMatrix4(_m1),this}scale(e,r,s){return _m1.makeScale(e,r,s),this.applyMatrix4(_m1),this}lookAt(e){return _obj.lookAt(e),_obj.updateMatrix(),this.applyMatrix4(_obj.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_offset).negate(),this.translate(_offset.x,_offset.y,_offset.z),this}setFromPoints(e){const r=[];for(let s=0,o=e.length;s<o;s++){const i=e[s];r.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new Float32BufferAttribute(r,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const e=this.attributes.position,r=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Vector3(-1/0,-1/0,-1/0),new Vector3(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),r)for(let s=0,o=r.length;s<o;s++){const i=r[s];_box$1.setFromBufferAttribute(i),this.morphTargetsRelative?(_vector$7.addVectors(this.boundingBox.min,_box$1.min),this.boundingBox.expandByPoint(_vector$7),_vector$7.addVectors(this.boundingBox.max,_box$1.max),this.boundingBox.expandByPoint(_vector$7)):(this.boundingBox.expandByPoint(_box$1.min),this.boundingBox.expandByPoint(_box$1.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere);const e=this.attributes.position,r=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Vector3,1/0);return}if(e){const s=this.boundingSphere.center;if(_box$1.setFromBufferAttribute(e),r)for(let i=0,n=r.length;i<n;i++){const p=r[i];_boxMorphTargets.setFromBufferAttribute(p),this.morphTargetsRelative?(_vector$7.addVectors(_box$1.min,_boxMorphTargets.min),_box$1.expandByPoint(_vector$7),_vector$7.addVectors(_box$1.max,_boxMorphTargets.max),_box$1.expandByPoint(_vector$7)):(_box$1.expandByPoint(_boxMorphTargets.min),_box$1.expandByPoint(_boxMorphTargets.max))}_box$1.getCenter(s);let o=0;for(let i=0,n=e.count;i<n;i++)_vector$7.fromBufferAttribute(e,i),o=Math.max(o,s.distanceToSquared(_vector$7));if(r)for(let i=0,n=r.length;i<n;i++){const p=r[i],d=this.morphTargetsRelative;for(let l=0,u=p.count;l<u;l++)_vector$7.fromBufferAttribute(p,l),d&&(_offset.fromBufferAttribute(e,l),_vector$7.add(_offset)),o=Math.max(o,s.distanceToSquared(_vector$7))}this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,r=this.attributes;if(e===null||r.position===void 0||r.normal===void 0||r.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const s=e.array,o=r.position.array,i=r.normal.array,n=r.uv.array,p=o.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new BufferAttribute(new Float32Array(4*p),4));const d=this.getAttribute("tangent").array,l=[],u=[];for(let E=0;E<p;E++)l[E]=new Vector3,u[E]=new Vector3;const c=new Vector3,g=new Vector3,f=new Vector3,y=new Vector2,_=new Vector2,m=new Vector2,h=new Vector3,R=new Vector3;function b(E,B,N){c.fromArray(o,E*3),g.fromArray(o,B*3),f.fromArray(o,N*3),y.fromArray(n,E*2),_.fromArray(n,B*2),m.fromArray(n,N*2),g.sub(c),f.sub(c),_.sub(y),m.sub(y);const w=1/(_.x*m.y-m.x*_.y);isFinite(w)&&(h.copy(g).multiplyScalar(m.y).addScaledVector(f,-_.y).multiplyScalar(w),R.copy(f).multiplyScalar(_.x).addScaledVector(g,-m.x).multiplyScalar(w),l[E].add(h),l[B].add(h),l[N].add(h),u[E].add(R),u[B].add(R),u[N].add(R))}let v=this.groups;v.length===0&&(v=[{start:0,count:s.length}]);for(let E=0,B=v.length;E<B;++E){const N=v[E],w=N.start,D=N.count;for(let G=w,K=w+D;G<K;G+=3)b(s[G+0],s[G+1],s[G+2])}const S=new Vector3,T=new Vector3,O=new Vector3,C=new Vector3;function M(E){O.fromArray(i,E*3),C.copy(O);const B=l[E];S.copy(B),S.sub(O.multiplyScalar(O.dot(B))).normalize(),T.crossVectors(C,B);const w=T.dot(u[E])<0?-1:1;d[E*4]=S.x,d[E*4+1]=S.y,d[E*4+2]=S.z,d[E*4+3]=w}for(let E=0,B=v.length;E<B;++E){const N=v[E],w=N.start,D=N.count;for(let G=w,K=w+D;G<K;G+=3)M(s[G+0]),M(s[G+1]),M(s[G+2])}}computeVertexNormals(){const e=this.index,r=this.getAttribute("position");if(r!==void 0){let s=this.getAttribute("normal");if(s===void 0)s=new BufferAttribute(new Float32Array(r.count*3),3),this.setAttribute("normal",s);else for(let g=0,f=s.count;g<f;g++)s.setXYZ(g,0,0,0);const o=new Vector3,i=new Vector3,n=new Vector3,p=new Vector3,d=new Vector3,l=new Vector3,u=new Vector3,c=new Vector3;if(e)for(let g=0,f=e.count;g<f;g+=3){const y=e.getX(g+0),_=e.getX(g+1),m=e.getX(g+2);o.fromBufferAttribute(r,y),i.fromBufferAttribute(r,_),n.fromBufferAttribute(r,m),u.subVectors(n,i),c.subVectors(o,i),u.cross(c),p.fromBufferAttribute(s,y),d.fromBufferAttribute(s,_),l.fromBufferAttribute(s,m),p.add(u),d.add(u),l.add(u),s.setXYZ(y,p.x,p.y,p.z),s.setXYZ(_,d.x,d.y,d.z),s.setXYZ(m,l.x,l.y,l.z)}else for(let g=0,f=r.count;g<f;g+=3)o.fromBufferAttribute(r,g+0),i.fromBufferAttribute(r,g+1),n.fromBufferAttribute(r,g+2),u.subVectors(n,i),c.subVectors(o,i),u.cross(c),s.setXYZ(g+0,u.x,u.y,u.z),s.setXYZ(g+1,u.x,u.y,u.z),s.setXYZ(g+2,u.x,u.y,u.z);this.normalizeNormals(),s.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let r=0,s=e.count;r<s;r++)_vector$7.fromBufferAttribute(e,r),_vector$7.normalize(),e.setXYZ(r,_vector$7.x,_vector$7.y,_vector$7.z)}toNonIndexed(){function e(p,d){const l=p.array,u=p.itemSize,c=p.normalized,g=new l.constructor(d.length*u);let f=0,y=0;for(let _=0,m=d.length;_<m;_++){p.isInterleavedBufferAttribute?f=d[_]*p.data.stride+p.offset:f=d[_]*u;for(let h=0;h<u;h++)g[y++]=l[f++]}return new BufferAttribute(g,u,c)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const r=new BufferGeometry,s=this.index.array,o=this.attributes;for(const p in o){const d=o[p],l=e(d,s);r.setAttribute(p,l)}const i=this.morphAttributes;for(const p in i){const d=[],l=i[p];for(let u=0,c=l.length;u<c;u++){const g=l[u],f=e(g,s);d.push(f)}r.morphAttributes[p]=d}r.morphTargetsRelative=this.morphTargetsRelative;const n=this.groups;for(let p=0,d=n.length;p<d;p++){const l=n[p];r.addGroup(l.start,l.count,l.materialIndex)}return r}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const d=this.parameters;for(const l in d)d[l]!==void 0&&(e[l]=d[l]);return e}e.data={attributes:{}};const r=this.index;r!==null&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});const s=this.attributes;for(const d in s){const l=s[d];e.data.attributes[d]=l.toJSON(e.data)}const o={};let i=!1;for(const d in this.morphAttributes){const l=this.morphAttributes[d],u=[];for(let c=0,g=l.length;c<g;c++){const f=l[c];u.push(f.toJSON(e.data))}u.length>0&&(o[d]=u,i=!0)}i&&(e.data.morphAttributes=o,e.data.morphTargetsRelative=this.morphTargetsRelative);const n=this.groups;n.length>0&&(e.data.groups=JSON.parse(JSON.stringify(n)));const p=this.boundingSphere;return p!==null&&(e.data.boundingSphere={center:p.center.toArray(),radius:p.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const r={};this.name=e.name;const s=e.index;s!==null&&this.setIndex(s.clone(r));const o=e.attributes;for(const l in o){const u=o[l];this.setAttribute(l,u.clone(r))}const i=e.morphAttributes;for(const l in i){const u=[],c=i[l];for(let g=0,f=c.length;g<f;g++)u.push(c[g].clone(r));this.morphAttributes[l]=u}this.morphTargetsRelative=e.morphTargetsRelative;const n=e.groups;for(let l=0,u=n.length;l<u;l++){const c=n[l];this.addGroup(c.start,c.count,c.materialIndex)}const p=e.boundingBox;p!==null&&(this.boundingBox=p.clone());const d=e.boundingSphere;return d!==null&&(this.boundingSphere=d.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const _inverseMatrix$3=new Matrix4,_ray$3=new Ray,_sphere$5=new Sphere,_sphereHitAt=new Vector3,_vA$1=new Vector3,_vB$1=new Vector3,_vC$1=new Vector3,_tempA=new Vector3,_morphA=new Vector3,_uvA$1=new Vector2,_uvB$1=new Vector2,_uvC$1=new Vector2,_normalA=new Vector3,_normalB=new Vector3,_normalC=new Vector3,_intersectionPoint=new Vector3,_intersectionPointWorld=new Vector3;class Mesh extends Object3D{constructor(e=new BufferGeometry,r=new MeshBasicMaterial){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=r,this.updateMorphTargets()}copy(e,r){return super.copy(e,r),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const r=this.geometry.morphAttributes,s=Object.keys(r);if(s.length>0){const o=r[s[0]];if(o!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let i=0,n=o.length;i<n;i++){const p=o[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[p]=i}}}}getVertexPosition(e,r){const s=this.geometry,o=s.attributes.position,i=s.morphAttributes.position,n=s.morphTargetsRelative;r.fromBufferAttribute(o,e);const p=this.morphTargetInfluences;if(i&&p){_morphA.set(0,0,0);for(let d=0,l=i.length;d<l;d++){const u=p[d],c=i[d];u!==0&&(_tempA.fromBufferAttribute(c,e),n?_morphA.addScaledVector(_tempA,u):_morphA.addScaledVector(_tempA.sub(r),u))}r.add(_morphA)}return r}raycast(e,r){const s=this.geometry,o=this.material,i=this.matrixWorld;o!==void 0&&(s.boundingSphere===null&&s.computeBoundingSphere(),_sphere$5.copy(s.boundingSphere),_sphere$5.applyMatrix4(i),_ray$3.copy(e.ray).recast(e.near),!(_sphere$5.containsPoint(_ray$3.origin)===!1&&(_ray$3.intersectSphere(_sphere$5,_sphereHitAt)===null||_ray$3.origin.distanceToSquared(_sphereHitAt)>(e.far-e.near)**2))&&(_inverseMatrix$3.copy(i).invert(),_ray$3.copy(e.ray).applyMatrix4(_inverseMatrix$3),!(s.boundingBox!==null&&_ray$3.intersectsBox(s.boundingBox)===!1)&&this._computeIntersections(e,r,_ray$3)))}_computeIntersections(e,r,s){let o;const i=this.geometry,n=this.material,p=i.index,d=i.attributes.position,l=i.attributes.uv,u=i.attributes.uv1,c=i.attributes.normal,g=i.groups,f=i.drawRange;if(p!==null)if(Array.isArray(n))for(let y=0,_=g.length;y<_;y++){const m=g[y],h=n[m.materialIndex],R=Math.max(m.start,f.start),b=Math.min(p.count,Math.min(m.start+m.count,f.start+f.count));for(let v=R,S=b;v<S;v+=3){const T=p.getX(v),O=p.getX(v+1),C=p.getX(v+2);o=checkGeometryIntersection(this,h,e,s,l,u,c,T,O,C),o&&(o.faceIndex=Math.floor(v/3),o.face.materialIndex=m.materialIndex,r.push(o))}}else{const y=Math.max(0,f.start),_=Math.min(p.count,f.start+f.count);for(let m=y,h=_;m<h;m+=3){const R=p.getX(m),b=p.getX(m+1),v=p.getX(m+2);o=checkGeometryIntersection(this,n,e,s,l,u,c,R,b,v),o&&(o.faceIndex=Math.floor(m/3),r.push(o))}}else if(d!==void 0)if(Array.isArray(n))for(let y=0,_=g.length;y<_;y++){const m=g[y],h=n[m.materialIndex],R=Math.max(m.start,f.start),b=Math.min(d.count,Math.min(m.start+m.count,f.start+f.count));for(let v=R,S=b;v<S;v+=3){const T=v,O=v+1,C=v+2;o=checkGeometryIntersection(this,h,e,s,l,u,c,T,O,C),o&&(o.faceIndex=Math.floor(v/3),o.face.materialIndex=m.materialIndex,r.push(o))}}else{const y=Math.max(0,f.start),_=Math.min(d.count,f.start+f.count);for(let m=y,h=_;m<h;m+=3){const R=m,b=m+1,v=m+2;o=checkGeometryIntersection(this,n,e,s,l,u,c,R,b,v),o&&(o.faceIndex=Math.floor(m/3),r.push(o))}}}}function checkIntersection(t,e,r,s,o,i,n,p){let d;if(e.side===BackSide?d=s.intersectTriangle(n,i,o,!0,p):d=s.intersectTriangle(o,i,n,e.side===FrontSide,p),d===null)return null;_intersectionPointWorld.copy(p),_intersectionPointWorld.applyMatrix4(t.matrixWorld);const l=r.ray.origin.distanceTo(_intersectionPointWorld);return l<r.near||l>r.far?null:{distance:l,point:_intersectionPointWorld.clone(),object:t}}function checkGeometryIntersection(t,e,r,s,o,i,n,p,d,l){t.getVertexPosition(p,_vA$1),t.getVertexPosition(d,_vB$1),t.getVertexPosition(l,_vC$1);const u=checkIntersection(t,e,r,s,_vA$1,_vB$1,_vC$1,_intersectionPoint);if(u){o&&(_uvA$1.fromBufferAttribute(o,p),_uvB$1.fromBufferAttribute(o,d),_uvC$1.fromBufferAttribute(o,l),u.uv=Triangle.getInterpolation(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2)),i&&(_uvA$1.fromBufferAttribute(i,p),_uvB$1.fromBufferAttribute(i,d),_uvC$1.fromBufferAttribute(i,l),u.uv1=Triangle.getInterpolation(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2),u.uv2=u.uv1),n&&(_normalA.fromBufferAttribute(n,p),_normalB.fromBufferAttribute(n,d),_normalC.fromBufferAttribute(n,l),u.normal=Triangle.getInterpolation(_intersectionPoint,_vA$1,_vB$1,_vC$1,_normalA,_normalB,_normalC,new Vector3),u.normal.dot(s.direction)>0&&u.normal.multiplyScalar(-1));const c={a:p,b:d,c:l,normal:new Vector3,materialIndex:0};Triangle.getNormal(_vA$1,_vB$1,_vC$1,c.normal),u.face=c}return u}class BoxGeometry extends BufferGeometry{constructor(e=1,r=1,s=1,o=1,i=1,n=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:r,depth:s,widthSegments:o,heightSegments:i,depthSegments:n};const p=this;o=Math.floor(o),i=Math.floor(i),n=Math.floor(n);const d=[],l=[],u=[],c=[];let g=0,f=0;y("z","y","x",-1,-1,s,r,e,n,i,0),y("z","y","x",1,-1,s,r,-e,n,i,1),y("x","z","y",1,1,e,s,r,o,n,2),y("x","z","y",1,-1,e,s,-r,o,n,3),y("x","y","z",1,-1,e,r,s,o,i,4),y("x","y","z",-1,-1,e,r,-s,o,i,5),this.setIndex(d),this.setAttribute("position",new Float32BufferAttribute(l,3)),this.setAttribute("normal",new Float32BufferAttribute(u,3)),this.setAttribute("uv",new Float32BufferAttribute(c,2));function y(_,m,h,R,b,v,S,T,O,C,M){const E=v/O,B=S/C,N=v/2,w=S/2,D=T/2,G=O+1,K=C+1;let j=0,Y=0;const J=new Vector3;for(let q=0;q<K;q++){const U=q*B-w;for(let W=0;W<G;W++){const ne=W*E-N;J[_]=ne*R,J[m]=U*b,J[h]=D,l.push(J.x,J.y,J.z),J[_]=0,J[m]=0,J[h]=T>0?1:-1,u.push(J.x,J.y,J.z),c.push(W/O),c.push(1-q/C),j+=1}}for(let q=0;q<C;q++)for(let U=0;U<O;U++){const W=g+U+G*q,ne=g+U+G*(q+1),ae=g+(U+1)+G*(q+1),se=g+(U+1)+G*q;d.push(W,ne,se),d.push(ne,ae,se),Y+=6}p.addGroup(f,Y,M),f+=Y,g+=j}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new BoxGeometry(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function cloneUniforms(t){const e={};for(const r in t){e[r]={};for(const s in t[r]){const o=t[r][s];o&&(o.isColor||o.isMatrix3||o.isMatrix4||o.isVector2||o.isVector3||o.isVector4||o.isTexture||o.isQuaternion)?o.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[r][s]=null):e[r][s]=o.clone():Array.isArray(o)?e[r][s]=o.slice():e[r][s]=o}}return e}function mergeUniforms(t){const e={};for(let r=0;r<t.length;r++){const s=cloneUniforms(t[r]);for(const o in s)e[o]=s[o]}return e}function cloneUniformsGroups(t){const e=[];for(let r=0;r<t.length;r++)e.push(t[r].clone());return e}function getUnlitUniformColorSpace(t){return t.getRenderTarget()===null?t.outputColorSpace:LinearSRGBColorSpace}const UniformsUtils={clone:cloneUniforms,merge:mergeUniforms};var default_vertex=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,default_fragment=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ShaderMaterial extends Material{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=default_vertex,this.fragmentShader=default_fragment,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=cloneUniforms(e.uniforms),this.uniformsGroups=cloneUniformsGroups(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const r=super.toJSON(e);r.glslVersion=this.glslVersion,r.uniforms={};for(const o in this.uniforms){const n=this.uniforms[o].value;n&&n.isTexture?r.uniforms[o]={type:"t",value:n.toJSON(e).uuid}:n&&n.isColor?r.uniforms[o]={type:"c",value:n.getHex()}:n&&n.isVector2?r.uniforms[o]={type:"v2",value:n.toArray()}:n&&n.isVector3?r.uniforms[o]={type:"v3",value:n.toArray()}:n&&n.isVector4?r.uniforms[o]={type:"v4",value:n.toArray()}:n&&n.isMatrix3?r.uniforms[o]={type:"m3",value:n.toArray()}:n&&n.isMatrix4?r.uniforms[o]={type:"m4",value:n.toArray()}:r.uniforms[o]={value:n}}Object.keys(this.defines).length>0&&(r.defines=this.defines),r.vertexShader=this.vertexShader,r.fragmentShader=this.fragmentShader,r.lights=this.lights,r.clipping=this.clipping;const s={};for(const o in this.extensions)this.extensions[o]===!0&&(s[o]=!0);return Object.keys(s).length>0&&(r.extensions=s),r}}class Camera extends Object3D{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Matrix4,this.projectionMatrix=new Matrix4,this.projectionMatrixInverse=new Matrix4,this.coordinateSystem=WebGLCoordinateSystem}copy(e,r){return super.copy(e,r),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const r=this.matrixWorld.elements;return e.set(-r[8],-r[9],-r[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,r){super.updateWorldMatrix(e,r),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class PerspectiveCamera extends Camera{constructor(e=50,r=1,s=.1,o=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=s,this.far=o,this.focus=10,this.aspect=r,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,r){return super.copy(e,r),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const r=.5*this.getFilmHeight()/e;this.fov=RAD2DEG*2*Math.atan(r),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return RAD2DEG*2*Math.atan(Math.tan(DEG2RAD*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,r,s,o,i,n){this.aspect=e/r,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=r,this.view.offsetX=s,this.view.offsetY=o,this.view.width=i,this.view.height=n,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let r=e*Math.tan(DEG2RAD*.5*this.fov)/this.zoom,s=2*r,o=this.aspect*s,i=-.5*o;const n=this.view;if(this.view!==null&&this.view.enabled){const d=n.fullWidth,l=n.fullHeight;i+=n.offsetX*o/d,r-=n.offsetY*s/l,o*=n.width/d,s*=n.height/l}const p=this.filmOffset;p!==0&&(i+=e*p/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+o,r,r-s,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const r=super.toJSON(e);return r.object.fov=this.fov,r.object.zoom=this.zoom,r.object.near=this.near,r.object.far=this.far,r.object.focus=this.focus,r.object.aspect=this.aspect,this.view!==null&&(r.object.view=Object.assign({},this.view)),r.object.filmGauge=this.filmGauge,r.object.filmOffset=this.filmOffset,r}}const fov=-90,aspect=1;class CubeCamera extends Object3D{constructor(e,r,s){super(),this.type="CubeCamera",this.renderTarget=s,this.coordinateSystem=null;const o=new PerspectiveCamera(fov,aspect,e,r);o.layers=this.layers,this.add(o);const i=new PerspectiveCamera(fov,aspect,e,r);i.layers=this.layers,this.add(i);const n=new PerspectiveCamera(fov,aspect,e,r);n.layers=this.layers,this.add(n);const p=new PerspectiveCamera(fov,aspect,e,r);p.layers=this.layers,this.add(p);const d=new PerspectiveCamera(fov,aspect,e,r);d.layers=this.layers,this.add(d);const l=new PerspectiveCamera(fov,aspect,e,r);l.layers=this.layers,this.add(l)}updateCoordinateSystem(){const e=this.coordinateSystem,r=this.children.concat(),[s,o,i,n,p,d]=r;for(const l of r)this.remove(l);if(e===WebGLCoordinateSystem)s.up.set(0,1,0),s.lookAt(1,0,0),o.up.set(0,1,0),o.lookAt(-1,0,0),i.up.set(0,0,-1),i.lookAt(0,1,0),n.up.set(0,0,1),n.lookAt(0,-1,0),p.up.set(0,1,0),p.lookAt(0,0,1),d.up.set(0,1,0),d.lookAt(0,0,-1);else if(e===WebGPUCoordinateSystem)s.up.set(0,-1,0),s.lookAt(-1,0,0),o.up.set(0,-1,0),o.lookAt(1,0,0),i.up.set(0,0,1),i.lookAt(0,1,0),n.up.set(0,0,-1),n.lookAt(0,-1,0),p.up.set(0,-1,0),p.lookAt(0,0,1),d.up.set(0,-1,0),d.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const l of r)this.add(l),l.updateMatrixWorld()}update(e,r){this.parent===null&&this.updateMatrixWorld();const s=this.renderTarget;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[o,i,n,p,d,l]=this.children,u=e.getRenderTarget(),c=e.toneMapping,g=e.xr.enabled;e.toneMapping=NoToneMapping,e.xr.enabled=!1;const f=s.texture.generateMipmaps;s.texture.generateMipmaps=!1,e.setRenderTarget(s,0),e.render(r,o),e.setRenderTarget(s,1),e.render(r,i),e.setRenderTarget(s,2),e.render(r,n),e.setRenderTarget(s,3),e.render(r,p),e.setRenderTarget(s,4),e.render(r,d),s.texture.generateMipmaps=f,e.setRenderTarget(s,5),e.render(r,l),e.setRenderTarget(u),e.toneMapping=c,e.xr.enabled=g,s.texture.needsPMREMUpdate=!0}}class CubeTexture extends Texture{constructor(e,r,s,o,i,n,p,d,l,u){e=e!==void 0?e:[],r=r!==void 0?r:CubeReflectionMapping,super(e,r,s,o,i,n,p,d,l,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class WebGLCubeRenderTarget extends WebGLRenderTarget{constructor(e=1,r={}){super(e,e,r),this.isWebGLCubeRenderTarget=!0;const s={width:e,height:e,depth:1},o=[s,s,s,s,s,s];r.encoding!==void 0&&(warnOnce("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===sRGBEncoding?SRGBColorSpace:NoColorSpace),this.texture=new CubeTexture(o,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:LinearFilter}fromEquirectangularTexture(e,r){this.texture.type=r.type,this.texture.colorSpace=r.colorSpace,this.texture.generateMipmaps=r.generateMipmaps,this.texture.minFilter=r.minFilter,this.texture.magFilter=r.magFilter;const s={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},o=new BoxGeometry(5,5,5),i=new ShaderMaterial({name:"CubemapFromEquirect",uniforms:cloneUniforms(s.uniforms),vertexShader:s.vertexShader,fragmentShader:s.fragmentShader,side:BackSide,blending:NoBlending});i.uniforms.tEquirect.value=r;const n=new Mesh(o,i),p=r.minFilter;return r.minFilter===LinearMipmapLinearFilter&&(r.minFilter=LinearFilter),new CubeCamera(1,10,this).update(e,n),r.minFilter=p,n.geometry.dispose(),n.material.dispose(),this}clear(e,r,s,o){const i=e.getRenderTarget();for(let n=0;n<6;n++)e.setRenderTarget(this,n),e.clear(r,s,o);e.setRenderTarget(i)}}const _vector1=new Vector3,_vector2=new Vector3,_normalMatrix=new Matrix3;class Plane{constructor(e=new Vector3(1,0,0),r=0){this.isPlane=!0,this.normal=e,this.constant=r}set(e,r){return this.normal.copy(e),this.constant=r,this}setComponents(e,r,s,o){return this.normal.set(e,r,s),this.constant=o,this}setFromNormalAndCoplanarPoint(e,r){return this.normal.copy(e),this.constant=-r.dot(this.normal),this}setFromCoplanarPoints(e,r,s){const o=_vector1.subVectors(s,r).cross(_vector2.subVectors(e,r)).normalize();return this.setFromNormalAndCoplanarPoint(o,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,r){return r.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,r){const s=e.delta(_vector1),o=this.normal.dot(s);if(o===0)return this.distanceToPoint(e.start)===0?r.copy(e.start):null;const i=-(e.start.dot(this.normal)+this.constant)/o;return i<0||i>1?null:r.copy(e.start).addScaledVector(s,i)}intersectsLine(e){const r=this.distanceToPoint(e.start),s=this.distanceToPoint(e.end);return r<0&&s>0||s<0&&r>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,r){const s=r||_normalMatrix.getNormalMatrix(e),o=this.coplanarPoint(_vector1).applyMatrix4(e),i=this.normal.applyMatrix3(s).normalize();return this.constant=-o.dot(i),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const _sphere$4=new Sphere,_vector$6=new Vector3;class Frustum{constructor(e=new Plane,r=new Plane,s=new Plane,o=new Plane,i=new Plane,n=new Plane){this.planes=[e,r,s,o,i,n]}set(e,r,s,o,i,n){const p=this.planes;return p[0].copy(e),p[1].copy(r),p[2].copy(s),p[3].copy(o),p[4].copy(i),p[5].copy(n),this}copy(e){const r=this.planes;for(let s=0;s<6;s++)r[s].copy(e.planes[s]);return this}setFromProjectionMatrix(e,r=WebGLCoordinateSystem){const s=this.planes,o=e.elements,i=o[0],n=o[1],p=o[2],d=o[3],l=o[4],u=o[5],c=o[6],g=o[7],f=o[8],y=o[9],_=o[10],m=o[11],h=o[12],R=o[13],b=o[14],v=o[15];if(s[0].setComponents(d-i,g-l,m-f,v-h).normalize(),s[1].setComponents(d+i,g+l,m+f,v+h).normalize(),s[2].setComponents(d+n,g+u,m+y,v+R).normalize(),s[3].setComponents(d-n,g-u,m-y,v-R).normalize(),s[4].setComponents(d-p,g-c,m-_,v-b).normalize(),r===WebGLCoordinateSystem)s[5].setComponents(d+p,g+c,m+_,v+b).normalize();else if(r===WebGPUCoordinateSystem)s[5].setComponents(p,c,_,b).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+r);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),_sphere$4.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const r=e.geometry;r.boundingSphere===null&&r.computeBoundingSphere(),_sphere$4.copy(r.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(_sphere$4)}intersectsSprite(e){return _sphere$4.center.set(0,0,0),_sphere$4.radius=.7071067811865476,_sphere$4.applyMatrix4(e.matrixWorld),this.intersectsSphere(_sphere$4)}intersectsSphere(e){const r=this.planes,s=e.center,o=-e.radius;for(let i=0;i<6;i++)if(r[i].distanceToPoint(s)<o)return!1;return!0}intersectsBox(e){const r=this.planes;for(let s=0;s<6;s++){const o=r[s];if(_vector$6.x=o.normal.x>0?e.max.x:e.min.x,_vector$6.y=o.normal.y>0?e.max.y:e.min.y,_vector$6.z=o.normal.z>0?e.max.z:e.min.z,o.distanceToPoint(_vector$6)<0)return!1}return!0}containsPoint(e){const r=this.planes;for(let s=0;s<6;s++)if(r[s].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function WebGLAnimation(){let t=null,e=!1,r=null,s=null;function o(i,n){r(i,n),s=t.requestAnimationFrame(o)}return{start:function(){e!==!0&&r!==null&&(s=t.requestAnimationFrame(o),e=!0)},stop:function(){t.cancelAnimationFrame(s),e=!1},setAnimationLoop:function(i){r=i},setContext:function(i){t=i}}}function WebGLAttributes(t,e){const r=e.isWebGL2,s=new WeakMap;function o(l,u){const c=l.array,g=l.usage,f=t.createBuffer();t.bindBuffer(u,f),t.bufferData(u,c,g),l.onUploadCallback();let y;if(c instanceof Float32Array)y=t.FLOAT;else if(c instanceof Uint16Array)if(l.isFloat16BufferAttribute)if(r)y=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else y=t.UNSIGNED_SHORT;else if(c instanceof Int16Array)y=t.SHORT;else if(c instanceof Uint32Array)y=t.UNSIGNED_INT;else if(c instanceof Int32Array)y=t.INT;else if(c instanceof Int8Array)y=t.BYTE;else if(c instanceof Uint8Array)y=t.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)y=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:f,type:y,bytesPerElement:c.BYTES_PER_ELEMENT,version:l.version}}function i(l,u,c){const g=u.array,f=u.updateRange;t.bindBuffer(c,l),f.count===-1?t.bufferSubData(c,0,g):(r?t.bufferSubData(c,f.offset*g.BYTES_PER_ELEMENT,g,f.offset,f.count):t.bufferSubData(c,f.offset*g.BYTES_PER_ELEMENT,g.subarray(f.offset,f.offset+f.count)),f.count=-1),u.onUploadCallback()}function n(l){return l.isInterleavedBufferAttribute&&(l=l.data),s.get(l)}function p(l){l.isInterleavedBufferAttribute&&(l=l.data);const u=s.get(l);u&&(t.deleteBuffer(u.buffer),s.delete(l))}function d(l,u){if(l.isGLBufferAttribute){const g=s.get(l);(!g||g.version<l.version)&&s.set(l,{buffer:l.buffer,type:l.type,bytesPerElement:l.elementSize,version:l.version});return}l.isInterleavedBufferAttribute&&(l=l.data);const c=s.get(l);c===void 0?s.set(l,o(l,u)):c.version<l.version&&(i(c.buffer,l,u),c.version=l.version)}return{get:n,remove:p,update:d}}class PlaneGeometry extends BufferGeometry{constructor(e=1,r=1,s=1,o=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:r,widthSegments:s,heightSegments:o};const i=e/2,n=r/2,p=Math.floor(s),d=Math.floor(o),l=p+1,u=d+1,c=e/p,g=r/d,f=[],y=[],_=[],m=[];for(let h=0;h<u;h++){const R=h*g-n;for(let b=0;b<l;b++){const v=b*c-i;y.push(v,-R,0),_.push(0,0,1),m.push(b/p),m.push(1-h/d)}}for(let h=0;h<d;h++)for(let R=0;R<p;R++){const b=R+l*h,v=R+l*(h+1),S=R+1+l*(h+1),T=R+1+l*h;f.push(b,v,T),f.push(v,S,T)}this.setIndex(f),this.setAttribute("position",new Float32BufferAttribute(y,3)),this.setAttribute("normal",new Float32BufferAttribute(_,3)),this.setAttribute("uv",new Float32BufferAttribute(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new PlaneGeometry(e.width,e.height,e.widthSegments,e.heightSegments)}}var alphahash_fragment=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,alphahash_pars_fragment=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,alphamap_fragment=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,alphamap_pars_fragment=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,alphatest_fragment=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,alphatest_pars_fragment=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,aomap_fragment=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,aomap_pars_fragment=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,begin_vertex=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,beginnormal_vertex=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bsdfs=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,iridescence_fragment=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,bumpmap_pars_fragment=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,clipping_planes_fragment=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,clipping_planes_pars_fragment=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,clipping_planes_pars_vertex=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,clipping_planes_vertex=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,color_fragment=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,color_pars_fragment=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,color_pars_vertex=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,color_vertex=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,common=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,cube_uv_reflection_fragment=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,defaultnormal_vertex=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,displacementmap_pars_vertex=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,displacementmap_vertex=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,emissivemap_fragment=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,emissivemap_pars_fragment=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,colorspace_fragment="gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,envmap_fragment=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,envmap_common_pars_fragment=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,envmap_pars_fragment=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,envmap_pars_vertex=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,envmap_vertex=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fog_vertex=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,fog_pars_vertex=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,fog_fragment=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fog_pars_fragment=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gradientmap_pars_fragment=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,lightmap_fragment=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,lightmap_pars_fragment=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lights_lambert_fragment=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,lights_lambert_pars_fragment=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,lights_pars_begin=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,envmap_physical_pars_fragment=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,lights_toon_fragment=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lights_toon_pars_fragment=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,lights_phong_fragment=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_phong_pars_fragment=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,lights_physical_fragment=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,lights_physical_pars_fragment=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lights_fragment_begin=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lights_fragment_maps=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometry.viewDir, geometry.normal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,lights_fragment_end=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,logdepthbuf_fragment=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,logdepthbuf_pars_fragment=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_pars_vertex=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,logdepthbuf_vertex=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,map_fragment=`#ifdef USE_MAP
	diffuseColor *= texture2D( map, vMapUv );
#endif`,map_pars_fragment=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,map_particle_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,map_particle_pars_fragment=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,metalnessmap_fragment=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,metalnessmap_pars_fragment=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,morphcolor_vertex=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,morphnormal_vertex=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,morphtarget_pars_vertex=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,morphtarget_vertex=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,normal_fragment_begin=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 geometryNormal = normal;`,normal_fragment_maps=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,normal_pars_fragment=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_pars_vertex=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_vertex=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,normalmap_pars_fragment=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,clearcoat_normal_fragment_begin=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,clearcoat_normal_fragment_maps=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,clearcoat_pars_fragment=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,iridescence_pars_fragment=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,opaque_fragment=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,packing=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,premultiplied_alpha_fragment=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,project_vertex=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dithering_fragment=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dithering_pars_fragment=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,roughnessmap_fragment=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,roughnessmap_pars_fragment=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,shadowmap_pars_fragment=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,shadowmap_pars_vertex=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,shadowmap_vertex=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,shadowmask_pars_fragment=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,skinbase_vertex=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,skinning_pars_vertex=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,skinning_vertex=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,skinnormal_vertex=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,specularmap_fragment=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,specularmap_pars_fragment=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tonemapping_fragment=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tonemapping_pars_fragment=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,transmission_fragment=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,transmission_pars_fragment=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,uv_pars_fragment=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uv_pars_vertex=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uv_vertex=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,worldpos_vertex=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const vertex$h=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,fragment$h=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$g=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$g=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$f=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$f=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$e=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,fragment$e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,vertex$d=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,fragment$d=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,vertex$c=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,fragment$c=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$b=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$b=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$a=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,fragment$a=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$9=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$9=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$8=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,fragment$8=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$7=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,fragment$7=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,vertex$6=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$6=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$5=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,fragment$5=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$4=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$4=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$3=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,fragment$3=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$2=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$2=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,vertex$1=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$1=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ShaderChunk={alphahash_fragment,alphahash_pars_fragment,alphamap_fragment,alphamap_pars_fragment,alphatest_fragment,alphatest_pars_fragment,aomap_fragment,aomap_pars_fragment,begin_vertex,beginnormal_vertex,bsdfs,iridescence_fragment,bumpmap_pars_fragment,clipping_planes_fragment,clipping_planes_pars_fragment,clipping_planes_pars_vertex,clipping_planes_vertex,color_fragment,color_pars_fragment,color_pars_vertex,color_vertex,common,cube_uv_reflection_fragment,defaultnormal_vertex,displacementmap_pars_vertex,displacementmap_vertex,emissivemap_fragment,emissivemap_pars_fragment,colorspace_fragment,colorspace_pars_fragment,envmap_fragment,envmap_common_pars_fragment,envmap_pars_fragment,envmap_pars_vertex,envmap_physical_pars_fragment,envmap_vertex,fog_vertex,fog_pars_vertex,fog_fragment,fog_pars_fragment,gradientmap_pars_fragment,lightmap_fragment,lightmap_pars_fragment,lights_lambert_fragment,lights_lambert_pars_fragment,lights_pars_begin,lights_toon_fragment,lights_toon_pars_fragment,lights_phong_fragment,lights_phong_pars_fragment,lights_physical_fragment,lights_physical_pars_fragment,lights_fragment_begin,lights_fragment_maps,lights_fragment_end,logdepthbuf_fragment,logdepthbuf_pars_fragment,logdepthbuf_pars_vertex,logdepthbuf_vertex,map_fragment,map_pars_fragment,map_particle_fragment,map_particle_pars_fragment,metalnessmap_fragment,metalnessmap_pars_fragment,morphcolor_vertex,morphnormal_vertex,morphtarget_pars_vertex,morphtarget_vertex,normal_fragment_begin,normal_fragment_maps,normal_pars_fragment,normal_pars_vertex,normal_vertex,normalmap_pars_fragment,clearcoat_normal_fragment_begin,clearcoat_normal_fragment_maps,clearcoat_pars_fragment,iridescence_pars_fragment,opaque_fragment,packing,premultiplied_alpha_fragment,project_vertex,dithering_fragment,dithering_pars_fragment,roughnessmap_fragment,roughnessmap_pars_fragment,shadowmap_pars_fragment,shadowmap_pars_vertex,shadowmap_vertex,shadowmask_pars_fragment,skinbase_vertex,skinning_pars_vertex,skinning_vertex,skinnormal_vertex,specularmap_fragment,specularmap_pars_fragment,tonemapping_fragment,tonemapping_pars_fragment,transmission_fragment,transmission_pars_fragment,uv_pars_fragment,uv_pars_vertex,uv_vertex,worldpos_vertex,background_vert:vertex$h,background_frag:fragment$h,backgroundCube_vert:vertex$g,backgroundCube_frag:fragment$g,cube_vert:vertex$f,cube_frag:fragment$f,depth_vert:vertex$e,depth_frag:fragment$e,distanceRGBA_vert:vertex$d,distanceRGBA_frag:fragment$d,equirect_vert:vertex$c,equirect_frag:fragment$c,linedashed_vert:vertex$b,linedashed_frag:fragment$b,meshbasic_vert:vertex$a,meshbasic_frag:fragment$a,meshlambert_vert:vertex$9,meshlambert_frag:fragment$9,meshmatcap_vert:vertex$8,meshmatcap_frag:fragment$8,meshnormal_vert:vertex$7,meshnormal_frag:fragment$7,meshphong_vert:vertex$6,meshphong_frag:fragment$6,meshphysical_vert:vertex$5,meshphysical_frag:fragment$5,meshtoon_vert:vertex$4,meshtoon_frag:fragment$4,points_vert:vertex$3,points_frag:fragment$3,shadow_vert:vertex$2,shadow_frag:fragment$2,sprite_vert:vertex$1,sprite_frag:fragment$1},UniformsLib={common:{diffuse:{value:new Color(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Matrix3},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Matrix3}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Matrix3}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Matrix3}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Matrix3},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Matrix3},normalScale:{value:new Vector2(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Matrix3},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Matrix3}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Matrix3}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Matrix3}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Color(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Color(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0},uvTransform:{value:new Matrix3}},sprite:{diffuse:{value:new Color(16777215)},opacity:{value:1},center:{value:new Vector2(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Matrix3},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0}}},ShaderLib={basic:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.fog]),vertexShader:ShaderChunk.meshbasic_vert,fragmentShader:ShaderChunk.meshbasic_frag},lambert:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshlambert_vert,fragmentShader:ShaderChunk.meshlambert_frag},phong:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},specular:{value:new Color(1118481)},shininess:{value:30}}]),vertexShader:ShaderChunk.meshphong_vert,fragmentShader:ShaderChunk.meshphong_frag},standard:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.roughnessmap,UniformsLib.metalnessmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag},toon:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.gradientmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshtoon_vert,fragmentShader:ShaderChunk.meshtoon_frag},matcap:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,{matcap:{value:null}}]),vertexShader:ShaderChunk.meshmatcap_vert,fragmentShader:ShaderChunk.meshmatcap_frag},points:{uniforms:mergeUniforms([UniformsLib.points,UniformsLib.fog]),vertexShader:ShaderChunk.points_vert,fragmentShader:ShaderChunk.points_frag},dashed:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ShaderChunk.linedashed_vert,fragmentShader:ShaderChunk.linedashed_frag},depth:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap]),vertexShader:ShaderChunk.depth_vert,fragmentShader:ShaderChunk.depth_frag},normal:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,{opacity:{value:1}}]),vertexShader:ShaderChunk.meshnormal_vert,fragmentShader:ShaderChunk.meshnormal_frag},sprite:{uniforms:mergeUniforms([UniformsLib.sprite,UniformsLib.fog]),vertexShader:ShaderChunk.sprite_vert,fragmentShader:ShaderChunk.sprite_frag},background:{uniforms:{uvTransform:{value:new Matrix3},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ShaderChunk.background_vert,fragmentShader:ShaderChunk.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:ShaderChunk.backgroundCube_vert,fragmentShader:ShaderChunk.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ShaderChunk.cube_vert,fragmentShader:ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ShaderChunk.equirect_vert,fragmentShader:ShaderChunk.equirect_frag},distanceRGBA:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap,{referencePosition:{value:new Vector3},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ShaderChunk.distanceRGBA_vert,fragmentShader:ShaderChunk.distanceRGBA_frag},shadow:{uniforms:mergeUniforms([UniformsLib.lights,UniformsLib.fog,{color:{value:new Color(0)},opacity:{value:1}}]),vertexShader:ShaderChunk.shadow_vert,fragmentShader:ShaderChunk.shadow_frag}};ShaderLib.physical={uniforms:mergeUniforms([ShaderLib.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Matrix3},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Matrix3},clearcoatNormalScale:{value:new Vector2(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Matrix3},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Matrix3},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Matrix3},sheen:{value:0},sheenColor:{value:new Color(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Matrix3},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Matrix3},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Matrix3},transmissionSamplerSize:{value:new Vector2},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Matrix3},attenuationDistance:{value:0},attenuationColor:{value:new Color(0)},specularColor:{value:new Color(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Matrix3},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Matrix3},anisotropyVector:{value:new Vector2},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Matrix3}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag};const _rgb={r:0,b:0,g:0};function WebGLBackground(t,e,r,s,o,i,n){const p=new Color(0);let d=i===!0?0:1,l,u,c=null,g=0,f=null;function y(m,h){let R=!1,b=h.isScene===!0?h.background:null;switch(b&&b.isTexture&&(b=(h.backgroundBlurriness>0?r:e).get(b)),b===null?_(p,d):b&&b.isColor&&(_(b,1),R=!0),t.xr.getEnvironmentBlendMode()){case"opaque":R=!0;break;case"additive":s.buffers.color.setClear(0,0,0,1,n),R=!0;break;case"alpha-blend":s.buffers.color.setClear(0,0,0,0,n),R=!0;break}(t.autoClear||R)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),b&&(b.isCubeTexture||b.mapping===CubeUVReflectionMapping)?(u===void 0&&(u=new Mesh(new BoxGeometry(1,1,1),new ShaderMaterial({name:"BackgroundCubeMaterial",uniforms:cloneUniforms(ShaderLib.backgroundCube.uniforms),vertexShader:ShaderLib.backgroundCube.vertexShader,fragmentShader:ShaderLib.backgroundCube.fragmentShader,side:BackSide,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(T,O,C){this.matrixWorld.copyPosition(C.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),o.update(u)),u.material.uniforms.envMap.value=b,u.material.uniforms.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=h.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=h.backgroundIntensity,u.material.toneMapped=b.colorSpace!==SRGBColorSpace,(c!==b||g!==b.version||f!==t.toneMapping)&&(u.material.needsUpdate=!0,c=b,g=b.version,f=t.toneMapping),u.layers.enableAll(),m.unshift(u,u.geometry,u.material,0,0,null)):b&&b.isTexture&&(l===void 0&&(l=new Mesh(new PlaneGeometry(2,2),new ShaderMaterial({name:"BackgroundMaterial",uniforms:cloneUniforms(ShaderLib.background.uniforms),vertexShader:ShaderLib.background.vertexShader,fragmentShader:ShaderLib.background.fragmentShader,side:FrontSide,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),o.update(l)),l.material.uniforms.t2D.value=b,l.material.uniforms.backgroundIntensity.value=h.backgroundIntensity,l.material.toneMapped=b.colorSpace!==SRGBColorSpace,b.matrixAutoUpdate===!0&&b.updateMatrix(),l.material.uniforms.uvTransform.value.copy(b.matrix),(c!==b||g!==b.version||f!==t.toneMapping)&&(l.material.needsUpdate=!0,c=b,g=b.version,f=t.toneMapping),l.layers.enableAll(),m.unshift(l,l.geometry,l.material,0,0,null))}function _(m,h){m.getRGB(_rgb,getUnlitUniformColorSpace(t)),s.buffers.color.setClear(_rgb.r,_rgb.g,_rgb.b,h,n)}return{getClearColor:function(){return p},setClearColor:function(m,h=1){p.set(m),d=h,_(p,d)},getClearAlpha:function(){return d},setClearAlpha:function(m){d=m,_(p,d)},render:y}}function WebGLBindingStates(t,e,r,s){const o=t.getParameter(t.MAX_VERTEX_ATTRIBS),i=s.isWebGL2?null:e.get("OES_vertex_array_object"),n=s.isWebGL2||i!==null,p={},d=m(null);let l=d,u=!1;function c(D,G,K,j,Y){let J=!1;if(n){const q=_(j,K,G);l!==q&&(l=q,f(l.object)),J=h(D,j,K,Y),J&&R(D,j,K,Y)}else{const q=G.wireframe===!0;(l.geometry!==j.id||l.program!==K.id||l.wireframe!==q)&&(l.geometry=j.id,l.program=K.id,l.wireframe=q,J=!0)}Y!==null&&r.update(Y,t.ELEMENT_ARRAY_BUFFER),(J||u)&&(u=!1,C(D,G,K,j),Y!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,r.get(Y).buffer))}function g(){return s.isWebGL2?t.createVertexArray():i.createVertexArrayOES()}function f(D){return s.isWebGL2?t.bindVertexArray(D):i.bindVertexArrayOES(D)}function y(D){return s.isWebGL2?t.deleteVertexArray(D):i.deleteVertexArrayOES(D)}function _(D,G,K){const j=K.wireframe===!0;let Y=p[D.id];Y===void 0&&(Y={},p[D.id]=Y);let J=Y[G.id];J===void 0&&(J={},Y[G.id]=J);let q=J[j];return q===void 0&&(q=m(g()),J[j]=q),q}function m(D){const G=[],K=[],j=[];for(let Y=0;Y<o;Y++)G[Y]=0,K[Y]=0,j[Y]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:G,enabledAttributes:K,attributeDivisors:j,object:D,attributes:{},index:null}}function h(D,G,K,j){const Y=l.attributes,J=G.attributes;let q=0;const U=K.getAttributes();for(const W in U)if(U[W].location>=0){const ae=Y[W];let se=J[W];if(se===void 0&&(W==="instanceMatrix"&&D.instanceMatrix&&(se=D.instanceMatrix),W==="instanceColor"&&D.instanceColor&&(se=D.instanceColor)),ae===void 0||ae.attribute!==se||se&&ae.data!==se.data)return!0;q++}return l.attributesNum!==q||l.index!==j}function R(D,G,K,j){const Y={},J=G.attributes;let q=0;const U=K.getAttributes();for(const W in U)if(U[W].location>=0){let ae=J[W];ae===void 0&&(W==="instanceMatrix"&&D.instanceMatrix&&(ae=D.instanceMatrix),W==="instanceColor"&&D.instanceColor&&(ae=D.instanceColor));const se={};se.attribute=ae,ae&&ae.data&&(se.data=ae.data),Y[W]=se,q++}l.attributes=Y,l.attributesNum=q,l.index=j}function b(){const D=l.newAttributes;for(let G=0,K=D.length;G<K;G++)D[G]=0}function v(D){S(D,0)}function S(D,G){const K=l.newAttributes,j=l.enabledAttributes,Y=l.attributeDivisors;K[D]=1,j[D]===0&&(t.enableVertexAttribArray(D),j[D]=1),Y[D]!==G&&((s.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[s.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](D,G),Y[D]=G)}function T(){const D=l.newAttributes,G=l.enabledAttributes;for(let K=0,j=G.length;K<j;K++)G[K]!==D[K]&&(t.disableVertexAttribArray(K),G[K]=0)}function O(D,G,K,j,Y,J,q){q===!0?t.vertexAttribIPointer(D,G,K,Y,J):t.vertexAttribPointer(D,G,K,j,Y,J)}function C(D,G,K,j){if(s.isWebGL2===!1&&(D.isInstancedMesh||j.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;b();const Y=j.attributes,J=K.getAttributes(),q=G.defaultAttributeValues;for(const U in J){const W=J[U];if(W.location>=0){let ne=Y[U];if(ne===void 0&&(U==="instanceMatrix"&&D.instanceMatrix&&(ne=D.instanceMatrix),U==="instanceColor"&&D.instanceColor&&(ne=D.instanceColor)),ne!==void 0){const ae=ne.normalized,se=ne.itemSize,he=r.get(ne);if(he===void 0)continue;const Ee=he.buffer,_e=he.type,Be=he.bytesPerElement,Ke=s.isWebGL2===!0&&(_e===t.INT||_e===t.UNSIGNED_INT||ne.gpuType===IntType);if(ne.isInterleavedBufferAttribute){const Ae=ne.data,I=Ae.stride,Ve=ne.offset;if(Ae.isInstancedInterleavedBuffer){for(let ye=0;ye<W.locationSize;ye++)S(W.location+ye,Ae.meshPerAttribute);D.isInstancedMesh!==!0&&j._maxInstanceCount===void 0&&(j._maxInstanceCount=Ae.meshPerAttribute*Ae.count)}else for(let ye=0;ye<W.locationSize;ye++)v(W.location+ye);t.bindBuffer(t.ARRAY_BUFFER,Ee);for(let ye=0;ye<W.locationSize;ye++)O(W.location+ye,se/W.locationSize,_e,ae,I*Be,(Ve+se/W.locationSize*ye)*Be,Ke)}else{if(ne.isInstancedBufferAttribute){for(let Ae=0;Ae<W.locationSize;Ae++)S(W.location+Ae,ne.meshPerAttribute);D.isInstancedMesh!==!0&&j._maxInstanceCount===void 0&&(j._maxInstanceCount=ne.meshPerAttribute*ne.count)}else for(let Ae=0;Ae<W.locationSize;Ae++)v(W.location+Ae);t.bindBuffer(t.ARRAY_BUFFER,Ee);for(let Ae=0;Ae<W.locationSize;Ae++)O(W.location+Ae,se/W.locationSize,_e,ae,se*Be,se/W.locationSize*Ae*Be,Ke)}}else if(q!==void 0){const ae=q[U];if(ae!==void 0)switch(ae.length){case 2:t.vertexAttrib2fv(W.location,ae);break;case 3:t.vertexAttrib3fv(W.location,ae);break;case 4:t.vertexAttrib4fv(W.location,ae);break;default:t.vertexAttrib1fv(W.location,ae)}}}}T()}function M(){N();for(const D in p){const G=p[D];for(const K in G){const j=G[K];for(const Y in j)y(j[Y].object),delete j[Y];delete G[K]}delete p[D]}}function E(D){if(p[D.id]===void 0)return;const G=p[D.id];for(const K in G){const j=G[K];for(const Y in j)y(j[Y].object),delete j[Y];delete G[K]}delete p[D.id]}function B(D){for(const G in p){const K=p[G];if(K[D.id]===void 0)continue;const j=K[D.id];for(const Y in j)y(j[Y].object),delete j[Y];delete K[D.id]}}function N(){w(),u=!0,l!==d&&(l=d,f(l.object))}function w(){d.geometry=null,d.program=null,d.wireframe=!1}return{setup:c,reset:N,resetDefaultState:w,dispose:M,releaseStatesOfGeometry:E,releaseStatesOfProgram:B,initAttributes:b,enableAttribute:v,disableUnusedAttributes:T}}function WebGLBufferRenderer(t,e,r,s){const o=s.isWebGL2;let i;function n(l){i=l}function p(l,u){t.drawArrays(i,l,u),r.update(u,i,1)}function d(l,u,c){if(c===0)return;let g,f;if(o)g=t,f="drawArraysInstanced";else if(g=e.get("ANGLE_instanced_arrays"),f="drawArraysInstancedANGLE",g===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}g[f](i,l,u,c),r.update(u,i,c)}this.setMode=n,this.render=p,this.renderInstances=d}function WebGLCapabilities(t,e,r){let s;function o(){if(s!==void 0)return s;if(e.has("EXT_texture_filter_anisotropic")===!0){const O=e.get("EXT_texture_filter_anisotropic");s=t.getParameter(O.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else s=0;return s}function i(O){if(O==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";O="mediump"}return O==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const n=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let p=r.precision!==void 0?r.precision:"highp";const d=i(p);d!==p&&(console.warn("THREE.WebGLRenderer:",p,"not supported, using",d,"instead."),p=d);const l=n||e.has("WEBGL_draw_buffers"),u=r.logarithmicDepthBuffer===!0,c=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),g=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),f=t.getParameter(t.MAX_TEXTURE_SIZE),y=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),_=t.getParameter(t.MAX_VERTEX_ATTRIBS),m=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),h=t.getParameter(t.MAX_VARYING_VECTORS),R=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),b=g>0,v=n||e.has("OES_texture_float"),S=b&&v,T=n?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:n,drawBuffers:l,getMaxAnisotropy:o,getMaxPrecision:i,precision:p,logarithmicDepthBuffer:u,maxTextures:c,maxVertexTextures:g,maxTextureSize:f,maxCubemapSize:y,maxAttributes:_,maxVertexUniforms:m,maxVaryings:h,maxFragmentUniforms:R,vertexTextures:b,floatFragmentTextures:v,floatVertexTextures:S,maxSamples:T}}function WebGLClipping(t){const e=this;let r=null,s=0,o=!1,i=!1;const n=new Plane,p=new Matrix3,d={value:null,needsUpdate:!1};this.uniform=d,this.numPlanes=0,this.numIntersection=0,this.init=function(c,g){const f=c.length!==0||g||s!==0||o;return o=g,s=c.length,f},this.beginShadows=function(){i=!0,u(null)},this.endShadows=function(){i=!1},this.setGlobalState=function(c,g){r=u(c,g,0)},this.setState=function(c,g,f){const y=c.clippingPlanes,_=c.clipIntersection,m=c.clipShadows,h=t.get(c);if(!o||y===null||y.length===0||i&&!m)i?u(null):l();else{const R=i?0:s,b=R*4;let v=h.clippingState||null;d.value=v,v=u(y,g,b,f);for(let S=0;S!==b;++S)v[S]=r[S];h.clippingState=v,this.numIntersection=_?this.numPlanes:0,this.numPlanes+=R}};function l(){d.value!==r&&(d.value=r,d.needsUpdate=s>0),e.numPlanes=s,e.numIntersection=0}function u(c,g,f,y){const _=c!==null?c.length:0;let m=null;if(_!==0){if(m=d.value,y!==!0||m===null){const h=f+_*4,R=g.matrixWorldInverse;p.getNormalMatrix(R),(m===null||m.length<h)&&(m=new Float32Array(h));for(let b=0,v=f;b!==_;++b,v+=4)n.copy(c[b]).applyMatrix4(R,p),n.normal.toArray(m,v),m[v+3]=n.constant}d.value=m,d.needsUpdate=!0}return e.numPlanes=_,e.numIntersection=0,m}}function WebGLCubeMaps(t){let e=new WeakMap;function r(n,p){return p===EquirectangularReflectionMapping?n.mapping=CubeReflectionMapping:p===EquirectangularRefractionMapping&&(n.mapping=CubeRefractionMapping),n}function s(n){if(n&&n.isTexture&&n.isRenderTargetTexture===!1){const p=n.mapping;if(p===EquirectangularReflectionMapping||p===EquirectangularRefractionMapping)if(e.has(n)){const d=e.get(n).texture;return r(d,n.mapping)}else{const d=n.image;if(d&&d.height>0){const l=new WebGLCubeRenderTarget(d.height/2);return l.fromEquirectangularTexture(t,n),e.set(n,l),n.addEventListener("dispose",o),r(l.texture,n.mapping)}else return null}}return n}function o(n){const p=n.target;p.removeEventListener("dispose",o);const d=e.get(p);d!==void 0&&(e.delete(p),d.dispose())}function i(){e=new WeakMap}return{get:s,dispose:i}}class OrthographicCamera extends Camera{constructor(e=-1,r=1,s=1,o=-1,i=.1,n=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=r,this.top=s,this.bottom=o,this.near=i,this.far=n,this.updateProjectionMatrix()}copy(e,r){return super.copy(e,r),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,r,s,o,i,n){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=r,this.view.offsetX=s,this.view.offsetY=o,this.view.width=i,this.view.height=n,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),r=(this.top-this.bottom)/(2*this.zoom),s=(this.right+this.left)/2,o=(this.top+this.bottom)/2;let i=s-e,n=s+e,p=o+r,d=o-r;if(this.view!==null&&this.view.enabled){const l=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=l*this.view.offsetX,n=i+l*this.view.width,p-=u*this.view.offsetY,d=p-u*this.view.height}this.projectionMatrix.makeOrthographic(i,n,p,d,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const r=super.toJSON(e);return r.object.zoom=this.zoom,r.object.left=this.left,r.object.right=this.right,r.object.top=this.top,r.object.bottom=this.bottom,r.object.near=this.near,r.object.far=this.far,this.view!==null&&(r.object.view=Object.assign({},this.view)),r}}const LOD_MIN=4,EXTRA_LOD_SIGMA=[.125,.215,.35,.446,.526,.582],MAX_SAMPLES=20,_flatCamera=new OrthographicCamera,_clearColor=new Color;let _oldTarget=null;const PHI=(1+Math.sqrt(5))/2,INV_PHI=1/PHI,_axisDirections=[new Vector3(1,1,1),new Vector3(-1,1,1),new Vector3(1,1,-1),new Vector3(-1,1,-1),new Vector3(0,PHI,INV_PHI),new Vector3(0,PHI,-INV_PHI),new Vector3(INV_PHI,0,PHI),new Vector3(-INV_PHI,0,PHI),new Vector3(PHI,INV_PHI,0),new Vector3(-PHI,INV_PHI,0)];class PMREMGenerator{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,r=0,s=.1,o=100){_oldTarget=this._renderer.getRenderTarget(),this._setSize(256);const i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(e,s,o,i),r>0&&this._blur(i,0,0,r),this._applyPMREM(i),this._cleanup(i),i}fromEquirectangular(e,r=null){return this._fromTexture(e,r)}fromCubemap(e,r=null){return this._fromTexture(e,r)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(_oldTarget),e.scissorTest=!1,_setViewport(e,0,0,e.width,e.height)}_fromTexture(e,r){e.mapping===CubeReflectionMapping||e.mapping===CubeRefractionMapping?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),_oldTarget=this._renderer.getRenderTarget();const s=r||this._allocateTargets();return this._textureToCubeUV(e,s),this._applyPMREM(s),this._cleanup(s),s}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),r=4*this._cubeSize,s={magFilter:LinearFilter,minFilter:LinearFilter,generateMipmaps:!1,type:HalfFloatType,format:RGBAFormat,colorSpace:LinearSRGBColorSpace,depthBuffer:!1},o=_createRenderTarget(e,r,s);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==r){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=_createRenderTarget(e,r,s);const{_lodMax:i}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=_createPlanes(i)),this._blurMaterial=_getBlurShader(i,e,r)}return o}_compileMaterial(e){const r=new Mesh(this._lodPlanes[0],e);this._renderer.compile(r,_flatCamera)}_sceneToCubeUV(e,r,s,o){const p=new PerspectiveCamera(90,1,r,s),d=[1,-1,1,1,1,1],l=[1,1,1,-1,-1,-1],u=this._renderer,c=u.autoClear,g=u.toneMapping;u.getClearColor(_clearColor),u.toneMapping=NoToneMapping,u.autoClear=!1;const f=new MeshBasicMaterial({name:"PMREM.Background",side:BackSide,depthWrite:!1,depthTest:!1}),y=new Mesh(new BoxGeometry,f);let _=!1;const m=e.background;m?m.isColor&&(f.color.copy(m),e.background=null,_=!0):(f.color.copy(_clearColor),_=!0);for(let h=0;h<6;h++){const R=h%3;R===0?(p.up.set(0,d[h],0),p.lookAt(l[h],0,0)):R===1?(p.up.set(0,0,d[h]),p.lookAt(0,l[h],0)):(p.up.set(0,d[h],0),p.lookAt(0,0,l[h]));const b=this._cubeSize;_setViewport(o,R*b,h>2?b:0,b,b),u.setRenderTarget(o),_&&u.render(y,p),u.render(e,p)}y.geometry.dispose(),y.material.dispose(),u.toneMapping=g,u.autoClear=c,e.background=m}_textureToCubeUV(e,r){const s=this._renderer,o=e.mapping===CubeReflectionMapping||e.mapping===CubeRefractionMapping;o?(this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial());const i=o?this._cubemapMaterial:this._equirectMaterial,n=new Mesh(this._lodPlanes[0],i),p=i.uniforms;p.envMap.value=e;const d=this._cubeSize;_setViewport(r,0,0,3*d,2*d),s.setRenderTarget(r),s.render(n,_flatCamera)}_applyPMREM(e){const r=this._renderer,s=r.autoClear;r.autoClear=!1;for(let o=1;o<this._lodPlanes.length;o++){const i=Math.sqrt(this._sigmas[o]*this._sigmas[o]-this._sigmas[o-1]*this._sigmas[o-1]),n=_axisDirections[(o-1)%_axisDirections.length];this._blur(e,o-1,o,i,n)}r.autoClear=s}_blur(e,r,s,o,i){const n=this._pingPongRenderTarget;this._halfBlur(e,n,r,s,o,"latitudinal",i),this._halfBlur(n,e,s,s,o,"longitudinal",i)}_halfBlur(e,r,s,o,i,n,p){const d=this._renderer,l=this._blurMaterial;n!=="latitudinal"&&n!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,c=new Mesh(this._lodPlanes[o],l),g=l.uniforms,f=this._sizeLods[s]-1,y=isFinite(i)?Math.PI/(2*f):2*Math.PI/(2*MAX_SAMPLES-1),_=i/y,m=isFinite(i)?1+Math.floor(u*_):MAX_SAMPLES;m>MAX_SAMPLES&&console.warn(`sigmaRadians, ${i}, is too large and will clip, as it requested ${m} samples when the maximum is set to ${MAX_SAMPLES}`);const h=[];let R=0;for(let O=0;O<MAX_SAMPLES;++O){const C=O/_,M=Math.exp(-C*C/2);h.push(M),O===0?R+=M:O<m&&(R+=2*M)}for(let O=0;O<h.length;O++)h[O]=h[O]/R;g.envMap.value=e.texture,g.samples.value=m,g.weights.value=h,g.latitudinal.value=n==="latitudinal",p&&(g.poleAxis.value=p);const{_lodMax:b}=this;g.dTheta.value=y,g.mipInt.value=b-s;const v=this._sizeLods[o],S=3*v*(o>b-LOD_MIN?o-b+LOD_MIN:0),T=4*(this._cubeSize-v);_setViewport(r,S,T,3*v,2*v),d.setRenderTarget(r),d.render(c,_flatCamera)}}function _createPlanes(t){const e=[],r=[],s=[];let o=t;const i=t-LOD_MIN+1+EXTRA_LOD_SIGMA.length;for(let n=0;n<i;n++){const p=Math.pow(2,o);r.push(p);let d=1/p;n>t-LOD_MIN?d=EXTRA_LOD_SIGMA[n-t+LOD_MIN-1]:n===0&&(d=0),s.push(d);const l=1/(p-2),u=-l,c=1+l,g=[u,u,c,u,c,c,u,u,c,c,u,c],f=6,y=6,_=3,m=2,h=1,R=new Float32Array(_*y*f),b=new Float32Array(m*y*f),v=new Float32Array(h*y*f);for(let T=0;T<f;T++){const O=T%3*2/3-1,C=T>2?0:-1,M=[O,C,0,O+2/3,C,0,O+2/3,C+1,0,O,C,0,O+2/3,C+1,0,O,C+1,0];R.set(M,_*y*T),b.set(g,m*y*T);const E=[T,T,T,T,T,T];v.set(E,h*y*T)}const S=new BufferGeometry;S.setAttribute("position",new BufferAttribute(R,_)),S.setAttribute("uv",new BufferAttribute(b,m)),S.setAttribute("faceIndex",new BufferAttribute(v,h)),e.push(S),o>LOD_MIN&&o--}return{lodPlanes:e,sizeLods:r,sigmas:s}}function _createRenderTarget(t,e,r){const s=new WebGLRenderTarget(t,e,r);return s.texture.mapping=CubeUVReflectionMapping,s.texture.name="PMREM.cubeUv",s.scissorTest=!0,s}function _setViewport(t,e,r,s,o){t.viewport.set(e,r,s,o),t.scissor.set(e,r,s,o)}function _getBlurShader(t,e,r){const s=new Float32Array(MAX_SAMPLES),o=new Vector3(0,1,0);return new ShaderMaterial({name:"SphericalGaussianBlur",defines:{n:MAX_SAMPLES,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/r,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:s},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:o}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getEquirectMaterial(){return new ShaderMaterial({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCubemapMaterial(){return new ShaderMaterial({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCommonVertexShader(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function WebGLCubeUVMaps(t){let e=new WeakMap,r=null;function s(p){if(p&&p.isTexture){const d=p.mapping,l=d===EquirectangularReflectionMapping||d===EquirectangularRefractionMapping,u=d===CubeReflectionMapping||d===CubeRefractionMapping;if(l||u)if(p.isRenderTargetTexture&&p.needsPMREMUpdate===!0){p.needsPMREMUpdate=!1;let c=e.get(p);return r===null&&(r=new PMREMGenerator(t)),c=l?r.fromEquirectangular(p,c):r.fromCubemap(p,c),e.set(p,c),c.texture}else{if(e.has(p))return e.get(p).texture;{const c=p.image;if(l&&c&&c.height>0||u&&c&&o(c)){r===null&&(r=new PMREMGenerator(t));const g=l?r.fromEquirectangular(p):r.fromCubemap(p);return e.set(p,g),p.addEventListener("dispose",i),g.texture}else return null}}}return p}function o(p){let d=0;const l=6;for(let u=0;u<l;u++)p[u]!==void 0&&d++;return d===l}function i(p){const d=p.target;d.removeEventListener("dispose",i);const l=e.get(d);l!==void 0&&(e.delete(d),l.dispose())}function n(){e=new WeakMap,r!==null&&(r.dispose(),r=null)}return{get:s,dispose:n}}function WebGLExtensions(t){const e={};function r(s){if(e[s]!==void 0)return e[s];let o;switch(s){case"WEBGL_depth_texture":o=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":o=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":o=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":o=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:o=t.getExtension(s)}return e[s]=o,o}return{has:function(s){return r(s)!==null},init:function(s){s.isWebGL2?r("EXT_color_buffer_float"):(r("WEBGL_depth_texture"),r("OES_texture_float"),r("OES_texture_half_float"),r("OES_texture_half_float_linear"),r("OES_standard_derivatives"),r("OES_element_index_uint"),r("OES_vertex_array_object"),r("ANGLE_instanced_arrays")),r("OES_texture_float_linear"),r("EXT_color_buffer_half_float"),r("WEBGL_multisampled_render_to_texture")},get:function(s){const o=r(s);return o===null&&console.warn("THREE.WebGLRenderer: "+s+" extension not supported."),o}}}function WebGLGeometries(t,e,r,s){const o={},i=new WeakMap;function n(c){const g=c.target;g.index!==null&&e.remove(g.index);for(const y in g.attributes)e.remove(g.attributes[y]);for(const y in g.morphAttributes){const _=g.morphAttributes[y];for(let m=0,h=_.length;m<h;m++)e.remove(_[m])}g.removeEventListener("dispose",n),delete o[g.id];const f=i.get(g);f&&(e.remove(f),i.delete(g)),s.releaseStatesOfGeometry(g),g.isInstancedBufferGeometry===!0&&delete g._maxInstanceCount,r.memory.geometries--}function p(c,g){return o[g.id]===!0||(g.addEventListener("dispose",n),o[g.id]=!0,r.memory.geometries++),g}function d(c){const g=c.attributes;for(const y in g)e.update(g[y],t.ARRAY_BUFFER);const f=c.morphAttributes;for(const y in f){const _=f[y];for(let m=0,h=_.length;m<h;m++)e.update(_[m],t.ARRAY_BUFFER)}}function l(c){const g=[],f=c.index,y=c.attributes.position;let _=0;if(f!==null){const R=f.array;_=f.version;for(let b=0,v=R.length;b<v;b+=3){const S=R[b+0],T=R[b+1],O=R[b+2];g.push(S,T,T,O,O,S)}}else{const R=y.array;_=y.version;for(let b=0,v=R.length/3-1;b<v;b+=3){const S=b+0,T=b+1,O=b+2;g.push(S,T,T,O,O,S)}}const m=new(arrayNeedsUint32(g)?Uint32BufferAttribute:Uint16BufferAttribute)(g,1);m.version=_;const h=i.get(c);h&&e.remove(h),i.set(c,m)}function u(c){const g=i.get(c);if(g){const f=c.index;f!==null&&g.version<f.version&&l(c)}else l(c);return i.get(c)}return{get:p,update:d,getWireframeAttribute:u}}function WebGLIndexedBufferRenderer(t,e,r,s){const o=s.isWebGL2;let i;function n(g){i=g}let p,d;function l(g){p=g.type,d=g.bytesPerElement}function u(g,f){t.drawElements(i,f,p,g*d),r.update(f,i,1)}function c(g,f,y){if(y===0)return;let _,m;if(o)_=t,m="drawElementsInstanced";else if(_=e.get("ANGLE_instanced_arrays"),m="drawElementsInstancedANGLE",_===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}_[m](i,f,p,g*d,y),r.update(f,i,y)}this.setMode=n,this.setIndex=l,this.render=u,this.renderInstances=c}function WebGLInfo(t){const e={geometries:0,textures:0},r={frame:0,calls:0,triangles:0,points:0,lines:0};function s(i,n,p){switch(r.calls++,n){case t.TRIANGLES:r.triangles+=p*(i/3);break;case t.LINES:r.lines+=p*(i/2);break;case t.LINE_STRIP:r.lines+=p*(i-1);break;case t.LINE_LOOP:r.lines+=p*i;break;case t.POINTS:r.points+=p*i;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n);break}}function o(){r.calls=0,r.triangles=0,r.points=0,r.lines=0}return{memory:e,render:r,programs:null,autoReset:!0,reset:o,update:s}}function numericalSort(t,e){return t[0]-e[0]}function absNumericalSort(t,e){return Math.abs(e[1])-Math.abs(t[1])}function WebGLMorphtargets(t,e,r){const s={},o=new Float32Array(8),i=new WeakMap,n=new Vector4,p=[];for(let l=0;l<8;l++)p[l]=[l,0];function d(l,u,c){const g=l.morphTargetInfluences;if(e.isWebGL2===!0){const y=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,_=y!==void 0?y.length:0;let m=i.get(u);if(m===void 0||m.count!==_){let G=function(){w.dispose(),i.delete(u),u.removeEventListener("dispose",G)};var f=G;m!==void 0&&m.texture.dispose();const b=u.morphAttributes.position!==void 0,v=u.morphAttributes.normal!==void 0,S=u.morphAttributes.color!==void 0,T=u.morphAttributes.position||[],O=u.morphAttributes.normal||[],C=u.morphAttributes.color||[];let M=0;b===!0&&(M=1),v===!0&&(M=2),S===!0&&(M=3);let E=u.attributes.position.count*M,B=1;E>e.maxTextureSize&&(B=Math.ceil(E/e.maxTextureSize),E=e.maxTextureSize);const N=new Float32Array(E*B*4*_),w=new DataArrayTexture(N,E,B,_);w.type=FloatType,w.needsUpdate=!0;const D=M*4;for(let K=0;K<_;K++){const j=T[K],Y=O[K],J=C[K],q=E*B*4*K;for(let U=0;U<j.count;U++){const W=U*D;b===!0&&(n.fromBufferAttribute(j,U),N[q+W+0]=n.x,N[q+W+1]=n.y,N[q+W+2]=n.z,N[q+W+3]=0),v===!0&&(n.fromBufferAttribute(Y,U),N[q+W+4]=n.x,N[q+W+5]=n.y,N[q+W+6]=n.z,N[q+W+7]=0),S===!0&&(n.fromBufferAttribute(J,U),N[q+W+8]=n.x,N[q+W+9]=n.y,N[q+W+10]=n.z,N[q+W+11]=J.itemSize===4?n.w:1)}}m={count:_,texture:w,size:new Vector2(E,B)},i.set(u,m),u.addEventListener("dispose",G)}let h=0;for(let b=0;b<g.length;b++)h+=g[b];const R=u.morphTargetsRelative?1:1-h;c.getUniforms().setValue(t,"morphTargetBaseInfluence",R),c.getUniforms().setValue(t,"morphTargetInfluences",g),c.getUniforms().setValue(t,"morphTargetsTexture",m.texture,r),c.getUniforms().setValue(t,"morphTargetsTextureSize",m.size)}else{const y=g===void 0?0:g.length;let _=s[u.id];if(_===void 0||_.length!==y){_=[];for(let v=0;v<y;v++)_[v]=[v,0];s[u.id]=_}for(let v=0;v<y;v++){const S=_[v];S[0]=v,S[1]=g[v]}_.sort(absNumericalSort);for(let v=0;v<8;v++)v<y&&_[v][1]?(p[v][0]=_[v][0],p[v][1]=_[v][1]):(p[v][0]=Number.MAX_SAFE_INTEGER,p[v][1]=0);p.sort(numericalSort);const m=u.morphAttributes.position,h=u.morphAttributes.normal;let R=0;for(let v=0;v<8;v++){const S=p[v],T=S[0],O=S[1];T!==Number.MAX_SAFE_INTEGER&&O?(m&&u.getAttribute("morphTarget"+v)!==m[T]&&u.setAttribute("morphTarget"+v,m[T]),h&&u.getAttribute("morphNormal"+v)!==h[T]&&u.setAttribute("morphNormal"+v,h[T]),o[v]=O,R+=O):(m&&u.hasAttribute("morphTarget"+v)===!0&&u.deleteAttribute("morphTarget"+v),h&&u.hasAttribute("morphNormal"+v)===!0&&u.deleteAttribute("morphNormal"+v),o[v]=0)}const b=u.morphTargetsRelative?1:1-R;c.getUniforms().setValue(t,"morphTargetBaseInfluence",b),c.getUniforms().setValue(t,"morphTargetInfluences",o)}}return{update:d}}function WebGLObjects(t,e,r,s){let o=new WeakMap;function i(d){const l=s.render.frame,u=d.geometry,c=e.get(d,u);if(o.get(c)!==l&&(e.update(c),o.set(c,l)),d.isInstancedMesh&&(d.hasEventListener("dispose",p)===!1&&d.addEventListener("dispose",p),o.get(d)!==l&&(r.update(d.instanceMatrix,t.ARRAY_BUFFER),d.instanceColor!==null&&r.update(d.instanceColor,t.ARRAY_BUFFER),o.set(d,l))),d.isSkinnedMesh){const g=d.skeleton;o.get(g)!==l&&(g.update(),o.set(g,l))}return c}function n(){o=new WeakMap}function p(d){const l=d.target;l.removeEventListener("dispose",p),r.remove(l.instanceMatrix),l.instanceColor!==null&&r.remove(l.instanceColor)}return{update:i,dispose:n}}const emptyTexture=new Texture,emptyArrayTexture=new DataArrayTexture,empty3dTexture=new Data3DTexture,emptyCubeTexture=new CubeTexture,arrayCacheF32=[],arrayCacheI32=[],mat4array=new Float32Array(16),mat3array=new Float32Array(9),mat2array=new Float32Array(4);function flatten(t,e,r){const s=t[0];if(s<=0||s>0)return t;const o=e*r;let i=arrayCacheF32[o];if(i===void 0&&(i=new Float32Array(o),arrayCacheF32[o]=i),e!==0){s.toArray(i,0);for(let n=1,p=0;n!==e;++n)p+=r,t[n].toArray(i,p)}return i}function arraysEqual(t,e){if(t.length!==e.length)return!1;for(let r=0,s=t.length;r<s;r++)if(t[r]!==e[r])return!1;return!0}function copyArray(t,e){for(let r=0,s=e.length;r<s;r++)t[r]=e[r]}function allocTexUnits(t,e){let r=arrayCacheI32[e];r===void 0&&(r=new Int32Array(e),arrayCacheI32[e]=r);for(let s=0;s!==e;++s)r[s]=t.allocateTextureUnit();return r}function setValueV1f(t,e){const r=this.cache;r[0]!==e&&(t.uniform1f(this.addr,e),r[0]=e)}function setValueV2f(t,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),r[0]=e.x,r[1]=e.y);else{if(arraysEqual(r,e))return;t.uniform2fv(this.addr,e),copyArray(r,e)}}function setValueV3f(t,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),r[0]=e.x,r[1]=e.y,r[2]=e.z);else if(e.r!==void 0)(r[0]!==e.r||r[1]!==e.g||r[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),r[0]=e.r,r[1]=e.g,r[2]=e.b);else{if(arraysEqual(r,e))return;t.uniform3fv(this.addr,e),copyArray(r,e)}}function setValueV4f(t,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z||r[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),r[0]=e.x,r[1]=e.y,r[2]=e.z,r[3]=e.w);else{if(arraysEqual(r,e))return;t.uniform4fv(this.addr,e),copyArray(r,e)}}function setValueM2(t,e){const r=this.cache,s=e.elements;if(s===void 0){if(arraysEqual(r,e))return;t.uniformMatrix2fv(this.addr,!1,e),copyArray(r,e)}else{if(arraysEqual(r,s))return;mat2array.set(s),t.uniformMatrix2fv(this.addr,!1,mat2array),copyArray(r,s)}}function setValueM3(t,e){const r=this.cache,s=e.elements;if(s===void 0){if(arraysEqual(r,e))return;t.uniformMatrix3fv(this.addr,!1,e),copyArray(r,e)}else{if(arraysEqual(r,s))return;mat3array.set(s),t.uniformMatrix3fv(this.addr,!1,mat3array),copyArray(r,s)}}function setValueM4(t,e){const r=this.cache,s=e.elements;if(s===void 0){if(arraysEqual(r,e))return;t.uniformMatrix4fv(this.addr,!1,e),copyArray(r,e)}else{if(arraysEqual(r,s))return;mat4array.set(s),t.uniformMatrix4fv(this.addr,!1,mat4array),copyArray(r,s)}}function setValueV1i(t,e){const r=this.cache;r[0]!==e&&(t.uniform1i(this.addr,e),r[0]=e)}function setValueV2i(t,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),r[0]=e.x,r[1]=e.y);else{if(arraysEqual(r,e))return;t.uniform2iv(this.addr,e),copyArray(r,e)}}function setValueV3i(t,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),r[0]=e.x,r[1]=e.y,r[2]=e.z);else{if(arraysEqual(r,e))return;t.uniform3iv(this.addr,e),copyArray(r,e)}}function setValueV4i(t,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z||r[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),r[0]=e.x,r[1]=e.y,r[2]=e.z,r[3]=e.w);else{if(arraysEqual(r,e))return;t.uniform4iv(this.addr,e),copyArray(r,e)}}function setValueV1ui(t,e){const r=this.cache;r[0]!==e&&(t.uniform1ui(this.addr,e),r[0]=e)}function setValueV2ui(t,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),r[0]=e.x,r[1]=e.y);else{if(arraysEqual(r,e))return;t.uniform2uiv(this.addr,e),copyArray(r,e)}}function setValueV3ui(t,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),r[0]=e.x,r[1]=e.y,r[2]=e.z);else{if(arraysEqual(r,e))return;t.uniform3uiv(this.addr,e),copyArray(r,e)}}function setValueV4ui(t,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z||r[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),r[0]=e.x,r[1]=e.y,r[2]=e.z,r[3]=e.w);else{if(arraysEqual(r,e))return;t.uniform4uiv(this.addr,e),copyArray(r,e)}}function setValueT1(t,e,r){const s=this.cache,o=r.allocateTextureUnit();s[0]!==o&&(t.uniform1i(this.addr,o),s[0]=o),r.setTexture2D(e||emptyTexture,o)}function setValueT3D1(t,e,r){const s=this.cache,o=r.allocateTextureUnit();s[0]!==o&&(t.uniform1i(this.addr,o),s[0]=o),r.setTexture3D(e||empty3dTexture,o)}function setValueT6(t,e,r){const s=this.cache,o=r.allocateTextureUnit();s[0]!==o&&(t.uniform1i(this.addr,o),s[0]=o),r.setTextureCube(e||emptyCubeTexture,o)}function setValueT2DArray1(t,e,r){const s=this.cache,o=r.allocateTextureUnit();s[0]!==o&&(t.uniform1i(this.addr,o),s[0]=o),r.setTexture2DArray(e||emptyArrayTexture,o)}function getSingularSetter(t){switch(t){case 5126:return setValueV1f;case 35664:return setValueV2f;case 35665:return setValueV3f;case 35666:return setValueV4f;case 35674:return setValueM2;case 35675:return setValueM3;case 35676:return setValueM4;case 5124:case 35670:return setValueV1i;case 35667:case 35671:return setValueV2i;case 35668:case 35672:return setValueV3i;case 35669:case 35673:return setValueV4i;case 5125:return setValueV1ui;case 36294:return setValueV2ui;case 36295:return setValueV3ui;case 36296:return setValueV4ui;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1;case 35679:case 36299:case 36307:return setValueT3D1;case 35680:case 36300:case 36308:case 36293:return setValueT6;case 36289:case 36303:case 36311:case 36292:return setValueT2DArray1}}function setValueV1fArray(t,e){t.uniform1fv(this.addr,e)}function setValueV2fArray(t,e){const r=flatten(e,this.size,2);t.uniform2fv(this.addr,r)}function setValueV3fArray(t,e){const r=flatten(e,this.size,3);t.uniform3fv(this.addr,r)}function setValueV4fArray(t,e){const r=flatten(e,this.size,4);t.uniform4fv(this.addr,r)}function setValueM2Array(t,e){const r=flatten(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,r)}function setValueM3Array(t,e){const r=flatten(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,r)}function setValueM4Array(t,e){const r=flatten(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,r)}function setValueV1iArray(t,e){t.uniform1iv(this.addr,e)}function setValueV2iArray(t,e){t.uniform2iv(this.addr,e)}function setValueV3iArray(t,e){t.uniform3iv(this.addr,e)}function setValueV4iArray(t,e){t.uniform4iv(this.addr,e)}function setValueV1uiArray(t,e){t.uniform1uiv(this.addr,e)}function setValueV2uiArray(t,e){t.uniform2uiv(this.addr,e)}function setValueV3uiArray(t,e){t.uniform3uiv(this.addr,e)}function setValueV4uiArray(t,e){t.uniform4uiv(this.addr,e)}function setValueT1Array(t,e,r){const s=this.cache,o=e.length,i=allocTexUnits(r,o);arraysEqual(s,i)||(t.uniform1iv(this.addr,i),copyArray(s,i));for(let n=0;n!==o;++n)r.setTexture2D(e[n]||emptyTexture,i[n])}function setValueT3DArray(t,e,r){const s=this.cache,o=e.length,i=allocTexUnits(r,o);arraysEqual(s,i)||(t.uniform1iv(this.addr,i),copyArray(s,i));for(let n=0;n!==o;++n)r.setTexture3D(e[n]||empty3dTexture,i[n])}function setValueT6Array(t,e,r){const s=this.cache,o=e.length,i=allocTexUnits(r,o);arraysEqual(s,i)||(t.uniform1iv(this.addr,i),copyArray(s,i));for(let n=0;n!==o;++n)r.setTextureCube(e[n]||emptyCubeTexture,i[n])}function setValueT2DArrayArray(t,e,r){const s=this.cache,o=e.length,i=allocTexUnits(r,o);arraysEqual(s,i)||(t.uniform1iv(this.addr,i),copyArray(s,i));for(let n=0;n!==o;++n)r.setTexture2DArray(e[n]||emptyArrayTexture,i[n])}function getPureArraySetter(t){switch(t){case 5126:return setValueV1fArray;case 35664:return setValueV2fArray;case 35665:return setValueV3fArray;case 35666:return setValueV4fArray;case 35674:return setValueM2Array;case 35675:return setValueM3Array;case 35676:return setValueM4Array;case 5124:case 35670:return setValueV1iArray;case 35667:case 35671:return setValueV2iArray;case 35668:case 35672:return setValueV3iArray;case 35669:case 35673:return setValueV4iArray;case 5125:return setValueV1uiArray;case 36294:return setValueV2uiArray;case 36295:return setValueV3uiArray;case 36296:return setValueV4uiArray;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1Array;case 35679:case 36299:case 36307:return setValueT3DArray;case 35680:case 36300:case 36308:case 36293:return setValueT6Array;case 36289:case 36303:case 36311:case 36292:return setValueT2DArrayArray}}class SingleUniform{constructor(e,r,s){this.id=e,this.addr=s,this.cache=[],this.setValue=getSingularSetter(r.type)}}class PureArrayUniform{constructor(e,r,s){this.id=e,this.addr=s,this.cache=[],this.size=r.size,this.setValue=getPureArraySetter(r.type)}}class StructuredUniform{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,r,s){const o=this.seq;for(let i=0,n=o.length;i!==n;++i){const p=o[i];p.setValue(e,r[p.id],s)}}}const RePathPart=/(\w+)(\])?(\[|\.)?/g;function addUniform(t,e){t.seq.push(e),t.map[e.id]=e}function parseUniform(t,e,r){const s=t.name,o=s.length;for(RePathPart.lastIndex=0;;){const i=RePathPart.exec(s),n=RePathPart.lastIndex;let p=i[1];const d=i[2]==="]",l=i[3];if(d&&(p=p|0),l===void 0||l==="["&&n+2===o){addUniform(r,l===void 0?new SingleUniform(p,t,e):new PureArrayUniform(p,t,e));break}else{let c=r.map[p];c===void 0&&(c=new StructuredUniform(p),addUniform(r,c)),r=c}}}class WebGLUniforms{constructor(e,r){this.seq=[],this.map={};const s=e.getProgramParameter(r,e.ACTIVE_UNIFORMS);for(let o=0;o<s;++o){const i=e.getActiveUniform(r,o),n=e.getUniformLocation(r,i.name);parseUniform(i,n,this)}}setValue(e,r,s,o){const i=this.map[r];i!==void 0&&i.setValue(e,s,o)}setOptional(e,r,s){const o=r[s];o!==void 0&&this.setValue(e,s,o)}static upload(e,r,s,o){for(let i=0,n=r.length;i!==n;++i){const p=r[i],d=s[p.id];d.needsUpdate!==!1&&p.setValue(e,d.value,o)}}static seqWithValue(e,r){const s=[];for(let o=0,i=e.length;o!==i;++o){const n=e[o];n.id in r&&s.push(n)}return s}}function WebGLShader(t,e,r){const s=t.createShader(e);return t.shaderSource(s,r),t.compileShader(s),s}let programIdCount=0;function handleSource(t,e){const r=t.split(`
`),s=[],o=Math.max(e-6,0),i=Math.min(e+6,r.length);for(let n=o;n<i;n++){const p=n+1;s.push(`${p===e?">":" "} ${p}: ${r[n]}`)}return s.join(`
`)}function getEncodingComponents(t){switch(t){case LinearSRGBColorSpace:return["Linear","( value )"];case SRGBColorSpace:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),["Linear","( value )"]}}function getShaderErrors(t,e,r){const s=t.getShaderParameter(e,t.COMPILE_STATUS),o=t.getShaderInfoLog(e).trim();if(s&&o==="")return"";const i=/ERROR: 0:(\d+)/.exec(o);if(i){const n=parseInt(i[1]);return r.toUpperCase()+`

`+o+`

`+handleSource(t.getShaderSource(e),n)}else return o}function getTexelEncodingFunction(t,e){const r=getEncodingComponents(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+r[0]+r[1]+"; }"}function getToneMappingFunction(t,e){let r;switch(e){case LinearToneMapping:r="Linear";break;case ReinhardToneMapping:r="Reinhard";break;case CineonToneMapping:r="OptimizedCineon";break;case ACESFilmicToneMapping:r="ACESFilmic";break;case CustomToneMapping:r="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),r="Linear"}return"vec3 "+t+"( vec3 color ) { return "+r+"ToneMapping( color ); }"}function generateExtensions(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(filterEmptyLine).join(`
`)}function generateDefines(t){const e=[];for(const r in t){const s=t[r];s!==!1&&e.push("#define "+r+" "+s)}return e.join(`
`)}function fetchAttributeLocations(t,e){const r={},s=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let o=0;o<s;o++){const i=t.getActiveAttrib(e,o),n=i.name;let p=1;i.type===t.FLOAT_MAT2&&(p=2),i.type===t.FLOAT_MAT3&&(p=3),i.type===t.FLOAT_MAT4&&(p=4),r[n]={type:i.type,location:t.getAttribLocation(e,n),locationSize:p}}return r}function filterEmptyLine(t){return t!==""}function replaceLightNums(t,e){const r=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,r).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function replaceClippingPlaneNums(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const includePattern=/^[ \t]*#include +<([\w\d./]+)>/gm;function resolveIncludes(t){return t.replace(includePattern,includeReplacer)}const shaderChunkMap=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function includeReplacer(t,e){let r=ShaderChunk[e];if(r===void 0){const s=shaderChunkMap.get(e);if(s!==void 0)r=ShaderChunk[s],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,s);else throw new Error("Can not resolve #include <"+e+">")}return resolveIncludes(r)}const unrollLoopPattern=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function unrollLoops(t){return t.replace(unrollLoopPattern,loopReplacer)}function loopReplacer(t,e,r,s){let o="";for(let i=parseInt(e);i<parseInt(r);i++)o+=s.replace(/\[\s*i\s*\]/g,"[ "+i+" ]").replace(/UNROLLED_LOOP_INDEX/g,i);return o}function generatePrecision(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function generateShadowMapTypeDefine(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===PCFShadowMap?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===PCFSoftShadowMap?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===VSMShadowMap&&(e="SHADOWMAP_TYPE_VSM"),e}function generateEnvMapTypeDefine(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case CubeReflectionMapping:case CubeRefractionMapping:e="ENVMAP_TYPE_CUBE";break;case CubeUVReflectionMapping:e="ENVMAP_TYPE_CUBE_UV";break}return e}function generateEnvMapModeDefine(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case CubeRefractionMapping:e="ENVMAP_MODE_REFRACTION";break}return e}function generateEnvMapBlendingDefine(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case MultiplyOperation:e="ENVMAP_BLENDING_MULTIPLY";break;case MixOperation:e="ENVMAP_BLENDING_MIX";break;case AddOperation:e="ENVMAP_BLENDING_ADD";break}return e}function generateCubeUVSize(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const r=Math.log2(e)-2,s=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,r),7*16)),texelHeight:s,maxMip:r}}function WebGLProgram(t,e,r,s){const o=t.getContext(),i=r.defines;let n=r.vertexShader,p=r.fragmentShader;const d=generateShadowMapTypeDefine(r),l=generateEnvMapTypeDefine(r),u=generateEnvMapModeDefine(r),c=generateEnvMapBlendingDefine(r),g=generateCubeUVSize(r),f=r.isWebGL2?"":generateExtensions(r),y=generateDefines(i),_=o.createProgram();let m,h,R=r.glslVersion?"#version "+r.glslVersion+`
`:"";r.isRawShaderMaterial?(m=["#define SHADER_TYPE "+r.shaderType,"#define SHADER_NAME "+r.shaderName,y].filter(filterEmptyLine).join(`
`),m.length>0&&(m+=`
`),h=[f,"#define SHADER_TYPE "+r.shaderType,"#define SHADER_NAME "+r.shaderName,y].filter(filterEmptyLine).join(`
`),h.length>0&&(h+=`
`)):(m=[generatePrecision(r),"#define SHADER_TYPE "+r.shaderType,"#define SHADER_NAME "+r.shaderName,y,r.instancing?"#define USE_INSTANCING":"",r.instancingColor?"#define USE_INSTANCING_COLOR":"",r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+u:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",r.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",r.displacementMap?"#define USE_DISPLACEMENTMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.anisotropyMap?"#define USE_ANISOTROPYMAP":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",r.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",r.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.alphaHash?"#define USE_ALPHAHASH":"",r.transmission?"#define USE_TRANSMISSION":"",r.transmissionMap?"#define USE_TRANSMISSIONMAP":"",r.thicknessMap?"#define USE_THICKNESSMAP":"",r.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",r.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",r.mapUv?"#define MAP_UV "+r.mapUv:"",r.alphaMapUv?"#define ALPHAMAP_UV "+r.alphaMapUv:"",r.lightMapUv?"#define LIGHTMAP_UV "+r.lightMapUv:"",r.aoMapUv?"#define AOMAP_UV "+r.aoMapUv:"",r.emissiveMapUv?"#define EMISSIVEMAP_UV "+r.emissiveMapUv:"",r.bumpMapUv?"#define BUMPMAP_UV "+r.bumpMapUv:"",r.normalMapUv?"#define NORMALMAP_UV "+r.normalMapUv:"",r.displacementMapUv?"#define DISPLACEMENTMAP_UV "+r.displacementMapUv:"",r.metalnessMapUv?"#define METALNESSMAP_UV "+r.metalnessMapUv:"",r.roughnessMapUv?"#define ROUGHNESSMAP_UV "+r.roughnessMapUv:"",r.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+r.anisotropyMapUv:"",r.clearcoatMapUv?"#define CLEARCOATMAP_UV "+r.clearcoatMapUv:"",r.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+r.clearcoatNormalMapUv:"",r.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+r.clearcoatRoughnessMapUv:"",r.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+r.iridescenceMapUv:"",r.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+r.iridescenceThicknessMapUv:"",r.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+r.sheenColorMapUv:"",r.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+r.sheenRoughnessMapUv:"",r.specularMapUv?"#define SPECULARMAP_UV "+r.specularMapUv:"",r.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+r.specularColorMapUv:"",r.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+r.specularIntensityMapUv:"",r.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+r.transmissionMapUv:"",r.thicknessMapUv?"#define THICKNESSMAP_UV "+r.thicknessMapUv:"",r.vertexTangents&&r.flatShading===!1?"#define USE_TANGENT":"",r.vertexColors?"#define USE_COLOR":"",r.vertexAlphas?"#define USE_COLOR_ALPHA":"",r.vertexUv1s?"#define USE_UV1":"",r.vertexUv2s?"#define USE_UV2":"",r.vertexUv3s?"#define USE_UV3":"",r.pointsUvs?"#define USE_POINTS_UV":"",r.flatShading?"#define FLAT_SHADED":"",r.skinning?"#define USE_SKINNING":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals&&r.flatShading===!1?"#define USE_MORPHNORMALS":"",r.morphColors&&r.isWebGL2?"#define USE_MORPHCOLORS":"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+r.morphTextureStride:"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_COUNT "+r.morphTargetsCount:"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+d:"",r.sizeAttenuation?"#define USE_SIZEATTENUATION":"",r.useLegacyLights?"#define LEGACY_LIGHTS":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(filterEmptyLine).join(`
`),h=[f,generatePrecision(r),"#define SHADER_TYPE "+r.shaderType,"#define SHADER_NAME "+r.shaderName,y,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.matcap?"#define USE_MATCAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+l:"",r.envMap?"#define "+u:"",r.envMap?"#define "+c:"",g?"#define CUBEUV_TEXEL_WIDTH "+g.texelWidth:"",g?"#define CUBEUV_TEXEL_HEIGHT "+g.texelHeight:"",g?"#define CUBEUV_MAX_MIP "+g.maxMip+".0":"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",r.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.anisotropy?"#define USE_ANISOTROPY":"",r.anisotropyMap?"#define USE_ANISOTROPYMAP":"",r.clearcoat?"#define USE_CLEARCOAT":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.iridescence?"#define USE_IRIDESCENCE":"",r.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",r.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",r.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.alphaTest?"#define USE_ALPHATEST":"",r.alphaHash?"#define USE_ALPHAHASH":"",r.sheen?"#define USE_SHEEN":"",r.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",r.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",r.transmission?"#define USE_TRANSMISSION":"",r.transmissionMap?"#define USE_TRANSMISSIONMAP":"",r.thicknessMap?"#define USE_THICKNESSMAP":"",r.vertexTangents&&r.flatShading===!1?"#define USE_TANGENT":"",r.vertexColors||r.instancingColor?"#define USE_COLOR":"",r.vertexAlphas?"#define USE_COLOR_ALPHA":"",r.vertexUv1s?"#define USE_UV1":"",r.vertexUv2s?"#define USE_UV2":"",r.vertexUv3s?"#define USE_UV3":"",r.pointsUvs?"#define USE_POINTS_UV":"",r.gradientMap?"#define USE_GRADIENTMAP":"",r.flatShading?"#define FLAT_SHADED":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+d:"",r.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",r.useLegacyLights?"#define LEGACY_LIGHTS":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",r.toneMapping!==NoToneMapping?"#define TONE_MAPPING":"",r.toneMapping!==NoToneMapping?ShaderChunk.tonemapping_pars_fragment:"",r.toneMapping!==NoToneMapping?getToneMappingFunction("toneMapping",r.toneMapping):"",r.dithering?"#define DITHERING":"",r.opaque?"#define OPAQUE":"",ShaderChunk.colorspace_pars_fragment,getTexelEncodingFunction("linearToOutputTexel",r.outputColorSpace),r.useDepthPacking?"#define DEPTH_PACKING "+r.depthPacking:"",`
`].filter(filterEmptyLine).join(`
`)),n=resolveIncludes(n),n=replaceLightNums(n,r),n=replaceClippingPlaneNums(n,r),p=resolveIncludes(p),p=replaceLightNums(p,r),p=replaceClippingPlaneNums(p,r),n=unrollLoops(n),p=unrollLoops(p),r.isWebGL2&&r.isRawShaderMaterial!==!0&&(R=`#version 300 es
`,m=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+m,h=["#define varying in",r.glslVersion===GLSL3?"":"layout(location = 0) out highp vec4 pc_fragColor;",r.glslVersion===GLSL3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+h);const b=R+m+n,v=R+h+p,S=WebGLShader(o,o.VERTEX_SHADER,b),T=WebGLShader(o,o.FRAGMENT_SHADER,v);if(o.attachShader(_,S),o.attachShader(_,T),r.index0AttributeName!==void 0?o.bindAttribLocation(_,0,r.index0AttributeName):r.morphTargets===!0&&o.bindAttribLocation(_,0,"position"),o.linkProgram(_),t.debug.checkShaderErrors){const M=o.getProgramInfoLog(_).trim(),E=o.getShaderInfoLog(S).trim(),B=o.getShaderInfoLog(T).trim();let N=!0,w=!0;if(o.getProgramParameter(_,o.LINK_STATUS)===!1)if(N=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(o,_,S,T);else{const D=getShaderErrors(o,S,"vertex"),G=getShaderErrors(o,T,"fragment");console.error("THREE.WebGLProgram: Shader Error "+o.getError()+" - VALIDATE_STATUS "+o.getProgramParameter(_,o.VALIDATE_STATUS)+`

Program Info Log: `+M+`
`+D+`
`+G)}else M!==""?console.warn("THREE.WebGLProgram: Program Info Log:",M):(E===""||B==="")&&(w=!1);w&&(this.diagnostics={runnable:N,programLog:M,vertexShader:{log:E,prefix:m},fragmentShader:{log:B,prefix:h}})}o.deleteShader(S),o.deleteShader(T);let O;this.getUniforms=function(){return O===void 0&&(O=new WebGLUniforms(o,_)),O};let C;return this.getAttributes=function(){return C===void 0&&(C=fetchAttributeLocations(o,_)),C},this.destroy=function(){s.releaseStatesOfProgram(this),o.deleteProgram(_),this.program=void 0},this.type=r.shaderType,this.name=r.shaderName,this.id=programIdCount++,this.cacheKey=e,this.usedTimes=1,this.program=_,this.vertexShader=S,this.fragmentShader=T,this}let _id=0;class WebGLShaderCache{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const r=e.vertexShader,s=e.fragmentShader,o=this._getShaderStage(r),i=this._getShaderStage(s),n=this._getShaderCacheForMaterial(e);return n.has(o)===!1&&(n.add(o),o.usedTimes++),n.has(i)===!1&&(n.add(i),i.usedTimes++),this}remove(e){const r=this.materialCache.get(e);for(const s of r)s.usedTimes--,s.usedTimes===0&&this.shaderCache.delete(s.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const r=this.materialCache;let s=r.get(e);return s===void 0&&(s=new Set,r.set(e,s)),s}_getShaderStage(e){const r=this.shaderCache;let s=r.get(e);return s===void 0&&(s=new WebGLShaderStage(e),r.set(e,s)),s}}class WebGLShaderStage{constructor(e){this.id=_id++,this.code=e,this.usedTimes=0}}function WebGLPrograms(t,e,r,s,o,i,n){const p=new Layers,d=new WebGLShaderCache,l=[],u=o.isWebGL2,c=o.logarithmicDepthBuffer,g=o.vertexTextures;let f=o.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function _(M){return M===0?"uv":`uv${M}`}function m(M,E,B,N,w){const D=N.fog,G=w.geometry,K=M.isMeshStandardMaterial?N.environment:null,j=(M.isMeshStandardMaterial?r:e).get(M.envMap||K),Y=j&&j.mapping===CubeUVReflectionMapping?j.image.height:null,J=y[M.type];M.precision!==null&&(f=o.getMaxPrecision(M.precision),f!==M.precision&&console.warn("THREE.WebGLProgram.getParameters:",M.precision,"not supported, using",f,"instead."));const q=G.morphAttributes.position||G.morphAttributes.normal||G.morphAttributes.color,U=q!==void 0?q.length:0;let W=0;G.morphAttributes.position!==void 0&&(W=1),G.morphAttributes.normal!==void 0&&(W=2),G.morphAttributes.color!==void 0&&(W=3);let ne,ae,se,he;if(J){const Ze=ShaderLib[J];ne=Ze.vertexShader,ae=Ze.fragmentShader}else ne=M.vertexShader,ae=M.fragmentShader,d.update(M),se=d.getVertexShaderID(M),he=d.getFragmentShaderID(M);const Ee=t.getRenderTarget(),_e=w.isInstancedMesh===!0,Be=!!M.map,Ke=!!M.matcap,Ae=!!j,I=!!M.aoMap,Ve=!!M.lightMap,ye=!!M.bumpMap,Te=!!M.normalMap,ve=!!M.displacementMap,Ie=!!M.emissiveMap,Ce=!!M.metalnessMap,Oe=!!M.roughnessMap,ke=M.anisotropy>0,He=M.clearcoat>0,Xe=M.iridescence>0,A=M.sheen>0,F=M.transmission>0,V=ke&&!!M.anisotropyMap,Z=He&&!!M.clearcoatMap,Q=He&&!!M.clearcoatNormalMap,re=He&&!!M.clearcoatRoughnessMap,ce=Xe&&!!M.iridescenceMap,ie=Xe&&!!M.iridescenceThicknessMap,$=A&&!!M.sheenColorMap,ue=A&&!!M.sheenRoughnessMap,ge=!!M.specularMap,me=!!M.specularColorMap,de=!!M.specularIntensityMap,le=F&&!!M.transmissionMap,Fe=F&&!!M.thicknessMap,De=!!M.gradientMap,L=!!M.alphaMap,te=M.alphaTest>0,z=!!M.alphaHash,ee=!!M.extensions,oe=!!G.attributes.uv1,we=!!G.attributes.uv2,Pe=!!G.attributes.uv3;return{isWebGL2:u,shaderID:J,shaderType:M.type,shaderName:M.name,vertexShader:ne,fragmentShader:ae,defines:M.defines,customVertexShaderID:se,customFragmentShaderID:he,isRawShaderMaterial:M.isRawShaderMaterial===!0,glslVersion:M.glslVersion,precision:f,instancing:_e,instancingColor:_e&&w.instanceColor!==null,supportsVertexTextures:g,outputColorSpace:Ee===null?t.outputColorSpace:Ee.isXRRenderTarget===!0?Ee.texture.colorSpace:LinearSRGBColorSpace,map:Be,matcap:Ke,envMap:Ae,envMapMode:Ae&&j.mapping,envMapCubeUVHeight:Y,aoMap:I,lightMap:Ve,bumpMap:ye,normalMap:Te,displacementMap:g&&ve,emissiveMap:Ie,normalMapObjectSpace:Te&&M.normalMapType===ObjectSpaceNormalMap,normalMapTangentSpace:Te&&M.normalMapType===TangentSpaceNormalMap,metalnessMap:Ce,roughnessMap:Oe,anisotropy:ke,anisotropyMap:V,clearcoat:He,clearcoatMap:Z,clearcoatNormalMap:Q,clearcoatRoughnessMap:re,iridescence:Xe,iridescenceMap:ce,iridescenceThicknessMap:ie,sheen:A,sheenColorMap:$,sheenRoughnessMap:ue,specularMap:ge,specularColorMap:me,specularIntensityMap:de,transmission:F,transmissionMap:le,thicknessMap:Fe,gradientMap:De,opaque:M.transparent===!1&&M.blending===NormalBlending,alphaMap:L,alphaTest:te,alphaHash:z,combine:M.combine,mapUv:Be&&_(M.map.channel),aoMapUv:I&&_(M.aoMap.channel),lightMapUv:Ve&&_(M.lightMap.channel),bumpMapUv:ye&&_(M.bumpMap.channel),normalMapUv:Te&&_(M.normalMap.channel),displacementMapUv:ve&&_(M.displacementMap.channel),emissiveMapUv:Ie&&_(M.emissiveMap.channel),metalnessMapUv:Ce&&_(M.metalnessMap.channel),roughnessMapUv:Oe&&_(M.roughnessMap.channel),anisotropyMapUv:V&&_(M.anisotropyMap.channel),clearcoatMapUv:Z&&_(M.clearcoatMap.channel),clearcoatNormalMapUv:Q&&_(M.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:re&&_(M.clearcoatRoughnessMap.channel),iridescenceMapUv:ce&&_(M.iridescenceMap.channel),iridescenceThicknessMapUv:ie&&_(M.iridescenceThicknessMap.channel),sheenColorMapUv:$&&_(M.sheenColorMap.channel),sheenRoughnessMapUv:ue&&_(M.sheenRoughnessMap.channel),specularMapUv:ge&&_(M.specularMap.channel),specularColorMapUv:me&&_(M.specularColorMap.channel),specularIntensityMapUv:de&&_(M.specularIntensityMap.channel),transmissionMapUv:le&&_(M.transmissionMap.channel),thicknessMapUv:Fe&&_(M.thicknessMap.channel),alphaMapUv:L&&_(M.alphaMap.channel),vertexTangents:!!G.attributes.tangent&&(Te||ke),vertexColors:M.vertexColors,vertexAlphas:M.vertexColors===!0&&!!G.attributes.color&&G.attributes.color.itemSize===4,vertexUv1s:oe,vertexUv2s:we,vertexUv3s:Pe,pointsUvs:w.isPoints===!0&&!!G.attributes.uv&&(Be||L),fog:!!D,useFog:M.fog===!0,fogExp2:D&&D.isFogExp2,flatShading:M.flatShading===!0,sizeAttenuation:M.sizeAttenuation===!0,logarithmicDepthBuffer:c,skinning:w.isSkinnedMesh===!0,morphTargets:G.morphAttributes.position!==void 0,morphNormals:G.morphAttributes.normal!==void 0,morphColors:G.morphAttributes.color!==void 0,morphTargetsCount:U,morphTextureStride:W,numDirLights:E.directional.length,numPointLights:E.point.length,numSpotLights:E.spot.length,numSpotLightMaps:E.spotLightMap.length,numRectAreaLights:E.rectArea.length,numHemiLights:E.hemi.length,numDirLightShadows:E.directionalShadowMap.length,numPointLightShadows:E.pointShadowMap.length,numSpotLightShadows:E.spotShadowMap.length,numSpotLightShadowsWithMaps:E.numSpotLightShadowsWithMaps,numClippingPlanes:n.numPlanes,numClipIntersection:n.numIntersection,dithering:M.dithering,shadowMapEnabled:t.shadowMap.enabled&&B.length>0,shadowMapType:t.shadowMap.type,toneMapping:M.toneMapped?t.toneMapping:NoToneMapping,useLegacyLights:t.useLegacyLights,premultipliedAlpha:M.premultipliedAlpha,doubleSided:M.side===DoubleSide,flipSided:M.side===BackSide,useDepthPacking:M.depthPacking>=0,depthPacking:M.depthPacking||0,index0AttributeName:M.index0AttributeName,extensionDerivatives:ee&&M.extensions.derivatives===!0,extensionFragDepth:ee&&M.extensions.fragDepth===!0,extensionDrawBuffers:ee&&M.extensions.drawBuffers===!0,extensionShaderTextureLOD:ee&&M.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:u||s.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||s.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||s.has("EXT_shader_texture_lod"),customProgramCacheKey:M.customProgramCacheKey()}}function h(M){const E=[];if(M.shaderID?E.push(M.shaderID):(E.push(M.customVertexShaderID),E.push(M.customFragmentShaderID)),M.defines!==void 0)for(const B in M.defines)E.push(B),E.push(M.defines[B]);return M.isRawShaderMaterial===!1&&(R(E,M),b(E,M),E.push(t.outputColorSpace)),E.push(M.customProgramCacheKey),E.join()}function R(M,E){M.push(E.precision),M.push(E.outputColorSpace),M.push(E.envMapMode),M.push(E.envMapCubeUVHeight),M.push(E.mapUv),M.push(E.alphaMapUv),M.push(E.lightMapUv),M.push(E.aoMapUv),M.push(E.bumpMapUv),M.push(E.normalMapUv),M.push(E.displacementMapUv),M.push(E.emissiveMapUv),M.push(E.metalnessMapUv),M.push(E.roughnessMapUv),M.push(E.anisotropyMapUv),M.push(E.clearcoatMapUv),M.push(E.clearcoatNormalMapUv),M.push(E.clearcoatRoughnessMapUv),M.push(E.iridescenceMapUv),M.push(E.iridescenceThicknessMapUv),M.push(E.sheenColorMapUv),M.push(E.sheenRoughnessMapUv),M.push(E.specularMapUv),M.push(E.specularColorMapUv),M.push(E.specularIntensityMapUv),M.push(E.transmissionMapUv),M.push(E.thicknessMapUv),M.push(E.combine),M.push(E.fogExp2),M.push(E.sizeAttenuation),M.push(E.morphTargetsCount),M.push(E.morphAttributeCount),M.push(E.numDirLights),M.push(E.numPointLights),M.push(E.numSpotLights),M.push(E.numSpotLightMaps),M.push(E.numHemiLights),M.push(E.numRectAreaLights),M.push(E.numDirLightShadows),M.push(E.numPointLightShadows),M.push(E.numSpotLightShadows),M.push(E.numSpotLightShadowsWithMaps),M.push(E.shadowMapType),M.push(E.toneMapping),M.push(E.numClippingPlanes),M.push(E.numClipIntersection),M.push(E.depthPacking)}function b(M,E){p.disableAll(),E.isWebGL2&&p.enable(0),E.supportsVertexTextures&&p.enable(1),E.instancing&&p.enable(2),E.instancingColor&&p.enable(3),E.matcap&&p.enable(4),E.envMap&&p.enable(5),E.normalMapObjectSpace&&p.enable(6),E.normalMapTangentSpace&&p.enable(7),E.clearcoat&&p.enable(8),E.iridescence&&p.enable(9),E.alphaTest&&p.enable(10),E.vertexColors&&p.enable(11),E.vertexAlphas&&p.enable(12),E.vertexUv1s&&p.enable(13),E.vertexUv2s&&p.enable(14),E.vertexUv3s&&p.enable(15),E.vertexTangents&&p.enable(16),E.anisotropy&&p.enable(17),M.push(p.mask),p.disableAll(),E.fog&&p.enable(0),E.useFog&&p.enable(1),E.flatShading&&p.enable(2),E.logarithmicDepthBuffer&&p.enable(3),E.skinning&&p.enable(4),E.morphTargets&&p.enable(5),E.morphNormals&&p.enable(6),E.morphColors&&p.enable(7),E.premultipliedAlpha&&p.enable(8),E.shadowMapEnabled&&p.enable(9),E.useLegacyLights&&p.enable(10),E.doubleSided&&p.enable(11),E.flipSided&&p.enable(12),E.useDepthPacking&&p.enable(13),E.dithering&&p.enable(14),E.transmission&&p.enable(15),E.sheen&&p.enable(16),E.opaque&&p.enable(17),E.pointsUvs&&p.enable(18),M.push(p.mask)}function v(M){const E=y[M.type];let B;if(E){const N=ShaderLib[E];B=UniformsUtils.clone(N.uniforms)}else B=M.uniforms;return B}function S(M,E){let B;for(let N=0,w=l.length;N<w;N++){const D=l[N];if(D.cacheKey===E){B=D,++B.usedTimes;break}}return B===void 0&&(B=new WebGLProgram(t,E,M,i),l.push(B)),B}function T(M){if(--M.usedTimes===0){const E=l.indexOf(M);l[E]=l[l.length-1],l.pop(),M.destroy()}}function O(M){d.remove(M)}function C(){d.dispose()}return{getParameters:m,getProgramCacheKey:h,getUniforms:v,acquireProgram:S,releaseProgram:T,releaseShaderCache:O,programs:l,dispose:C}}function WebGLProperties(){let t=new WeakMap;function e(i){let n=t.get(i);return n===void 0&&(n={},t.set(i,n)),n}function r(i){t.delete(i)}function s(i,n,p){t.get(i)[n]=p}function o(){t=new WeakMap}return{get:e,remove:r,update:s,dispose:o}}function painterSortStable(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function reversePainterSortStable(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function WebGLRenderList(){const t=[];let e=0;const r=[],s=[],o=[];function i(){e=0,r.length=0,s.length=0,o.length=0}function n(c,g,f,y,_,m){let h=t[e];return h===void 0?(h={id:c.id,object:c,geometry:g,material:f,groupOrder:y,renderOrder:c.renderOrder,z:_,group:m},t[e]=h):(h.id=c.id,h.object=c,h.geometry=g,h.material=f,h.groupOrder=y,h.renderOrder=c.renderOrder,h.z=_,h.group=m),e++,h}function p(c,g,f,y,_,m){const h=n(c,g,f,y,_,m);f.transmission>0?s.push(h):f.transparent===!0?o.push(h):r.push(h)}function d(c,g,f,y,_,m){const h=n(c,g,f,y,_,m);f.transmission>0?s.unshift(h):f.transparent===!0?o.unshift(h):r.unshift(h)}function l(c,g){r.length>1&&r.sort(c||painterSortStable),s.length>1&&s.sort(g||reversePainterSortStable),o.length>1&&o.sort(g||reversePainterSortStable)}function u(){for(let c=e,g=t.length;c<g;c++){const f=t[c];if(f.id===null)break;f.id=null,f.object=null,f.geometry=null,f.material=null,f.group=null}}return{opaque:r,transmissive:s,transparent:o,init:i,push:p,unshift:d,finish:u,sort:l}}function WebGLRenderLists(){let t=new WeakMap;function e(s,o){const i=t.get(s);let n;return i===void 0?(n=new WebGLRenderList,t.set(s,[n])):o>=i.length?(n=new WebGLRenderList,i.push(n)):n=i[o],n}function r(){t=new WeakMap}return{get:e,dispose:r}}function UniformsCache(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let r;switch(e.type){case"DirectionalLight":r={direction:new Vector3,color:new Color};break;case"SpotLight":r={position:new Vector3,direction:new Vector3,color:new Color,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":r={position:new Vector3,color:new Color,distance:0,decay:0};break;case"HemisphereLight":r={direction:new Vector3,skyColor:new Color,groundColor:new Color};break;case"RectAreaLight":r={color:new Color,position:new Vector3,halfWidth:new Vector3,halfHeight:new Vector3};break}return t[e.id]=r,r}}}function ShadowUniformsCache(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let r;switch(e.type){case"DirectionalLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"SpotLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"PointLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=r,r}}}let nextVersion=0;function shadowCastingAndTexturingLightsFirst(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function WebGLLights(t,e){const r=new UniformsCache,s=ShadowUniformsCache(),o={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let u=0;u<9;u++)o.probe.push(new Vector3);const i=new Vector3,n=new Matrix4,p=new Matrix4;function d(u,c){let g=0,f=0,y=0;for(let B=0;B<9;B++)o.probe[B].set(0,0,0);let _=0,m=0,h=0,R=0,b=0,v=0,S=0,T=0,O=0,C=0;u.sort(shadowCastingAndTexturingLightsFirst);const M=c===!0?Math.PI:1;for(let B=0,N=u.length;B<N;B++){const w=u[B],D=w.color,G=w.intensity,K=w.distance,j=w.shadow&&w.shadow.map?w.shadow.map.texture:null;if(w.isAmbientLight)g+=D.r*G*M,f+=D.g*G*M,y+=D.b*G*M;else if(w.isLightProbe)for(let Y=0;Y<9;Y++)o.probe[Y].addScaledVector(w.sh.coefficients[Y],G);else if(w.isDirectionalLight){const Y=r.get(w);if(Y.color.copy(w.color).multiplyScalar(w.intensity*M),w.castShadow){const J=w.shadow,q=s.get(w);q.shadowBias=J.bias,q.shadowNormalBias=J.normalBias,q.shadowRadius=J.radius,q.shadowMapSize=J.mapSize,o.directionalShadow[_]=q,o.directionalShadowMap[_]=j,o.directionalShadowMatrix[_]=w.shadow.matrix,v++}o.directional[_]=Y,_++}else if(w.isSpotLight){const Y=r.get(w);Y.position.setFromMatrixPosition(w.matrixWorld),Y.color.copy(D).multiplyScalar(G*M),Y.distance=K,Y.coneCos=Math.cos(w.angle),Y.penumbraCos=Math.cos(w.angle*(1-w.penumbra)),Y.decay=w.decay,o.spot[h]=Y;const J=w.shadow;if(w.map&&(o.spotLightMap[O]=w.map,O++,J.updateMatrices(w),w.castShadow&&C++),o.spotLightMatrix[h]=J.matrix,w.castShadow){const q=s.get(w);q.shadowBias=J.bias,q.shadowNormalBias=J.normalBias,q.shadowRadius=J.radius,q.shadowMapSize=J.mapSize,o.spotShadow[h]=q,o.spotShadowMap[h]=j,T++}h++}else if(w.isRectAreaLight){const Y=r.get(w);Y.color.copy(D).multiplyScalar(G),Y.halfWidth.set(w.width*.5,0,0),Y.halfHeight.set(0,w.height*.5,0),o.rectArea[R]=Y,R++}else if(w.isPointLight){const Y=r.get(w);if(Y.color.copy(w.color).multiplyScalar(w.intensity*M),Y.distance=w.distance,Y.decay=w.decay,w.castShadow){const J=w.shadow,q=s.get(w);q.shadowBias=J.bias,q.shadowNormalBias=J.normalBias,q.shadowRadius=J.radius,q.shadowMapSize=J.mapSize,q.shadowCameraNear=J.camera.near,q.shadowCameraFar=J.camera.far,o.pointShadow[m]=q,o.pointShadowMap[m]=j,o.pointShadowMatrix[m]=w.shadow.matrix,S++}o.point[m]=Y,m++}else if(w.isHemisphereLight){const Y=r.get(w);Y.skyColor.copy(w.color).multiplyScalar(G*M),Y.groundColor.copy(w.groundColor).multiplyScalar(G*M),o.hemi[b]=Y,b++}}R>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(o.rectAreaLTC1=UniformsLib.LTC_FLOAT_1,o.rectAreaLTC2=UniformsLib.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(o.rectAreaLTC1=UniformsLib.LTC_HALF_1,o.rectAreaLTC2=UniformsLib.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),o.ambient[0]=g,o.ambient[1]=f,o.ambient[2]=y;const E=o.hash;(E.directionalLength!==_||E.pointLength!==m||E.spotLength!==h||E.rectAreaLength!==R||E.hemiLength!==b||E.numDirectionalShadows!==v||E.numPointShadows!==S||E.numSpotShadows!==T||E.numSpotMaps!==O)&&(o.directional.length=_,o.spot.length=h,o.rectArea.length=R,o.point.length=m,o.hemi.length=b,o.directionalShadow.length=v,o.directionalShadowMap.length=v,o.pointShadow.length=S,o.pointShadowMap.length=S,o.spotShadow.length=T,o.spotShadowMap.length=T,o.directionalShadowMatrix.length=v,o.pointShadowMatrix.length=S,o.spotLightMatrix.length=T+O-C,o.spotLightMap.length=O,o.numSpotLightShadowsWithMaps=C,E.directionalLength=_,E.pointLength=m,E.spotLength=h,E.rectAreaLength=R,E.hemiLength=b,E.numDirectionalShadows=v,E.numPointShadows=S,E.numSpotShadows=T,E.numSpotMaps=O,o.version=nextVersion++)}function l(u,c){let g=0,f=0,y=0,_=0,m=0;const h=c.matrixWorldInverse;for(let R=0,b=u.length;R<b;R++){const v=u[R];if(v.isDirectionalLight){const S=o.directional[g];S.direction.setFromMatrixPosition(v.matrixWorld),i.setFromMatrixPosition(v.target.matrixWorld),S.direction.sub(i),S.direction.transformDirection(h),g++}else if(v.isSpotLight){const S=o.spot[y];S.position.setFromMatrixPosition(v.matrixWorld),S.position.applyMatrix4(h),S.direction.setFromMatrixPosition(v.matrixWorld),i.setFromMatrixPosition(v.target.matrixWorld),S.direction.sub(i),S.direction.transformDirection(h),y++}else if(v.isRectAreaLight){const S=o.rectArea[_];S.position.setFromMatrixPosition(v.matrixWorld),S.position.applyMatrix4(h),p.identity(),n.copy(v.matrixWorld),n.premultiply(h),p.extractRotation(n),S.halfWidth.set(v.width*.5,0,0),S.halfHeight.set(0,v.height*.5,0),S.halfWidth.applyMatrix4(p),S.halfHeight.applyMatrix4(p),_++}else if(v.isPointLight){const S=o.point[f];S.position.setFromMatrixPosition(v.matrixWorld),S.position.applyMatrix4(h),f++}else if(v.isHemisphereLight){const S=o.hemi[m];S.direction.setFromMatrixPosition(v.matrixWorld),S.direction.transformDirection(h),m++}}}return{setup:d,setupView:l,state:o}}function WebGLRenderState(t,e){const r=new WebGLLights(t,e),s=[],o=[];function i(){s.length=0,o.length=0}function n(c){s.push(c)}function p(c){o.push(c)}function d(c){r.setup(s,c)}function l(c){r.setupView(s,c)}return{init:i,state:{lightsArray:s,shadowsArray:o,lights:r},setupLights:d,setupLightsView:l,pushLight:n,pushShadow:p}}function WebGLRenderStates(t,e){let r=new WeakMap;function s(i,n=0){const p=r.get(i);let d;return p===void 0?(d=new WebGLRenderState(t,e),r.set(i,[d])):n>=p.length?(d=new WebGLRenderState(t,e),p.push(d)):d=p[n],d}function o(){r=new WeakMap}return{get:s,dispose:o}}class MeshDepthMaterial extends Material{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=BasicDepthPacking,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class MeshDistanceMaterial extends Material{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const vertex=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fragment=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function WebGLShadowMap(t,e,r){let s=new Frustum;const o=new Vector2,i=new Vector2,n=new Vector4,p=new MeshDepthMaterial({depthPacking:RGBADepthPacking}),d=new MeshDistanceMaterial,l={},u=r.maxTextureSize,c={[FrontSide]:BackSide,[BackSide]:FrontSide,[DoubleSide]:DoubleSide},g=new ShaderMaterial({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Vector2},radius:{value:4}},vertexShader:vertex,fragmentShader:fragment}),f=g.clone();f.defines.HORIZONTAL_PASS=1;const y=new BufferGeometry;y.setAttribute("position",new BufferAttribute(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const _=new Mesh(y,g),m=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=PCFShadowMap;let h=this.type;this.render=function(S,T,O){if(m.enabled===!1||m.autoUpdate===!1&&m.needsUpdate===!1||S.length===0)return;const C=t.getRenderTarget(),M=t.getActiveCubeFace(),E=t.getActiveMipmapLevel(),B=t.state;B.setBlending(NoBlending),B.buffers.color.setClear(1,1,1,1),B.buffers.depth.setTest(!0),B.setScissorTest(!1);const N=h!==VSMShadowMap&&this.type===VSMShadowMap,w=h===VSMShadowMap&&this.type!==VSMShadowMap;for(let D=0,G=S.length;D<G;D++){const K=S[D],j=K.shadow;if(j===void 0){console.warn("THREE.WebGLShadowMap:",K,"has no shadow.");continue}if(j.autoUpdate===!1&&j.needsUpdate===!1)continue;o.copy(j.mapSize);const Y=j.getFrameExtents();if(o.multiply(Y),i.copy(j.mapSize),(o.x>u||o.y>u)&&(o.x>u&&(i.x=Math.floor(u/Y.x),o.x=i.x*Y.x,j.mapSize.x=i.x),o.y>u&&(i.y=Math.floor(u/Y.y),o.y=i.y*Y.y,j.mapSize.y=i.y)),j.map===null||N===!0||w===!0){const q=this.type!==VSMShadowMap?{minFilter:NearestFilter,magFilter:NearestFilter}:{};j.map!==null&&j.map.dispose(),j.map=new WebGLRenderTarget(o.x,o.y,q),j.map.texture.name=K.name+".shadowMap",j.camera.updateProjectionMatrix()}t.setRenderTarget(j.map),t.clear();const J=j.getViewportCount();for(let q=0;q<J;q++){const U=j.getViewport(q);n.set(i.x*U.x,i.y*U.y,i.x*U.z,i.y*U.w),B.viewport(n),j.updateMatrices(K,q),s=j.getFrustum(),v(T,O,j.camera,K,this.type)}j.isPointLightShadow!==!0&&this.type===VSMShadowMap&&R(j,O),j.needsUpdate=!1}h=this.type,m.needsUpdate=!1,t.setRenderTarget(C,M,E)};function R(S,T){const O=e.update(_);g.defines.VSM_SAMPLES!==S.blurSamples&&(g.defines.VSM_SAMPLES=S.blurSamples,f.defines.VSM_SAMPLES=S.blurSamples,g.needsUpdate=!0,f.needsUpdate=!0),S.mapPass===null&&(S.mapPass=new WebGLRenderTarget(o.x,o.y)),g.uniforms.shadow_pass.value=S.map.texture,g.uniforms.resolution.value=S.mapSize,g.uniforms.radius.value=S.radius,t.setRenderTarget(S.mapPass),t.clear(),t.renderBufferDirect(T,null,O,g,_,null),f.uniforms.shadow_pass.value=S.mapPass.texture,f.uniforms.resolution.value=S.mapSize,f.uniforms.radius.value=S.radius,t.setRenderTarget(S.map),t.clear(),t.renderBufferDirect(T,null,O,f,_,null)}function b(S,T,O,C){let M=null;const E=O.isPointLight===!0?S.customDistanceMaterial:S.customDepthMaterial;if(E!==void 0)M=E;else if(M=O.isPointLight===!0?d:p,t.localClippingEnabled&&T.clipShadows===!0&&Array.isArray(T.clippingPlanes)&&T.clippingPlanes.length!==0||T.displacementMap&&T.displacementScale!==0||T.alphaMap&&T.alphaTest>0||T.map&&T.alphaTest>0){const B=M.uuid,N=T.uuid;let w=l[B];w===void 0&&(w={},l[B]=w);let D=w[N];D===void 0&&(D=M.clone(),w[N]=D),M=D}if(M.visible=T.visible,M.wireframe=T.wireframe,C===VSMShadowMap?M.side=T.shadowSide!==null?T.shadowSide:T.side:M.side=T.shadowSide!==null?T.shadowSide:c[T.side],M.alphaMap=T.alphaMap,M.alphaTest=T.alphaTest,M.map=T.map,M.clipShadows=T.clipShadows,M.clippingPlanes=T.clippingPlanes,M.clipIntersection=T.clipIntersection,M.displacementMap=T.displacementMap,M.displacementScale=T.displacementScale,M.displacementBias=T.displacementBias,M.wireframeLinewidth=T.wireframeLinewidth,M.linewidth=T.linewidth,O.isPointLight===!0&&M.isMeshDistanceMaterial===!0){const B=t.properties.get(M);B.light=O}return M}function v(S,T,O,C,M){if(S.visible===!1)return;if(S.layers.test(T.layers)&&(S.isMesh||S.isLine||S.isPoints)&&(S.castShadow||S.receiveShadow&&M===VSMShadowMap)&&(!S.frustumCulled||s.intersectsObject(S))){S.modelViewMatrix.multiplyMatrices(O.matrixWorldInverse,S.matrixWorld);const N=e.update(S),w=S.material;if(Array.isArray(w)){const D=N.groups;for(let G=0,K=D.length;G<K;G++){const j=D[G],Y=w[j.materialIndex];if(Y&&Y.visible){const J=b(S,Y,C,M);t.renderBufferDirect(O,null,N,J,S,j)}}}else if(w.visible){const D=b(S,w,C,M);t.renderBufferDirect(O,null,N,D,S,null)}}const B=S.children;for(let N=0,w=B.length;N<w;N++)v(B[N],T,O,C,M)}}function WebGLState(t,e,r){const s=r.isWebGL2;function o(){let L=!1;const te=new Vector4;let z=null;const ee=new Vector4(0,0,0,0);return{setMask:function(oe){z!==oe&&!L&&(t.colorMask(oe,oe,oe,oe),z=oe)},setLocked:function(oe){L=oe},setClear:function(oe,we,Pe,je,Ze){Ze===!0&&(oe*=je,we*=je,Pe*=je),te.set(oe,we,Pe,je),ee.equals(te)===!1&&(t.clearColor(oe,we,Pe,je),ee.copy(te))},reset:function(){L=!1,z=null,ee.set(-1,0,0,0)}}}function i(){let L=!1,te=null,z=null,ee=null;return{setTest:function(oe){oe?Ee(t.DEPTH_TEST):_e(t.DEPTH_TEST)},setMask:function(oe){te!==oe&&!L&&(t.depthMask(oe),te=oe)},setFunc:function(oe){if(z!==oe){switch(oe){case NeverDepth:t.depthFunc(t.NEVER);break;case AlwaysDepth:t.depthFunc(t.ALWAYS);break;case LessDepth:t.depthFunc(t.LESS);break;case LessEqualDepth:t.depthFunc(t.LEQUAL);break;case EqualDepth:t.depthFunc(t.EQUAL);break;case GreaterEqualDepth:t.depthFunc(t.GEQUAL);break;case GreaterDepth:t.depthFunc(t.GREATER);break;case NotEqualDepth:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}z=oe}},setLocked:function(oe){L=oe},setClear:function(oe){ee!==oe&&(t.clearDepth(oe),ee=oe)},reset:function(){L=!1,te=null,z=null,ee=null}}}function n(){let L=!1,te=null,z=null,ee=null,oe=null,we=null,Pe=null,je=null,Ze=null;return{setTest:function(Ge){L||(Ge?Ee(t.STENCIL_TEST):_e(t.STENCIL_TEST))},setMask:function(Ge){te!==Ge&&!L&&(t.stencilMask(Ge),te=Ge)},setFunc:function(Ge,Qe,$e){(z!==Ge||ee!==Qe||oe!==$e)&&(t.stencilFunc(Ge,Qe,$e),z=Ge,ee=Qe,oe=$e)},setOp:function(Ge,Qe,$e){(we!==Ge||Pe!==Qe||je!==$e)&&(t.stencilOp(Ge,Qe,$e),we=Ge,Pe=Qe,je=$e)},setLocked:function(Ge){L=Ge},setClear:function(Ge){Ze!==Ge&&(t.clearStencil(Ge),Ze=Ge)},reset:function(){L=!1,te=null,z=null,ee=null,oe=null,we=null,Pe=null,je=null,Ze=null}}}const p=new o,d=new i,l=new n,u=new WeakMap,c=new WeakMap;let g={},f={},y=new WeakMap,_=[],m=null,h=!1,R=null,b=null,v=null,S=null,T=null,O=null,C=null,M=!1,E=null,B=null,N=null,w=null,D=null;const G=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let K=!1,j=0;const Y=t.getParameter(t.VERSION);Y.indexOf("WebGL")!==-1?(j=parseFloat(/^WebGL (\d)/.exec(Y)[1]),K=j>=1):Y.indexOf("OpenGL ES")!==-1&&(j=parseFloat(/^OpenGL ES (\d)/.exec(Y)[1]),K=j>=2);let J=null,q={};const U=t.getParameter(t.SCISSOR_BOX),W=t.getParameter(t.VIEWPORT),ne=new Vector4().fromArray(U),ae=new Vector4().fromArray(W);function se(L,te,z,ee){const oe=new Uint8Array(4),we=t.createTexture();t.bindTexture(L,we),t.texParameteri(L,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(L,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let Pe=0;Pe<z;Pe++)s&&(L===t.TEXTURE_3D||L===t.TEXTURE_2D_ARRAY)?t.texImage3D(te,0,t.RGBA,1,1,ee,0,t.RGBA,t.UNSIGNED_BYTE,oe):t.texImage2D(te+Pe,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,oe);return we}const he={};he[t.TEXTURE_2D]=se(t.TEXTURE_2D,t.TEXTURE_2D,1),he[t.TEXTURE_CUBE_MAP]=se(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),s&&(he[t.TEXTURE_2D_ARRAY]=se(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),he[t.TEXTURE_3D]=se(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),p.setClear(0,0,0,1),d.setClear(1),l.setClear(0),Ee(t.DEPTH_TEST),d.setFunc(LessEqualDepth),ve(!1),Ie(CullFaceBack),Ee(t.CULL_FACE),ye(NoBlending);function Ee(L){g[L]!==!0&&(t.enable(L),g[L]=!0)}function _e(L){g[L]!==!1&&(t.disable(L),g[L]=!1)}function Be(L,te){return f[L]!==te?(t.bindFramebuffer(L,te),f[L]=te,s&&(L===t.DRAW_FRAMEBUFFER&&(f[t.FRAMEBUFFER]=te),L===t.FRAMEBUFFER&&(f[t.DRAW_FRAMEBUFFER]=te)),!0):!1}function Ke(L,te){let z=_,ee=!1;if(L)if(z=y.get(te),z===void 0&&(z=[],y.set(te,z)),L.isWebGLMultipleRenderTargets){const oe=L.texture;if(z.length!==oe.length||z[0]!==t.COLOR_ATTACHMENT0){for(let we=0,Pe=oe.length;we<Pe;we++)z[we]=t.COLOR_ATTACHMENT0+we;z.length=oe.length,ee=!0}}else z[0]!==t.COLOR_ATTACHMENT0&&(z[0]=t.COLOR_ATTACHMENT0,ee=!0);else z[0]!==t.BACK&&(z[0]=t.BACK,ee=!0);ee&&(r.isWebGL2?t.drawBuffers(z):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(z))}function Ae(L){return m!==L?(t.useProgram(L),m=L,!0):!1}const I={[AddEquation]:t.FUNC_ADD,[SubtractEquation]:t.FUNC_SUBTRACT,[ReverseSubtractEquation]:t.FUNC_REVERSE_SUBTRACT};if(s)I[MinEquation]=t.MIN,I[MaxEquation]=t.MAX;else{const L=e.get("EXT_blend_minmax");L!==null&&(I[MinEquation]=L.MIN_EXT,I[MaxEquation]=L.MAX_EXT)}const Ve={[ZeroFactor]:t.ZERO,[OneFactor]:t.ONE,[SrcColorFactor]:t.SRC_COLOR,[SrcAlphaFactor]:t.SRC_ALPHA,[SrcAlphaSaturateFactor]:t.SRC_ALPHA_SATURATE,[DstColorFactor]:t.DST_COLOR,[DstAlphaFactor]:t.DST_ALPHA,[OneMinusSrcColorFactor]:t.ONE_MINUS_SRC_COLOR,[OneMinusSrcAlphaFactor]:t.ONE_MINUS_SRC_ALPHA,[OneMinusDstColorFactor]:t.ONE_MINUS_DST_COLOR,[OneMinusDstAlphaFactor]:t.ONE_MINUS_DST_ALPHA};function ye(L,te,z,ee,oe,we,Pe,je){if(L===NoBlending){h===!0&&(_e(t.BLEND),h=!1);return}if(h===!1&&(Ee(t.BLEND),h=!0),L!==CustomBlending){if(L!==R||je!==M){if((b!==AddEquation||T!==AddEquation)&&(t.blendEquation(t.FUNC_ADD),b=AddEquation,T=AddEquation),je)switch(L){case NormalBlending:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case AdditiveBlending:t.blendFunc(t.ONE,t.ONE);break;case SubtractiveBlending:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case MultiplyBlending:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",L);break}else switch(L){case NormalBlending:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case AdditiveBlending:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case SubtractiveBlending:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case MultiplyBlending:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",L);break}v=null,S=null,O=null,C=null,R=L,M=je}return}oe=oe||te,we=we||z,Pe=Pe||ee,(te!==b||oe!==T)&&(t.blendEquationSeparate(I[te],I[oe]),b=te,T=oe),(z!==v||ee!==S||we!==O||Pe!==C)&&(t.blendFuncSeparate(Ve[z],Ve[ee],Ve[we],Ve[Pe]),v=z,S=ee,O=we,C=Pe),R=L,M=!1}function Te(L,te){L.side===DoubleSide?_e(t.CULL_FACE):Ee(t.CULL_FACE);let z=L.side===BackSide;te&&(z=!z),ve(z),L.blending===NormalBlending&&L.transparent===!1?ye(NoBlending):ye(L.blending,L.blendEquation,L.blendSrc,L.blendDst,L.blendEquationAlpha,L.blendSrcAlpha,L.blendDstAlpha,L.premultipliedAlpha),d.setFunc(L.depthFunc),d.setTest(L.depthTest),d.setMask(L.depthWrite),p.setMask(L.colorWrite);const ee=L.stencilWrite;l.setTest(ee),ee&&(l.setMask(L.stencilWriteMask),l.setFunc(L.stencilFunc,L.stencilRef,L.stencilFuncMask),l.setOp(L.stencilFail,L.stencilZFail,L.stencilZPass)),Oe(L.polygonOffset,L.polygonOffsetFactor,L.polygonOffsetUnits),L.alphaToCoverage===!0?Ee(t.SAMPLE_ALPHA_TO_COVERAGE):_e(t.SAMPLE_ALPHA_TO_COVERAGE)}function ve(L){E!==L&&(L?t.frontFace(t.CW):t.frontFace(t.CCW),E=L)}function Ie(L){L!==CullFaceNone?(Ee(t.CULL_FACE),L!==B&&(L===CullFaceBack?t.cullFace(t.BACK):L===CullFaceFront?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):_e(t.CULL_FACE),B=L}function Ce(L){L!==N&&(K&&t.lineWidth(L),N=L)}function Oe(L,te,z){L?(Ee(t.POLYGON_OFFSET_FILL),(w!==te||D!==z)&&(t.polygonOffset(te,z),w=te,D=z)):_e(t.POLYGON_OFFSET_FILL)}function ke(L){L?Ee(t.SCISSOR_TEST):_e(t.SCISSOR_TEST)}function He(L){L===void 0&&(L=t.TEXTURE0+G-1),J!==L&&(t.activeTexture(L),J=L)}function Xe(L,te,z){z===void 0&&(J===null?z=t.TEXTURE0+G-1:z=J);let ee=q[z];ee===void 0&&(ee={type:void 0,texture:void 0},q[z]=ee),(ee.type!==L||ee.texture!==te)&&(J!==z&&(t.activeTexture(z),J=z),t.bindTexture(L,te||he[L]),ee.type=L,ee.texture=te)}function A(){const L=q[J];L!==void 0&&L.type!==void 0&&(t.bindTexture(L.type,null),L.type=void 0,L.texture=void 0)}function F(){try{t.compressedTexImage2D.apply(t,arguments)}catch(L){console.error("THREE.WebGLState:",L)}}function V(){try{t.compressedTexImage3D.apply(t,arguments)}catch(L){console.error("THREE.WebGLState:",L)}}function Z(){try{t.texSubImage2D.apply(t,arguments)}catch(L){console.error("THREE.WebGLState:",L)}}function Q(){try{t.texSubImage3D.apply(t,arguments)}catch(L){console.error("THREE.WebGLState:",L)}}function re(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(L){console.error("THREE.WebGLState:",L)}}function ce(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(L){console.error("THREE.WebGLState:",L)}}function ie(){try{t.texStorage2D.apply(t,arguments)}catch(L){console.error("THREE.WebGLState:",L)}}function $(){try{t.texStorage3D.apply(t,arguments)}catch(L){console.error("THREE.WebGLState:",L)}}function ue(){try{t.texImage2D.apply(t,arguments)}catch(L){console.error("THREE.WebGLState:",L)}}function ge(){try{t.texImage3D.apply(t,arguments)}catch(L){console.error("THREE.WebGLState:",L)}}function me(L){ne.equals(L)===!1&&(t.scissor(L.x,L.y,L.z,L.w),ne.copy(L))}function de(L){ae.equals(L)===!1&&(t.viewport(L.x,L.y,L.z,L.w),ae.copy(L))}function le(L,te){let z=c.get(te);z===void 0&&(z=new WeakMap,c.set(te,z));let ee=z.get(L);ee===void 0&&(ee=t.getUniformBlockIndex(te,L.name),z.set(L,ee))}function Fe(L,te){const ee=c.get(te).get(L);u.get(te)!==ee&&(t.uniformBlockBinding(te,ee,L.__bindingPointIndex),u.set(te,ee))}function De(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),s===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),g={},J=null,q={},f={},y=new WeakMap,_=[],m=null,h=!1,R=null,b=null,v=null,S=null,T=null,O=null,C=null,M=!1,E=null,B=null,N=null,w=null,D=null,ne.set(0,0,t.canvas.width,t.canvas.height),ae.set(0,0,t.canvas.width,t.canvas.height),p.reset(),d.reset(),l.reset()}return{buffers:{color:p,depth:d,stencil:l},enable:Ee,disable:_e,bindFramebuffer:Be,drawBuffers:Ke,useProgram:Ae,setBlending:ye,setMaterial:Te,setFlipSided:ve,setCullFace:Ie,setLineWidth:Ce,setPolygonOffset:Oe,setScissorTest:ke,activeTexture:He,bindTexture:Xe,unbindTexture:A,compressedTexImage2D:F,compressedTexImage3D:V,texImage2D:ue,texImage3D:ge,updateUBOMapping:le,uniformBlockBinding:Fe,texStorage2D:ie,texStorage3D:$,texSubImage2D:Z,texSubImage3D:Q,compressedTexSubImage2D:re,compressedTexSubImage3D:ce,scissor:me,viewport:de,reset:De}}function WebGLTextures(t,e,r,s,o,i,n){const p=o.isWebGL2,d=o.maxTextures,l=o.maxCubemapSize,u=o.maxTextureSize,c=o.maxSamples,g=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,f=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),y=new WeakMap;let _;const m=new WeakMap;let h=!1;try{h=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function R(A,F){return h?new OffscreenCanvas(A,F):createElementNS("canvas")}function b(A,F,V,Z){let Q=1;if((A.width>Z||A.height>Z)&&(Q=Z/Math.max(A.width,A.height)),Q<1||F===!0)if(typeof HTMLImageElement<"u"&&A instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&A instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&A instanceof ImageBitmap){const re=F?floorPowerOfTwo:Math.floor,ce=re(Q*A.width),ie=re(Q*A.height);_===void 0&&(_=R(ce,ie));const $=V?R(ce,ie):_;return $.width=ce,$.height=ie,$.getContext("2d").drawImage(A,0,0,ce,ie),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+A.width+"x"+A.height+") to ("+ce+"x"+ie+")."),$}else return"data"in A&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+A.width+"x"+A.height+")."),A;return A}function v(A){return isPowerOfTwo(A.width)&&isPowerOfTwo(A.height)}function S(A){return p?!1:A.wrapS!==ClampToEdgeWrapping||A.wrapT!==ClampToEdgeWrapping||A.minFilter!==NearestFilter&&A.minFilter!==LinearFilter}function T(A,F){return A.generateMipmaps&&F&&A.minFilter!==NearestFilter&&A.minFilter!==LinearFilter}function O(A){t.generateMipmap(A)}function C(A,F,V,Z,Q=!1){if(p===!1)return F;if(A!==null){if(t[A]!==void 0)return t[A];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+A+"'")}let re=F;return F===t.RED&&(V===t.FLOAT&&(re=t.R32F),V===t.HALF_FLOAT&&(re=t.R16F),V===t.UNSIGNED_BYTE&&(re=t.R8)),F===t.RG&&(V===t.FLOAT&&(re=t.RG32F),V===t.HALF_FLOAT&&(re=t.RG16F),V===t.UNSIGNED_BYTE&&(re=t.RG8)),F===t.RGBA&&(V===t.FLOAT&&(re=t.RGBA32F),V===t.HALF_FLOAT&&(re=t.RGBA16F),V===t.UNSIGNED_BYTE&&(re=Z===SRGBColorSpace&&Q===!1?t.SRGB8_ALPHA8:t.RGBA8),V===t.UNSIGNED_SHORT_4_4_4_4&&(re=t.RGBA4),V===t.UNSIGNED_SHORT_5_5_5_1&&(re=t.RGB5_A1)),(re===t.R16F||re===t.R32F||re===t.RG16F||re===t.RG32F||re===t.RGBA16F||re===t.RGBA32F)&&e.get("EXT_color_buffer_float"),re}function M(A,F,V){return T(A,V)===!0||A.isFramebufferTexture&&A.minFilter!==NearestFilter&&A.minFilter!==LinearFilter?Math.log2(Math.max(F.width,F.height))+1:A.mipmaps!==void 0&&A.mipmaps.length>0?A.mipmaps.length:A.isCompressedTexture&&Array.isArray(A.image)?F.mipmaps.length:1}function E(A){return A===NearestFilter||A===NearestMipmapNearestFilter||A===NearestMipmapLinearFilter?t.NEAREST:t.LINEAR}function B(A){const F=A.target;F.removeEventListener("dispose",B),w(F),F.isVideoTexture&&y.delete(F)}function N(A){const F=A.target;F.removeEventListener("dispose",N),G(F)}function w(A){const F=s.get(A);if(F.__webglInit===void 0)return;const V=A.source,Z=m.get(V);if(Z){const Q=Z[F.__cacheKey];Q.usedTimes--,Q.usedTimes===0&&D(A),Object.keys(Z).length===0&&m.delete(V)}s.remove(A)}function D(A){const F=s.get(A);t.deleteTexture(F.__webglTexture);const V=A.source,Z=m.get(V);delete Z[F.__cacheKey],n.memory.textures--}function G(A){const F=A.texture,V=s.get(A),Z=s.get(F);if(Z.__webglTexture!==void 0&&(t.deleteTexture(Z.__webglTexture),n.memory.textures--),A.depthTexture&&A.depthTexture.dispose(),A.isWebGLCubeRenderTarget)for(let Q=0;Q<6;Q++)t.deleteFramebuffer(V.__webglFramebuffer[Q]),V.__webglDepthbuffer&&t.deleteRenderbuffer(V.__webglDepthbuffer[Q]);else{if(t.deleteFramebuffer(V.__webglFramebuffer),V.__webglDepthbuffer&&t.deleteRenderbuffer(V.__webglDepthbuffer),V.__webglMultisampledFramebuffer&&t.deleteFramebuffer(V.__webglMultisampledFramebuffer),V.__webglColorRenderbuffer)for(let Q=0;Q<V.__webglColorRenderbuffer.length;Q++)V.__webglColorRenderbuffer[Q]&&t.deleteRenderbuffer(V.__webglColorRenderbuffer[Q]);V.__webglDepthRenderbuffer&&t.deleteRenderbuffer(V.__webglDepthRenderbuffer)}if(A.isWebGLMultipleRenderTargets)for(let Q=0,re=F.length;Q<re;Q++){const ce=s.get(F[Q]);ce.__webglTexture&&(t.deleteTexture(ce.__webglTexture),n.memory.textures--),s.remove(F[Q])}s.remove(F),s.remove(A)}let K=0;function j(){K=0}function Y(){const A=K;return A>=d&&console.warn("THREE.WebGLTextures: Trying to use "+A+" texture units while this GPU supports only "+d),K+=1,A}function J(A){const F=[];return F.push(A.wrapS),F.push(A.wrapT),F.push(A.wrapR||0),F.push(A.magFilter),F.push(A.minFilter),F.push(A.anisotropy),F.push(A.internalFormat),F.push(A.format),F.push(A.type),F.push(A.generateMipmaps),F.push(A.premultiplyAlpha),F.push(A.flipY),F.push(A.unpackAlignment),F.push(A.colorSpace),F.join()}function q(A,F){const V=s.get(A);if(A.isVideoTexture&&He(A),A.isRenderTargetTexture===!1&&A.version>0&&V.__version!==A.version){const Z=A.image;if(Z===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Z.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Be(V,A,F);return}}r.bindTexture(t.TEXTURE_2D,V.__webglTexture,t.TEXTURE0+F)}function U(A,F){const V=s.get(A);if(A.version>0&&V.__version!==A.version){Be(V,A,F);return}r.bindTexture(t.TEXTURE_2D_ARRAY,V.__webglTexture,t.TEXTURE0+F)}function W(A,F){const V=s.get(A);if(A.version>0&&V.__version!==A.version){Be(V,A,F);return}r.bindTexture(t.TEXTURE_3D,V.__webglTexture,t.TEXTURE0+F)}function ne(A,F){const V=s.get(A);if(A.version>0&&V.__version!==A.version){Ke(V,A,F);return}r.bindTexture(t.TEXTURE_CUBE_MAP,V.__webglTexture,t.TEXTURE0+F)}const ae={[RepeatWrapping]:t.REPEAT,[ClampToEdgeWrapping]:t.CLAMP_TO_EDGE,[MirroredRepeatWrapping]:t.MIRRORED_REPEAT},se={[NearestFilter]:t.NEAREST,[NearestMipmapNearestFilter]:t.NEAREST_MIPMAP_NEAREST,[NearestMipmapLinearFilter]:t.NEAREST_MIPMAP_LINEAR,[LinearFilter]:t.LINEAR,[LinearMipmapNearestFilter]:t.LINEAR_MIPMAP_NEAREST,[LinearMipmapLinearFilter]:t.LINEAR_MIPMAP_LINEAR},he={[NeverCompare]:t.NEVER,[AlwaysCompare]:t.ALWAYS,[LessCompare]:t.LESS,[LessEqualCompare]:t.LEQUAL,[EqualCompare]:t.EQUAL,[GreaterEqualCompare]:t.GEQUAL,[GreaterCompare]:t.GREATER,[NotEqualCompare]:t.NOTEQUAL};function Ee(A,F,V){if(V?(t.texParameteri(A,t.TEXTURE_WRAP_S,ae[F.wrapS]),t.texParameteri(A,t.TEXTURE_WRAP_T,ae[F.wrapT]),(A===t.TEXTURE_3D||A===t.TEXTURE_2D_ARRAY)&&t.texParameteri(A,t.TEXTURE_WRAP_R,ae[F.wrapR]),t.texParameteri(A,t.TEXTURE_MAG_FILTER,se[F.magFilter]),t.texParameteri(A,t.TEXTURE_MIN_FILTER,se[F.minFilter])):(t.texParameteri(A,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(A,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(A===t.TEXTURE_3D||A===t.TEXTURE_2D_ARRAY)&&t.texParameteri(A,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),(F.wrapS!==ClampToEdgeWrapping||F.wrapT!==ClampToEdgeWrapping)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(A,t.TEXTURE_MAG_FILTER,E(F.magFilter)),t.texParameteri(A,t.TEXTURE_MIN_FILTER,E(F.minFilter)),F.minFilter!==NearestFilter&&F.minFilter!==LinearFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),F.compareFunction&&(t.texParameteri(A,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(A,t.TEXTURE_COMPARE_FUNC,he[F.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const Z=e.get("EXT_texture_filter_anisotropic");if(F.magFilter===NearestFilter||F.minFilter!==NearestMipmapLinearFilter&&F.minFilter!==LinearMipmapLinearFilter||F.type===FloatType&&e.has("OES_texture_float_linear")===!1||p===!1&&F.type===HalfFloatType&&e.has("OES_texture_half_float_linear")===!1)return;(F.anisotropy>1||s.get(F).__currentAnisotropy)&&(t.texParameterf(A,Z.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(F.anisotropy,o.getMaxAnisotropy())),s.get(F).__currentAnisotropy=F.anisotropy)}}function _e(A,F){let V=!1;A.__webglInit===void 0&&(A.__webglInit=!0,F.addEventListener("dispose",B));const Z=F.source;let Q=m.get(Z);Q===void 0&&(Q={},m.set(Z,Q));const re=J(F);if(re!==A.__cacheKey){Q[re]===void 0&&(Q[re]={texture:t.createTexture(),usedTimes:0},n.memory.textures++,V=!0),Q[re].usedTimes++;const ce=Q[A.__cacheKey];ce!==void 0&&(Q[A.__cacheKey].usedTimes--,ce.usedTimes===0&&D(F)),A.__cacheKey=re,A.__webglTexture=Q[re].texture}return V}function Be(A,F,V){let Z=t.TEXTURE_2D;(F.isDataArrayTexture||F.isCompressedArrayTexture)&&(Z=t.TEXTURE_2D_ARRAY),F.isData3DTexture&&(Z=t.TEXTURE_3D);const Q=_e(A,F),re=F.source;r.bindTexture(Z,A.__webglTexture,t.TEXTURE0+V);const ce=s.get(re);if(re.version!==ce.__version||Q===!0){r.activeTexture(t.TEXTURE0+V),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,F.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,F.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,F.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE);const ie=S(F)&&v(F.image)===!1;let $=b(F.image,ie,!1,u);$=Xe(F,$);const ue=v($)||p,ge=i.convert(F.format,F.colorSpace);let me=i.convert(F.type),de=C(F.internalFormat,ge,me,F.colorSpace);Ee(Z,F,ue);let le;const Fe=F.mipmaps,De=p&&F.isVideoTexture!==!0,L=ce.__version===void 0||Q===!0,te=M(F,$,ue);if(F.isDepthTexture)de=t.DEPTH_COMPONENT,p?F.type===FloatType?de=t.DEPTH_COMPONENT32F:F.type===UnsignedIntType?de=t.DEPTH_COMPONENT24:F.type===UnsignedInt248Type?de=t.DEPTH24_STENCIL8:de=t.DEPTH_COMPONENT16:F.type===FloatType&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),F.format===DepthFormat&&de===t.DEPTH_COMPONENT&&F.type!==UnsignedShortType&&F.type!==UnsignedIntType&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),F.type=UnsignedIntType,me=i.convert(F.type)),F.format===DepthStencilFormat&&de===t.DEPTH_COMPONENT&&(de=t.DEPTH_STENCIL,F.type!==UnsignedInt248Type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),F.type=UnsignedInt248Type,me=i.convert(F.type))),L&&(De?r.texStorage2D(t.TEXTURE_2D,1,de,$.width,$.height):r.texImage2D(t.TEXTURE_2D,0,de,$.width,$.height,0,ge,me,null));else if(F.isDataTexture)if(Fe.length>0&&ue){De&&L&&r.texStorage2D(t.TEXTURE_2D,te,de,Fe[0].width,Fe[0].height);for(let z=0,ee=Fe.length;z<ee;z++)le=Fe[z],De?r.texSubImage2D(t.TEXTURE_2D,z,0,0,le.width,le.height,ge,me,le.data):r.texImage2D(t.TEXTURE_2D,z,de,le.width,le.height,0,ge,me,le.data);F.generateMipmaps=!1}else De?(L&&r.texStorage2D(t.TEXTURE_2D,te,de,$.width,$.height),r.texSubImage2D(t.TEXTURE_2D,0,0,0,$.width,$.height,ge,me,$.data)):r.texImage2D(t.TEXTURE_2D,0,de,$.width,$.height,0,ge,me,$.data);else if(F.isCompressedTexture)if(F.isCompressedArrayTexture){De&&L&&r.texStorage3D(t.TEXTURE_2D_ARRAY,te,de,Fe[0].width,Fe[0].height,$.depth);for(let z=0,ee=Fe.length;z<ee;z++)le=Fe[z],F.format!==RGBAFormat?ge!==null?De?r.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,z,0,0,0,le.width,le.height,$.depth,ge,le.data,0,0):r.compressedTexImage3D(t.TEXTURE_2D_ARRAY,z,de,le.width,le.height,$.depth,0,le.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):De?r.texSubImage3D(t.TEXTURE_2D_ARRAY,z,0,0,0,le.width,le.height,$.depth,ge,me,le.data):r.texImage3D(t.TEXTURE_2D_ARRAY,z,de,le.width,le.height,$.depth,0,ge,me,le.data)}else{De&&L&&r.texStorage2D(t.TEXTURE_2D,te,de,Fe[0].width,Fe[0].height);for(let z=0,ee=Fe.length;z<ee;z++)le=Fe[z],F.format!==RGBAFormat?ge!==null?De?r.compressedTexSubImage2D(t.TEXTURE_2D,z,0,0,le.width,le.height,ge,le.data):r.compressedTexImage2D(t.TEXTURE_2D,z,de,le.width,le.height,0,le.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):De?r.texSubImage2D(t.TEXTURE_2D,z,0,0,le.width,le.height,ge,me,le.data):r.texImage2D(t.TEXTURE_2D,z,de,le.width,le.height,0,ge,me,le.data)}else if(F.isDataArrayTexture)De?(L&&r.texStorage3D(t.TEXTURE_2D_ARRAY,te,de,$.width,$.height,$.depth),r.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,$.width,$.height,$.depth,ge,me,$.data)):r.texImage3D(t.TEXTURE_2D_ARRAY,0,de,$.width,$.height,$.depth,0,ge,me,$.data);else if(F.isData3DTexture)De?(L&&r.texStorage3D(t.TEXTURE_3D,te,de,$.width,$.height,$.depth),r.texSubImage3D(t.TEXTURE_3D,0,0,0,0,$.width,$.height,$.depth,ge,me,$.data)):r.texImage3D(t.TEXTURE_3D,0,de,$.width,$.height,$.depth,0,ge,me,$.data);else if(F.isFramebufferTexture){if(L)if(De)r.texStorage2D(t.TEXTURE_2D,te,de,$.width,$.height);else{let z=$.width,ee=$.height;for(let oe=0;oe<te;oe++)r.texImage2D(t.TEXTURE_2D,oe,de,z,ee,0,ge,me,null),z>>=1,ee>>=1}}else if(Fe.length>0&&ue){De&&L&&r.texStorage2D(t.TEXTURE_2D,te,de,Fe[0].width,Fe[0].height);for(let z=0,ee=Fe.length;z<ee;z++)le=Fe[z],De?r.texSubImage2D(t.TEXTURE_2D,z,0,0,ge,me,le):r.texImage2D(t.TEXTURE_2D,z,de,ge,me,le);F.generateMipmaps=!1}else De?(L&&r.texStorage2D(t.TEXTURE_2D,te,de,$.width,$.height),r.texSubImage2D(t.TEXTURE_2D,0,0,0,ge,me,$)):r.texImage2D(t.TEXTURE_2D,0,de,ge,me,$);T(F,ue)&&O(Z),ce.__version=re.version,F.onUpdate&&F.onUpdate(F)}A.__version=F.version}function Ke(A,F,V){if(F.image.length!==6)return;const Z=_e(A,F),Q=F.source;r.bindTexture(t.TEXTURE_CUBE_MAP,A.__webglTexture,t.TEXTURE0+V);const re=s.get(Q);if(Q.version!==re.__version||Z===!0){r.activeTexture(t.TEXTURE0+V),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,F.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,F.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,F.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE);const ce=F.isCompressedTexture||F.image[0].isCompressedTexture,ie=F.image[0]&&F.image[0].isDataTexture,$=[];for(let z=0;z<6;z++)!ce&&!ie?$[z]=b(F.image[z],!1,!0,l):$[z]=ie?F.image[z].image:F.image[z],$[z]=Xe(F,$[z]);const ue=$[0],ge=v(ue)||p,me=i.convert(F.format,F.colorSpace),de=i.convert(F.type),le=C(F.internalFormat,me,de,F.colorSpace),Fe=p&&F.isVideoTexture!==!0,De=re.__version===void 0||Z===!0;let L=M(F,ue,ge);Ee(t.TEXTURE_CUBE_MAP,F,ge);let te;if(ce){Fe&&De&&r.texStorage2D(t.TEXTURE_CUBE_MAP,L,le,ue.width,ue.height);for(let z=0;z<6;z++){te=$[z].mipmaps;for(let ee=0;ee<te.length;ee++){const oe=te[ee];F.format!==RGBAFormat?me!==null?Fe?r.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+z,ee,0,0,oe.width,oe.height,me,oe.data):r.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+z,ee,le,oe.width,oe.height,0,oe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Fe?r.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+z,ee,0,0,oe.width,oe.height,me,de,oe.data):r.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+z,ee,le,oe.width,oe.height,0,me,de,oe.data)}}}else{te=F.mipmaps,Fe&&De&&(te.length>0&&L++,r.texStorage2D(t.TEXTURE_CUBE_MAP,L,le,$[0].width,$[0].height));for(let z=0;z<6;z++)if(ie){Fe?r.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+z,0,0,0,$[z].width,$[z].height,me,de,$[z].data):r.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+z,0,le,$[z].width,$[z].height,0,me,de,$[z].data);for(let ee=0;ee<te.length;ee++){const we=te[ee].image[z].image;Fe?r.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+z,ee+1,0,0,we.width,we.height,me,de,we.data):r.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+z,ee+1,le,we.width,we.height,0,me,de,we.data)}}else{Fe?r.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+z,0,0,0,me,de,$[z]):r.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+z,0,le,me,de,$[z]);for(let ee=0;ee<te.length;ee++){const oe=te[ee];Fe?r.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+z,ee+1,0,0,me,de,oe.image[z]):r.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+z,ee+1,le,me,de,oe.image[z])}}}T(F,ge)&&O(t.TEXTURE_CUBE_MAP),re.__version=Q.version,F.onUpdate&&F.onUpdate(F)}A.__version=F.version}function Ae(A,F,V,Z,Q){const re=i.convert(V.format,V.colorSpace),ce=i.convert(V.type),ie=C(V.internalFormat,re,ce,V.colorSpace);s.get(F).__hasExternalTextures||(Q===t.TEXTURE_3D||Q===t.TEXTURE_2D_ARRAY?r.texImage3D(Q,0,ie,F.width,F.height,F.depth,0,re,ce,null):r.texImage2D(Q,0,ie,F.width,F.height,0,re,ce,null)),r.bindFramebuffer(t.FRAMEBUFFER,A),ke(F)?g.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Z,Q,s.get(V).__webglTexture,0,Oe(F)):(Q===t.TEXTURE_2D||Q>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Q<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Z,Q,s.get(V).__webglTexture,0),r.bindFramebuffer(t.FRAMEBUFFER,null)}function I(A,F,V){if(t.bindRenderbuffer(t.RENDERBUFFER,A),F.depthBuffer&&!F.stencilBuffer){let Z=t.DEPTH_COMPONENT16;if(V||ke(F)){const Q=F.depthTexture;Q&&Q.isDepthTexture&&(Q.type===FloatType?Z=t.DEPTH_COMPONENT32F:Q.type===UnsignedIntType&&(Z=t.DEPTH_COMPONENT24));const re=Oe(F);ke(F)?g.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,re,Z,F.width,F.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,re,Z,F.width,F.height)}else t.renderbufferStorage(t.RENDERBUFFER,Z,F.width,F.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,A)}else if(F.depthBuffer&&F.stencilBuffer){const Z=Oe(F);V&&ke(F)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Z,t.DEPTH24_STENCIL8,F.width,F.height):ke(F)?g.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Z,t.DEPTH24_STENCIL8,F.width,F.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,F.width,F.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,A)}else{const Z=F.isWebGLMultipleRenderTargets===!0?F.texture:[F.texture];for(let Q=0;Q<Z.length;Q++){const re=Z[Q],ce=i.convert(re.format,re.colorSpace),ie=i.convert(re.type),$=C(re.internalFormat,ce,ie,re.colorSpace),ue=Oe(F);V&&ke(F)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,ue,$,F.width,F.height):ke(F)?g.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ue,$,F.width,F.height):t.renderbufferStorage(t.RENDERBUFFER,$,F.width,F.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Ve(A,F){if(F&&F.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(r.bindFramebuffer(t.FRAMEBUFFER,A),!(F.depthTexture&&F.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!s.get(F.depthTexture).__webglTexture||F.depthTexture.image.width!==F.width||F.depthTexture.image.height!==F.height)&&(F.depthTexture.image.width=F.width,F.depthTexture.image.height=F.height,F.depthTexture.needsUpdate=!0),q(F.depthTexture,0);const Z=s.get(F.depthTexture).__webglTexture,Q=Oe(F);if(F.depthTexture.format===DepthFormat)ke(F)?g.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Z,0,Q):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Z,0);else if(F.depthTexture.format===DepthStencilFormat)ke(F)?g.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Z,0,Q):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Z,0);else throw new Error("Unknown depthTexture format")}function ye(A){const F=s.get(A),V=A.isWebGLCubeRenderTarget===!0;if(A.depthTexture&&!F.__autoAllocateDepthBuffer){if(V)throw new Error("target.depthTexture not supported in Cube render targets");Ve(F.__webglFramebuffer,A)}else if(V){F.__webglDepthbuffer=[];for(let Z=0;Z<6;Z++)r.bindFramebuffer(t.FRAMEBUFFER,F.__webglFramebuffer[Z]),F.__webglDepthbuffer[Z]=t.createRenderbuffer(),I(F.__webglDepthbuffer[Z],A,!1)}else r.bindFramebuffer(t.FRAMEBUFFER,F.__webglFramebuffer),F.__webglDepthbuffer=t.createRenderbuffer(),I(F.__webglDepthbuffer,A,!1);r.bindFramebuffer(t.FRAMEBUFFER,null)}function Te(A,F,V){const Z=s.get(A);F!==void 0&&Ae(Z.__webglFramebuffer,A,A.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D),V!==void 0&&ye(A)}function ve(A){const F=A.texture,V=s.get(A),Z=s.get(F);A.addEventListener("dispose",N),A.isWebGLMultipleRenderTargets!==!0&&(Z.__webglTexture===void 0&&(Z.__webglTexture=t.createTexture()),Z.__version=F.version,n.memory.textures++);const Q=A.isWebGLCubeRenderTarget===!0,re=A.isWebGLMultipleRenderTargets===!0,ce=v(A)||p;if(Q){V.__webglFramebuffer=[];for(let ie=0;ie<6;ie++)V.__webglFramebuffer[ie]=t.createFramebuffer()}else{if(V.__webglFramebuffer=t.createFramebuffer(),re)if(o.drawBuffers){const ie=A.texture;for(let $=0,ue=ie.length;$<ue;$++){const ge=s.get(ie[$]);ge.__webglTexture===void 0&&(ge.__webglTexture=t.createTexture(),n.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(p&&A.samples>0&&ke(A)===!1){const ie=re?F:[F];V.__webglMultisampledFramebuffer=t.createFramebuffer(),V.__webglColorRenderbuffer=[],r.bindFramebuffer(t.FRAMEBUFFER,V.__webglMultisampledFramebuffer);for(let $=0;$<ie.length;$++){const ue=ie[$];V.__webglColorRenderbuffer[$]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,V.__webglColorRenderbuffer[$]);const ge=i.convert(ue.format,ue.colorSpace),me=i.convert(ue.type),de=C(ue.internalFormat,ge,me,ue.colorSpace,A.isXRRenderTarget===!0),le=Oe(A);t.renderbufferStorageMultisample(t.RENDERBUFFER,le,de,A.width,A.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+$,t.RENDERBUFFER,V.__webglColorRenderbuffer[$])}t.bindRenderbuffer(t.RENDERBUFFER,null),A.depthBuffer&&(V.__webglDepthRenderbuffer=t.createRenderbuffer(),I(V.__webglDepthRenderbuffer,A,!0)),r.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Q){r.bindTexture(t.TEXTURE_CUBE_MAP,Z.__webglTexture),Ee(t.TEXTURE_CUBE_MAP,F,ce);for(let ie=0;ie<6;ie++)Ae(V.__webglFramebuffer[ie],A,F,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+ie);T(F,ce)&&O(t.TEXTURE_CUBE_MAP),r.unbindTexture()}else if(re){const ie=A.texture;for(let $=0,ue=ie.length;$<ue;$++){const ge=ie[$],me=s.get(ge);r.bindTexture(t.TEXTURE_2D,me.__webglTexture),Ee(t.TEXTURE_2D,ge,ce),Ae(V.__webglFramebuffer,A,ge,t.COLOR_ATTACHMENT0+$,t.TEXTURE_2D),T(ge,ce)&&O(t.TEXTURE_2D)}r.unbindTexture()}else{let ie=t.TEXTURE_2D;(A.isWebGL3DRenderTarget||A.isWebGLArrayRenderTarget)&&(p?ie=A.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),r.bindTexture(ie,Z.__webglTexture),Ee(ie,F,ce),Ae(V.__webglFramebuffer,A,F,t.COLOR_ATTACHMENT0,ie),T(F,ce)&&O(ie),r.unbindTexture()}A.depthBuffer&&ye(A)}function Ie(A){const F=v(A)||p,V=A.isWebGLMultipleRenderTargets===!0?A.texture:[A.texture];for(let Z=0,Q=V.length;Z<Q;Z++){const re=V[Z];if(T(re,F)){const ce=A.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,ie=s.get(re).__webglTexture;r.bindTexture(ce,ie),O(ce),r.unbindTexture()}}}function Ce(A){if(p&&A.samples>0&&ke(A)===!1){const F=A.isWebGLMultipleRenderTargets?A.texture:[A.texture],V=A.width,Z=A.height;let Q=t.COLOR_BUFFER_BIT;const re=[],ce=A.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ie=s.get(A),$=A.isWebGLMultipleRenderTargets===!0;if($)for(let ue=0;ue<F.length;ue++)r.bindFramebuffer(t.FRAMEBUFFER,ie.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ue,t.RENDERBUFFER,null),r.bindFramebuffer(t.FRAMEBUFFER,ie.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+ue,t.TEXTURE_2D,null,0);r.bindFramebuffer(t.READ_FRAMEBUFFER,ie.__webglMultisampledFramebuffer),r.bindFramebuffer(t.DRAW_FRAMEBUFFER,ie.__webglFramebuffer);for(let ue=0;ue<F.length;ue++){re.push(t.COLOR_ATTACHMENT0+ue),A.depthBuffer&&re.push(ce);const ge=ie.__ignoreDepthValues!==void 0?ie.__ignoreDepthValues:!1;if(ge===!1&&(A.depthBuffer&&(Q|=t.DEPTH_BUFFER_BIT),A.stencilBuffer&&(Q|=t.STENCIL_BUFFER_BIT)),$&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,ie.__webglColorRenderbuffer[ue]),ge===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[ce]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[ce])),$){const me=s.get(F[ue]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,me,0)}t.blitFramebuffer(0,0,V,Z,0,0,V,Z,Q,t.NEAREST),f&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,re)}if(r.bindFramebuffer(t.READ_FRAMEBUFFER,null),r.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),$)for(let ue=0;ue<F.length;ue++){r.bindFramebuffer(t.FRAMEBUFFER,ie.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ue,t.RENDERBUFFER,ie.__webglColorRenderbuffer[ue]);const ge=s.get(F[ue]).__webglTexture;r.bindFramebuffer(t.FRAMEBUFFER,ie.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+ue,t.TEXTURE_2D,ge,0)}r.bindFramebuffer(t.DRAW_FRAMEBUFFER,ie.__webglMultisampledFramebuffer)}}function Oe(A){return Math.min(c,A.samples)}function ke(A){const F=s.get(A);return p&&A.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&F.__useRenderToTexture!==!1}function He(A){const F=n.render.frame;y.get(A)!==F&&(y.set(A,F),A.update())}function Xe(A,F){const V=A.colorSpace,Z=A.format,Q=A.type;return A.isCompressedTexture===!0||A.format===_SRGBAFormat||V!==LinearSRGBColorSpace&&V!==NoColorSpace&&(V===SRGBColorSpace?p===!1?e.has("EXT_sRGB")===!0&&Z===RGBAFormat?(A.format=_SRGBAFormat,A.minFilter=LinearFilter,A.generateMipmaps=!1):F=ImageUtils.sRGBToLinear(F):(Z!==RGBAFormat||Q!==UnsignedByteType)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",V)),F}this.allocateTextureUnit=Y,this.resetTextureUnits=j,this.setTexture2D=q,this.setTexture2DArray=U,this.setTexture3D=W,this.setTextureCube=ne,this.rebindTextures=Te,this.setupRenderTarget=ve,this.updateRenderTargetMipmap=Ie,this.updateMultisampleRenderTarget=Ce,this.setupDepthRenderbuffer=ye,this.setupFrameBufferTexture=Ae,this.useMultisampledRTT=ke}function WebGLUtils(t,e,r){const s=r.isWebGL2;function o(i,n=NoColorSpace){let p;if(i===UnsignedByteType)return t.UNSIGNED_BYTE;if(i===UnsignedShort4444Type)return t.UNSIGNED_SHORT_4_4_4_4;if(i===UnsignedShort5551Type)return t.UNSIGNED_SHORT_5_5_5_1;if(i===ByteType)return t.BYTE;if(i===ShortType)return t.SHORT;if(i===UnsignedShortType)return t.UNSIGNED_SHORT;if(i===IntType)return t.INT;if(i===UnsignedIntType)return t.UNSIGNED_INT;if(i===FloatType)return t.FLOAT;if(i===HalfFloatType)return s?t.HALF_FLOAT:(p=e.get("OES_texture_half_float"),p!==null?p.HALF_FLOAT_OES:null);if(i===AlphaFormat)return t.ALPHA;if(i===RGBAFormat)return t.RGBA;if(i===LuminanceFormat)return t.LUMINANCE;if(i===LuminanceAlphaFormat)return t.LUMINANCE_ALPHA;if(i===DepthFormat)return t.DEPTH_COMPONENT;if(i===DepthStencilFormat)return t.DEPTH_STENCIL;if(i===_SRGBAFormat)return p=e.get("EXT_sRGB"),p!==null?p.SRGB_ALPHA_EXT:null;if(i===RedFormat)return t.RED;if(i===RedIntegerFormat)return t.RED_INTEGER;if(i===RGFormat)return t.RG;if(i===RGIntegerFormat)return t.RG_INTEGER;if(i===RGBAIntegerFormat)return t.RGBA_INTEGER;if(i===RGB_S3TC_DXT1_Format||i===RGBA_S3TC_DXT1_Format||i===RGBA_S3TC_DXT3_Format||i===RGBA_S3TC_DXT5_Format)if(n===SRGBColorSpace)if(p=e.get("WEBGL_compressed_texture_s3tc_srgb"),p!==null){if(i===RGB_S3TC_DXT1_Format)return p.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===RGBA_S3TC_DXT1_Format)return p.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===RGBA_S3TC_DXT3_Format)return p.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===RGBA_S3TC_DXT5_Format)return p.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(p=e.get("WEBGL_compressed_texture_s3tc"),p!==null){if(i===RGB_S3TC_DXT1_Format)return p.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===RGBA_S3TC_DXT1_Format)return p.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===RGBA_S3TC_DXT3_Format)return p.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===RGBA_S3TC_DXT5_Format)return p.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===RGB_PVRTC_4BPPV1_Format||i===RGB_PVRTC_2BPPV1_Format||i===RGBA_PVRTC_4BPPV1_Format||i===RGBA_PVRTC_2BPPV1_Format)if(p=e.get("WEBGL_compressed_texture_pvrtc"),p!==null){if(i===RGB_PVRTC_4BPPV1_Format)return p.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===RGB_PVRTC_2BPPV1_Format)return p.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===RGBA_PVRTC_4BPPV1_Format)return p.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===RGBA_PVRTC_2BPPV1_Format)return p.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===RGB_ETC1_Format)return p=e.get("WEBGL_compressed_texture_etc1"),p!==null?p.COMPRESSED_RGB_ETC1_WEBGL:null;if(i===RGB_ETC2_Format||i===RGBA_ETC2_EAC_Format)if(p=e.get("WEBGL_compressed_texture_etc"),p!==null){if(i===RGB_ETC2_Format)return n===SRGBColorSpace?p.COMPRESSED_SRGB8_ETC2:p.COMPRESSED_RGB8_ETC2;if(i===RGBA_ETC2_EAC_Format)return n===SRGBColorSpace?p.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:p.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===RGBA_ASTC_4x4_Format||i===RGBA_ASTC_5x4_Format||i===RGBA_ASTC_5x5_Format||i===RGBA_ASTC_6x5_Format||i===RGBA_ASTC_6x6_Format||i===RGBA_ASTC_8x5_Format||i===RGBA_ASTC_8x6_Format||i===RGBA_ASTC_8x8_Format||i===RGBA_ASTC_10x5_Format||i===RGBA_ASTC_10x6_Format||i===RGBA_ASTC_10x8_Format||i===RGBA_ASTC_10x10_Format||i===RGBA_ASTC_12x10_Format||i===RGBA_ASTC_12x12_Format)if(p=e.get("WEBGL_compressed_texture_astc"),p!==null){if(i===RGBA_ASTC_4x4_Format)return n===SRGBColorSpace?p.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:p.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===RGBA_ASTC_5x4_Format)return n===SRGBColorSpace?p.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:p.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===RGBA_ASTC_5x5_Format)return n===SRGBColorSpace?p.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:p.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===RGBA_ASTC_6x5_Format)return n===SRGBColorSpace?p.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:p.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===RGBA_ASTC_6x6_Format)return n===SRGBColorSpace?p.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:p.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===RGBA_ASTC_8x5_Format)return n===SRGBColorSpace?p.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:p.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===RGBA_ASTC_8x6_Format)return n===SRGBColorSpace?p.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:p.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===RGBA_ASTC_8x8_Format)return n===SRGBColorSpace?p.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:p.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===RGBA_ASTC_10x5_Format)return n===SRGBColorSpace?p.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:p.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===RGBA_ASTC_10x6_Format)return n===SRGBColorSpace?p.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:p.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===RGBA_ASTC_10x8_Format)return n===SRGBColorSpace?p.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:p.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===RGBA_ASTC_10x10_Format)return n===SRGBColorSpace?p.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:p.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===RGBA_ASTC_12x10_Format)return n===SRGBColorSpace?p.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:p.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===RGBA_ASTC_12x12_Format)return n===SRGBColorSpace?p.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:p.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===RGBA_BPTC_Format)if(p=e.get("EXT_texture_compression_bptc"),p!==null){if(i===RGBA_BPTC_Format)return n===SRGBColorSpace?p.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:p.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(i===RED_RGTC1_Format||i===SIGNED_RED_RGTC1_Format||i===RED_GREEN_RGTC2_Format||i===SIGNED_RED_GREEN_RGTC2_Format)if(p=e.get("EXT_texture_compression_rgtc"),p!==null){if(i===RGBA_BPTC_Format)return p.COMPRESSED_RED_RGTC1_EXT;if(i===SIGNED_RED_RGTC1_Format)return p.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===RED_GREEN_RGTC2_Format)return p.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===SIGNED_RED_GREEN_RGTC2_Format)return p.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===UnsignedInt248Type?s?t.UNSIGNED_INT_24_8:(p=e.get("WEBGL_depth_texture"),p!==null?p.UNSIGNED_INT_24_8_WEBGL:null):t[i]!==void 0?t[i]:null}return{convert:o}}class ArrayCamera extends PerspectiveCamera{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Group extends Object3D{constructor(){super(),this.isGroup=!0,this.type="Group"}}const _moveEvent={type:"move"};class WebXRController{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Group,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Group,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Vector3,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Vector3),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Group,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Vector3,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Vector3),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const r=this._hand;if(r)for(const s of e.hand.values())this._getHandJoint(r,s)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,r,s){let o=null,i=null,n=null;const p=this._targetRay,d=this._grip,l=this._hand;if(e&&r.session.visibilityState!=="visible-blurred"){if(l&&e.hand){n=!0;for(const _ of e.hand.values()){const m=r.getJointPose(_,s),h=this._getHandJoint(l,_);m!==null&&(h.matrix.fromArray(m.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),h.matrixWorldNeedsUpdate=!0,h.jointRadius=m.radius),h.visible=m!==null}const u=l.joints["index-finger-tip"],c=l.joints["thumb-tip"],g=u.position.distanceTo(c.position),f=.02,y=.005;l.inputState.pinching&&g>f+y?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&g<=f-y&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else d!==null&&e.gripSpace&&(i=r.getPose(e.gripSpace,s),i!==null&&(d.matrix.fromArray(i.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),d.matrixWorldNeedsUpdate=!0,i.linearVelocity?(d.hasLinearVelocity=!0,d.linearVelocity.copy(i.linearVelocity)):d.hasLinearVelocity=!1,i.angularVelocity?(d.hasAngularVelocity=!0,d.angularVelocity.copy(i.angularVelocity)):d.hasAngularVelocity=!1));p!==null&&(o=r.getPose(e.targetRaySpace,s),o===null&&i!==null&&(o=i),o!==null&&(p.matrix.fromArray(o.transform.matrix),p.matrix.decompose(p.position,p.rotation,p.scale),p.matrixWorldNeedsUpdate=!0,o.linearVelocity?(p.hasLinearVelocity=!0,p.linearVelocity.copy(o.linearVelocity)):p.hasLinearVelocity=!1,o.angularVelocity?(p.hasAngularVelocity=!0,p.angularVelocity.copy(o.angularVelocity)):p.hasAngularVelocity=!1,this.dispatchEvent(_moveEvent)))}return p!==null&&(p.visible=o!==null),d!==null&&(d.visible=i!==null),l!==null&&(l.visible=n!==null),this}_getHandJoint(e,r){if(e.joints[r.jointName]===void 0){const s=new Group;s.matrixAutoUpdate=!1,s.visible=!1,e.joints[r.jointName]=s,e.add(s)}return e.joints[r.jointName]}}class DepthTexture extends Texture{constructor(e,r,s,o,i,n,p,d,l,u){if(u=u!==void 0?u:DepthFormat,u!==DepthFormat&&u!==DepthStencilFormat)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");s===void 0&&u===DepthFormat&&(s=UnsignedIntType),s===void 0&&u===DepthStencilFormat&&(s=UnsignedInt248Type),super(null,o,i,n,p,d,u,s,l),this.isDepthTexture=!0,this.image={width:e,height:r},this.magFilter=p!==void 0?p:NearestFilter,this.minFilter=d!==void 0?d:NearestFilter,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const r=super.toJSON(e);return this.compareFunction!==null&&(r.compareFunction=this.compareFunction),r}}class WebXRManager extends EventDispatcher{constructor(e,r){super();const s=this;let o=null,i=1,n=null,p="local-floor",d=1,l=null,u=null,c=null,g=null,f=null,y=null;const _=r.getContextAttributes();let m=null,h=null;const R=[],b=[],v=new PerspectiveCamera;v.layers.enable(1),v.viewport=new Vector4;const S=new PerspectiveCamera;S.layers.enable(2),S.viewport=new Vector4;const T=[v,S],O=new ArrayCamera;O.layers.enable(1),O.layers.enable(2);let C=null,M=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(U){let W=R[U];return W===void 0&&(W=new WebXRController,R[U]=W),W.getTargetRaySpace()},this.getControllerGrip=function(U){let W=R[U];return W===void 0&&(W=new WebXRController,R[U]=W),W.getGripSpace()},this.getHand=function(U){let W=R[U];return W===void 0&&(W=new WebXRController,R[U]=W),W.getHandSpace()};function E(U){const W=b.indexOf(U.inputSource);if(W===-1)return;const ne=R[W];ne!==void 0&&(ne.update(U.inputSource,U.frame,l||n),ne.dispatchEvent({type:U.type,data:U.inputSource}))}function B(){o.removeEventListener("select",E),o.removeEventListener("selectstart",E),o.removeEventListener("selectend",E),o.removeEventListener("squeeze",E),o.removeEventListener("squeezestart",E),o.removeEventListener("squeezeend",E),o.removeEventListener("end",B),o.removeEventListener("inputsourceschange",N);for(let U=0;U<R.length;U++){const W=b[U];W!==null&&(b[U]=null,R[U].disconnect(W))}C=null,M=null,e.setRenderTarget(m),f=null,g=null,c=null,o=null,h=null,q.stop(),s.isPresenting=!1,s.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(U){i=U,s.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(U){p=U,s.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||n},this.setReferenceSpace=function(U){l=U},this.getBaseLayer=function(){return g!==null?g:f},this.getBinding=function(){return c},this.getFrame=function(){return y},this.getSession=function(){return o},this.setSession=async function(U){if(o=U,o!==null){if(m=e.getRenderTarget(),o.addEventListener("select",E),o.addEventListener("selectstart",E),o.addEventListener("selectend",E),o.addEventListener("squeeze",E),o.addEventListener("squeezestart",E),o.addEventListener("squeezeend",E),o.addEventListener("end",B),o.addEventListener("inputsourceschange",N),_.xrCompatible!==!0&&await r.makeXRCompatible(),o.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const W={antialias:o.renderState.layers===void 0?_.antialias:!0,alpha:!0,depth:_.depth,stencil:_.stencil,framebufferScaleFactor:i};f=new XRWebGLLayer(o,r,W),o.updateRenderState({baseLayer:f}),h=new WebGLRenderTarget(f.framebufferWidth,f.framebufferHeight,{format:RGBAFormat,type:UnsignedByteType,colorSpace:e.outputColorSpace,stencilBuffer:_.stencil})}else{let W=null,ne=null,ae=null;_.depth&&(ae=_.stencil?r.DEPTH24_STENCIL8:r.DEPTH_COMPONENT24,W=_.stencil?DepthStencilFormat:DepthFormat,ne=_.stencil?UnsignedInt248Type:UnsignedIntType);const se={colorFormat:r.RGBA8,depthFormat:ae,scaleFactor:i};c=new XRWebGLBinding(o,r),g=c.createProjectionLayer(se),o.updateRenderState({layers:[g]}),h=new WebGLRenderTarget(g.textureWidth,g.textureHeight,{format:RGBAFormat,type:UnsignedByteType,depthTexture:new DepthTexture(g.textureWidth,g.textureHeight,ne,void 0,void 0,void 0,void 0,void 0,void 0,W),stencilBuffer:_.stencil,colorSpace:e.outputColorSpace,samples:_.antialias?4:0});const he=e.properties.get(h);he.__ignoreDepthValues=g.ignoreDepthValues}h.isXRRenderTarget=!0,this.setFoveation(d),l=null,n=await o.requestReferenceSpace(p),q.setContext(o),q.start(),s.isPresenting=!0,s.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(o!==null)return o.environmentBlendMode};function N(U){for(let W=0;W<U.removed.length;W++){const ne=U.removed[W],ae=b.indexOf(ne);ae>=0&&(b[ae]=null,R[ae].disconnect(ne))}for(let W=0;W<U.added.length;W++){const ne=U.added[W];let ae=b.indexOf(ne);if(ae===-1){for(let he=0;he<R.length;he++)if(he>=b.length){b.push(ne),ae=he;break}else if(b[he]===null){b[he]=ne,ae=he;break}if(ae===-1)break}const se=R[ae];se&&se.connect(ne)}}const w=new Vector3,D=new Vector3;function G(U,W,ne){w.setFromMatrixPosition(W.matrixWorld),D.setFromMatrixPosition(ne.matrixWorld);const ae=w.distanceTo(D),se=W.projectionMatrix.elements,he=ne.projectionMatrix.elements,Ee=se[14]/(se[10]-1),_e=se[14]/(se[10]+1),Be=(se[9]+1)/se[5],Ke=(se[9]-1)/se[5],Ae=(se[8]-1)/se[0],I=(he[8]+1)/he[0],Ve=Ee*Ae,ye=Ee*I,Te=ae/(-Ae+I),ve=Te*-Ae;W.matrixWorld.decompose(U.position,U.quaternion,U.scale),U.translateX(ve),U.translateZ(Te),U.matrixWorld.compose(U.position,U.quaternion,U.scale),U.matrixWorldInverse.copy(U.matrixWorld).invert();const Ie=Ee+Te,Ce=_e+Te,Oe=Ve-ve,ke=ye+(ae-ve),He=Be*_e/Ce*Ie,Xe=Ke*_e/Ce*Ie;U.projectionMatrix.makePerspective(Oe,ke,He,Xe,Ie,Ce),U.projectionMatrixInverse.copy(U.projectionMatrix).invert()}function K(U,W){W===null?U.matrixWorld.copy(U.matrix):U.matrixWorld.multiplyMatrices(W.matrixWorld,U.matrix),U.matrixWorldInverse.copy(U.matrixWorld).invert()}this.updateCamera=function(U){if(o===null)return;O.near=S.near=v.near=U.near,O.far=S.far=v.far=U.far,(C!==O.near||M!==O.far)&&(o.updateRenderState({depthNear:O.near,depthFar:O.far}),C=O.near,M=O.far);const W=U.parent,ne=O.cameras;K(O,W);for(let ae=0;ae<ne.length;ae++)K(ne[ae],W);ne.length===2?G(O,v,S):O.projectionMatrix.copy(v.projectionMatrix),j(U,O,W)};function j(U,W,ne){ne===null?U.matrix.copy(W.matrixWorld):(U.matrix.copy(ne.matrixWorld),U.matrix.invert(),U.matrix.multiply(W.matrixWorld)),U.matrix.decompose(U.position,U.quaternion,U.scale),U.updateMatrixWorld(!0);const ae=U.children;for(let se=0,he=ae.length;se<he;se++)ae[se].updateMatrixWorld(!0);U.projectionMatrix.copy(W.projectionMatrix),U.projectionMatrixInverse.copy(W.projectionMatrixInverse),U.isPerspectiveCamera&&(U.fov=RAD2DEG*2*Math.atan(1/U.projectionMatrix.elements[5]),U.zoom=1)}this.getCamera=function(){return O},this.getFoveation=function(){if(!(g===null&&f===null))return d},this.setFoveation=function(U){d=U,g!==null&&(g.fixedFoveation=U),f!==null&&f.fixedFoveation!==void 0&&(f.fixedFoveation=U)};let Y=null;function J(U,W){if(u=W.getViewerPose(l||n),y=W,u!==null){const ne=u.views;f!==null&&(e.setRenderTargetFramebuffer(h,f.framebuffer),e.setRenderTarget(h));let ae=!1;ne.length!==O.cameras.length&&(O.cameras.length=0,ae=!0);for(let se=0;se<ne.length;se++){const he=ne[se];let Ee=null;if(f!==null)Ee=f.getViewport(he);else{const Be=c.getViewSubImage(g,he);Ee=Be.viewport,se===0&&(e.setRenderTargetTextures(h,Be.colorTexture,g.ignoreDepthValues?void 0:Be.depthStencilTexture),e.setRenderTarget(h))}let _e=T[se];_e===void 0&&(_e=new PerspectiveCamera,_e.layers.enable(se),_e.viewport=new Vector4,T[se]=_e),_e.matrix.fromArray(he.transform.matrix),_e.matrix.decompose(_e.position,_e.quaternion,_e.scale),_e.projectionMatrix.fromArray(he.projectionMatrix),_e.projectionMatrixInverse.copy(_e.projectionMatrix).invert(),_e.viewport.set(Ee.x,Ee.y,Ee.width,Ee.height),se===0&&(O.matrix.copy(_e.matrix),O.matrix.decompose(O.position,O.quaternion,O.scale)),ae===!0&&O.cameras.push(_e)}}for(let ne=0;ne<R.length;ne++){const ae=b[ne],se=R[ne];ae!==null&&se!==void 0&&se.update(ae,W,l||n)}Y&&Y(U,W),W.detectedPlanes&&s.dispatchEvent({type:"planesdetected",data:W}),y=null}const q=new WebGLAnimation;q.setAnimationLoop(J),this.setAnimationLoop=function(U){Y=U},this.dispose=function(){}}}function WebGLMaterials(t,e){function r(m,h){m.matrixAutoUpdate===!0&&m.updateMatrix(),h.value.copy(m.matrix)}function s(m,h){h.color.getRGB(m.fogColor.value,getUnlitUniformColorSpace(t)),h.isFog?(m.fogNear.value=h.near,m.fogFar.value=h.far):h.isFogExp2&&(m.fogDensity.value=h.density)}function o(m,h,R,b,v){h.isMeshBasicMaterial||h.isMeshLambertMaterial?i(m,h):h.isMeshToonMaterial?(i(m,h),c(m,h)):h.isMeshPhongMaterial?(i(m,h),u(m,h)):h.isMeshStandardMaterial?(i(m,h),g(m,h),h.isMeshPhysicalMaterial&&f(m,h,v)):h.isMeshMatcapMaterial?(i(m,h),y(m,h)):h.isMeshDepthMaterial?i(m,h):h.isMeshDistanceMaterial?(i(m,h),_(m,h)):h.isMeshNormalMaterial?i(m,h):h.isLineBasicMaterial?(n(m,h),h.isLineDashedMaterial&&p(m,h)):h.isPointsMaterial?d(m,h,R,b):h.isSpriteMaterial?l(m,h):h.isShadowMaterial?(m.color.value.copy(h.color),m.opacity.value=h.opacity):h.isShaderMaterial&&(h.uniformsNeedUpdate=!1)}function i(m,h){m.opacity.value=h.opacity,h.color&&m.diffuse.value.copy(h.color),h.emissive&&m.emissive.value.copy(h.emissive).multiplyScalar(h.emissiveIntensity),h.map&&(m.map.value=h.map,r(h.map,m.mapTransform)),h.alphaMap&&(m.alphaMap.value=h.alphaMap,r(h.alphaMap,m.alphaMapTransform)),h.bumpMap&&(m.bumpMap.value=h.bumpMap,r(h.bumpMap,m.bumpMapTransform),m.bumpScale.value=h.bumpScale,h.side===BackSide&&(m.bumpScale.value*=-1)),h.normalMap&&(m.normalMap.value=h.normalMap,r(h.normalMap,m.normalMapTransform),m.normalScale.value.copy(h.normalScale),h.side===BackSide&&m.normalScale.value.negate()),h.displacementMap&&(m.displacementMap.value=h.displacementMap,r(h.displacementMap,m.displacementMapTransform),m.displacementScale.value=h.displacementScale,m.displacementBias.value=h.displacementBias),h.emissiveMap&&(m.emissiveMap.value=h.emissiveMap,r(h.emissiveMap,m.emissiveMapTransform)),h.specularMap&&(m.specularMap.value=h.specularMap,r(h.specularMap,m.specularMapTransform)),h.alphaTest>0&&(m.alphaTest.value=h.alphaTest);const R=e.get(h).envMap;if(R&&(m.envMap.value=R,m.flipEnvMap.value=R.isCubeTexture&&R.isRenderTargetTexture===!1?-1:1,m.reflectivity.value=h.reflectivity,m.ior.value=h.ior,m.refractionRatio.value=h.refractionRatio),h.lightMap){m.lightMap.value=h.lightMap;const b=t.useLegacyLights===!0?Math.PI:1;m.lightMapIntensity.value=h.lightMapIntensity*b,r(h.lightMap,m.lightMapTransform)}h.aoMap&&(m.aoMap.value=h.aoMap,m.aoMapIntensity.value=h.aoMapIntensity,r(h.aoMap,m.aoMapTransform))}function n(m,h){m.diffuse.value.copy(h.color),m.opacity.value=h.opacity,h.map&&(m.map.value=h.map,r(h.map,m.mapTransform))}function p(m,h){m.dashSize.value=h.dashSize,m.totalSize.value=h.dashSize+h.gapSize,m.scale.value=h.scale}function d(m,h,R,b){m.diffuse.value.copy(h.color),m.opacity.value=h.opacity,m.size.value=h.size*R,m.scale.value=b*.5,h.map&&(m.map.value=h.map,r(h.map,m.uvTransform)),h.alphaMap&&(m.alphaMap.value=h.alphaMap,r(h.alphaMap,m.alphaMapTransform)),h.alphaTest>0&&(m.alphaTest.value=h.alphaTest)}function l(m,h){m.diffuse.value.copy(h.color),m.opacity.value=h.opacity,m.rotation.value=h.rotation,h.map&&(m.map.value=h.map,r(h.map,m.mapTransform)),h.alphaMap&&(m.alphaMap.value=h.alphaMap,r(h.alphaMap,m.alphaMapTransform)),h.alphaTest>0&&(m.alphaTest.value=h.alphaTest)}function u(m,h){m.specular.value.copy(h.specular),m.shininess.value=Math.max(h.shininess,1e-4)}function c(m,h){h.gradientMap&&(m.gradientMap.value=h.gradientMap)}function g(m,h){m.metalness.value=h.metalness,h.metalnessMap&&(m.metalnessMap.value=h.metalnessMap,r(h.metalnessMap,m.metalnessMapTransform)),m.roughness.value=h.roughness,h.roughnessMap&&(m.roughnessMap.value=h.roughnessMap,r(h.roughnessMap,m.roughnessMapTransform)),e.get(h).envMap&&(m.envMapIntensity.value=h.envMapIntensity)}function f(m,h,R){m.ior.value=h.ior,h.sheen>0&&(m.sheenColor.value.copy(h.sheenColor).multiplyScalar(h.sheen),m.sheenRoughness.value=h.sheenRoughness,h.sheenColorMap&&(m.sheenColorMap.value=h.sheenColorMap,r(h.sheenColorMap,m.sheenColorMapTransform)),h.sheenRoughnessMap&&(m.sheenRoughnessMap.value=h.sheenRoughnessMap,r(h.sheenRoughnessMap,m.sheenRoughnessMapTransform))),h.clearcoat>0&&(m.clearcoat.value=h.clearcoat,m.clearcoatRoughness.value=h.clearcoatRoughness,h.clearcoatMap&&(m.clearcoatMap.value=h.clearcoatMap,r(h.clearcoatMap,m.clearcoatMapTransform)),h.clearcoatRoughnessMap&&(m.clearcoatRoughnessMap.value=h.clearcoatRoughnessMap,r(h.clearcoatRoughnessMap,m.clearcoatRoughnessMapTransform)),h.clearcoatNormalMap&&(m.clearcoatNormalMap.value=h.clearcoatNormalMap,r(h.clearcoatNormalMap,m.clearcoatNormalMapTransform),m.clearcoatNormalScale.value.copy(h.clearcoatNormalScale),h.side===BackSide&&m.clearcoatNormalScale.value.negate())),h.iridescence>0&&(m.iridescence.value=h.iridescence,m.iridescenceIOR.value=h.iridescenceIOR,m.iridescenceThicknessMinimum.value=h.iridescenceThicknessRange[0],m.iridescenceThicknessMaximum.value=h.iridescenceThicknessRange[1],h.iridescenceMap&&(m.iridescenceMap.value=h.iridescenceMap,r(h.iridescenceMap,m.iridescenceMapTransform)),h.iridescenceThicknessMap&&(m.iridescenceThicknessMap.value=h.iridescenceThicknessMap,r(h.iridescenceThicknessMap,m.iridescenceThicknessMapTransform))),h.transmission>0&&(m.transmission.value=h.transmission,m.transmissionSamplerMap.value=R.texture,m.transmissionSamplerSize.value.set(R.width,R.height),h.transmissionMap&&(m.transmissionMap.value=h.transmissionMap,r(h.transmissionMap,m.transmissionMapTransform)),m.thickness.value=h.thickness,h.thicknessMap&&(m.thicknessMap.value=h.thicknessMap,r(h.thicknessMap,m.thicknessMapTransform)),m.attenuationDistance.value=h.attenuationDistance,m.attenuationColor.value.copy(h.attenuationColor)),h.anisotropy>0&&(m.anisotropyVector.value.set(h.anisotropy*Math.cos(h.anisotropyRotation),h.anisotropy*Math.sin(h.anisotropyRotation)),h.anisotropyMap&&(m.anisotropyMap.value=h.anisotropyMap,r(h.anisotropyMap,m.anisotropyMapTransform))),m.specularIntensity.value=h.specularIntensity,m.specularColor.value.copy(h.specularColor),h.specularColorMap&&(m.specularColorMap.value=h.specularColorMap,r(h.specularColorMap,m.specularColorMapTransform)),h.specularIntensityMap&&(m.specularIntensityMap.value=h.specularIntensityMap,r(h.specularIntensityMap,m.specularIntensityMapTransform))}function y(m,h){h.matcap&&(m.matcap.value=h.matcap)}function _(m,h){const R=e.get(h).light;m.referencePosition.value.setFromMatrixPosition(R.matrixWorld),m.nearDistance.value=R.shadow.camera.near,m.farDistance.value=R.shadow.camera.far}return{refreshFogUniforms:s,refreshMaterialUniforms:o}}function WebGLUniformsGroups(t,e,r,s){let o={},i={},n=[];const p=r.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function d(R,b){const v=b.program;s.uniformBlockBinding(R,v)}function l(R,b){let v=o[R.id];v===void 0&&(y(R),v=u(R),o[R.id]=v,R.addEventListener("dispose",m));const S=b.program;s.updateUBOMapping(R,S);const T=e.render.frame;i[R.id]!==T&&(g(R),i[R.id]=T)}function u(R){const b=c();R.__bindingPointIndex=b;const v=t.createBuffer(),S=R.__size,T=R.usage;return t.bindBuffer(t.UNIFORM_BUFFER,v),t.bufferData(t.UNIFORM_BUFFER,S,T),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,b,v),v}function c(){for(let R=0;R<p;R++)if(n.indexOf(R)===-1)return n.push(R),R;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function g(R){const b=o[R.id],v=R.uniforms,S=R.__cache;t.bindBuffer(t.UNIFORM_BUFFER,b);for(let T=0,O=v.length;T<O;T++){const C=v[T];if(f(C,T,S)===!0){const M=C.__offset,E=Array.isArray(C.value)?C.value:[C.value];let B=0;for(let N=0;N<E.length;N++){const w=E[N],D=_(w);typeof w=="number"?(C.__data[0]=w,t.bufferSubData(t.UNIFORM_BUFFER,M+B,C.__data)):w.isMatrix3?(C.__data[0]=w.elements[0],C.__data[1]=w.elements[1],C.__data[2]=w.elements[2],C.__data[3]=w.elements[0],C.__data[4]=w.elements[3],C.__data[5]=w.elements[4],C.__data[6]=w.elements[5],C.__data[7]=w.elements[0],C.__data[8]=w.elements[6],C.__data[9]=w.elements[7],C.__data[10]=w.elements[8],C.__data[11]=w.elements[0]):(w.toArray(C.__data,B),B+=D.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,M,C.__data)}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function f(R,b,v){const S=R.value;if(v[b]===void 0){if(typeof S=="number")v[b]=S;else{const T=Array.isArray(S)?S:[S],O=[];for(let C=0;C<T.length;C++)O.push(T[C].clone());v[b]=O}return!0}else if(typeof S=="number"){if(v[b]!==S)return v[b]=S,!0}else{const T=Array.isArray(v[b])?v[b]:[v[b]],O=Array.isArray(S)?S:[S];for(let C=0;C<T.length;C++){const M=T[C];if(M.equals(O[C])===!1)return M.copy(O[C]),!0}}return!1}function y(R){const b=R.uniforms;let v=0;const S=16;let T=0;for(let O=0,C=b.length;O<C;O++){const M=b[O],E={boundary:0,storage:0},B=Array.isArray(M.value)?M.value:[M.value];for(let N=0,w=B.length;N<w;N++){const D=B[N],G=_(D);E.boundary+=G.boundary,E.storage+=G.storage}if(M.__data=new Float32Array(E.storage/Float32Array.BYTES_PER_ELEMENT),M.__offset=v,O>0){T=v%S;const N=S-T;T!==0&&N-E.boundary<0&&(v+=S-T,M.__offset=v)}v+=E.storage}return T=v%S,T>0&&(v+=S-T),R.__size=v,R.__cache={},this}function _(R){const b={boundary:0,storage:0};return typeof R=="number"?(b.boundary=4,b.storage=4):R.isVector2?(b.boundary=8,b.storage=8):R.isVector3||R.isColor?(b.boundary=16,b.storage=12):R.isVector4?(b.boundary=16,b.storage=16):R.isMatrix3?(b.boundary=48,b.storage=48):R.isMatrix4?(b.boundary=64,b.storage=64):R.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",R),b}function m(R){const b=R.target;b.removeEventListener("dispose",m);const v=n.indexOf(b.__bindingPointIndex);n.splice(v,1),t.deleteBuffer(o[b.id]),delete o[b.id],delete i[b.id]}function h(){for(const R in o)t.deleteBuffer(o[R]);n=[],o={},i={}}return{bind:d,update:l,dispose:h}}function createCanvasElement(){const t=createElementNS("canvas");return t.style.display="block",t}class WebGLRenderer{constructor(e={}){const{canvas:r=createCanvasElement(),context:s=null,depth:o=!0,stencil:i=!0,alpha:n=!1,antialias:p=!1,premultipliedAlpha:d=!0,preserveDrawingBuffer:l=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:c=!1}=e;this.isWebGLRenderer=!0;let g;s!==null?g=s.getContextAttributes().alpha:g=n;const f=new Uint32Array(4),y=new Int32Array(4);let _=null,m=null;const h=[],R=[];this.domElement=r,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=SRGBColorSpace,this.useLegacyLights=!0,this.toneMapping=NoToneMapping,this.toneMappingExposure=1;const b=this;let v=!1,S=0,T=0,O=null,C=-1,M=null;const E=new Vector4,B=new Vector4;let N=null;const w=new Color(0);let D=0,G=r.width,K=r.height,j=1,Y=null,J=null;const q=new Vector4(0,0,G,K),U=new Vector4(0,0,G,K);let W=!1;const ne=new Frustum;let ae=!1,se=!1,he=null;const Ee=new Matrix4,_e=new Vector2,Be=new Vector3,Ke={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Ae(){return O===null?j:1}let I=s;function Ve(x,P){for(let H=0;H<x.length;H++){const k=x[H],X=r.getContext(k,P);if(X!==null)return X}return null}try{const x={alpha:!0,depth:o,stencil:i,antialias:p,premultipliedAlpha:d,preserveDrawingBuffer:l,powerPreference:u,failIfMajorPerformanceCaveat:c};if("setAttribute"in r&&r.setAttribute("data-engine",`three.js r${REVISION}`),r.addEventListener("webglcontextlost",te,!1),r.addEventListener("webglcontextrestored",z,!1),r.addEventListener("webglcontextcreationerror",ee,!1),I===null){const P=["webgl2","webgl","experimental-webgl"];if(b.isWebGL1Renderer===!0&&P.shift(),I=Ve(P,x),I===null)throw Ve(P)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&I instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),I.getShaderPrecisionFormat===void 0&&(I.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(x){throw console.error("THREE.WebGLRenderer: "+x.message),x}let ye,Te,ve,Ie,Ce,Oe,ke,He,Xe,A,F,V,Z,Q,re,ce,ie,$,ue,ge,me,de,le,Fe;function De(){ye=new WebGLExtensions(I),Te=new WebGLCapabilities(I,ye,e),ye.init(Te),de=new WebGLUtils(I,ye,Te),ve=new WebGLState(I,ye,Te),Ie=new WebGLInfo(I),Ce=new WebGLProperties,Oe=new WebGLTextures(I,ye,ve,Ce,Te,de,Ie),ke=new WebGLCubeMaps(b),He=new WebGLCubeUVMaps(b),Xe=new WebGLAttributes(I,Te),le=new WebGLBindingStates(I,ye,Xe,Te),A=new WebGLGeometries(I,Xe,Ie,le),F=new WebGLObjects(I,A,Xe,Ie),ue=new WebGLMorphtargets(I,Te,Oe),ce=new WebGLClipping(Ce),V=new WebGLPrograms(b,ke,He,ye,Te,le,ce),Z=new WebGLMaterials(b,Ce),Q=new WebGLRenderLists,re=new WebGLRenderStates(ye,Te),$=new WebGLBackground(b,ke,He,ve,F,g,d),ie=new WebGLShadowMap(b,F,Te),Fe=new WebGLUniformsGroups(I,Ie,Te,ve),ge=new WebGLBufferRenderer(I,ye,Ie,Te),me=new WebGLIndexedBufferRenderer(I,ye,Ie,Te),Ie.programs=V.programs,b.capabilities=Te,b.extensions=ye,b.properties=Ce,b.renderLists=Q,b.shadowMap=ie,b.state=ve,b.info=Ie}De();const L=new WebXRManager(b,I);this.xr=L,this.getContext=function(){return I},this.getContextAttributes=function(){return I.getContextAttributes()},this.forceContextLoss=function(){const x=ye.get("WEBGL_lose_context");x&&x.loseContext()},this.forceContextRestore=function(){const x=ye.get("WEBGL_lose_context");x&&x.restoreContext()},this.getPixelRatio=function(){return j},this.setPixelRatio=function(x){x!==void 0&&(j=x,this.setSize(G,K,!1))},this.getSize=function(x){return x.set(G,K)},this.setSize=function(x,P,H=!0){if(L.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}G=x,K=P,r.width=Math.floor(x*j),r.height=Math.floor(P*j),H===!0&&(r.style.width=x+"px",r.style.height=P+"px"),this.setViewport(0,0,x,P)},this.getDrawingBufferSize=function(x){return x.set(G*j,K*j).floor()},this.setDrawingBufferSize=function(x,P,H){G=x,K=P,j=H,r.width=Math.floor(x*H),r.height=Math.floor(P*H),this.setViewport(0,0,x,P)},this.getCurrentViewport=function(x){return x.copy(E)},this.getViewport=function(x){return x.copy(q)},this.setViewport=function(x,P,H,k){x.isVector4?q.set(x.x,x.y,x.z,x.w):q.set(x,P,H,k),ve.viewport(E.copy(q).multiplyScalar(j).floor())},this.getScissor=function(x){return x.copy(U)},this.setScissor=function(x,P,H,k){x.isVector4?U.set(x.x,x.y,x.z,x.w):U.set(x,P,H,k),ve.scissor(B.copy(U).multiplyScalar(j).floor())},this.getScissorTest=function(){return W},this.setScissorTest=function(x){ve.setScissorTest(W=x)},this.setOpaqueSort=function(x){Y=x},this.setTransparentSort=function(x){J=x},this.getClearColor=function(x){return x.copy($.getClearColor())},this.setClearColor=function(){$.setClearColor.apply($,arguments)},this.getClearAlpha=function(){return $.getClearAlpha()},this.setClearAlpha=function(){$.setClearAlpha.apply($,arguments)},this.clear=function(x=!0,P=!0,H=!0){let k=0;if(x){let X=!1;if(O!==null){const pe=O.texture.format;X=pe===RGBAIntegerFormat||pe===RGIntegerFormat||pe===RedIntegerFormat}if(X){const pe=O.texture.type,fe=pe===UnsignedByteType||pe===UnsignedIntType||pe===UnsignedShortType||pe===UnsignedInt248Type||pe===UnsignedShort4444Type||pe===UnsignedShort5551Type,be=$.getClearColor(),Me=$.getClearAlpha(),xe=be.r,Se=be.g,Re=be.b;fe?(f[0]=xe,f[1]=Se,f[2]=Re,f[3]=Me,I.clearBufferuiv(I.COLOR,0,f)):(y[0]=xe,y[1]=Se,y[2]=Re,y[3]=Me,I.clearBufferiv(I.COLOR,0,y))}else k|=I.COLOR_BUFFER_BIT}P&&(k|=I.DEPTH_BUFFER_BIT),H&&(k|=I.STENCIL_BUFFER_BIT),I.clear(k)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){r.removeEventListener("webglcontextlost",te,!1),r.removeEventListener("webglcontextrestored",z,!1),r.removeEventListener("webglcontextcreationerror",ee,!1),Q.dispose(),re.dispose(),Ce.dispose(),ke.dispose(),He.dispose(),F.dispose(),le.dispose(),Fe.dispose(),V.dispose(),L.dispose(),L.removeEventListener("sessionstart",Ge),L.removeEventListener("sessionend",Qe),he&&(he.dispose(),he=null),$e.stop()};function te(x){x.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),v=!0}function z(){console.log("THREE.WebGLRenderer: Context Restored."),v=!1;const x=Ie.autoReset,P=ie.enabled,H=ie.autoUpdate,k=ie.needsUpdate,X=ie.type;De(),Ie.autoReset=x,ie.enabled=P,ie.autoUpdate=H,ie.needsUpdate=k,ie.type=X}function ee(x){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",x.statusMessage)}function oe(x){const P=x.target;P.removeEventListener("dispose",oe),we(P)}function we(x){Pe(x),Ce.remove(x)}function Pe(x){const P=Ce.get(x).programs;P!==void 0&&(P.forEach(function(H){V.releaseProgram(H)}),x.isShaderMaterial&&V.releaseShaderCache(x))}this.renderBufferDirect=function(x,P,H,k,X,pe){P===null&&(P=Ke);const fe=X.isMesh&&X.matrixWorld.determinant()<0,be=_t(x,P,H,k,X);ve.setMaterial(k,fe);let Me=H.index,xe=1;k.wireframe===!0&&(Me=A.getWireframeAttribute(H),xe=2);const Se=H.drawRange,Re=H.attributes.position;let Ne=Se.start*xe,Ue=(Se.start+Se.count)*xe;pe!==null&&(Ne=Math.max(Ne,pe.start*xe),Ue=Math.min(Ue,(pe.start+pe.count)*xe)),Me!==null?(Ne=Math.max(Ne,0),Ue=Math.min(Ue,Me.count)):Re!=null&&(Ne=Math.max(Ne,0),Ue=Math.min(Ue,Re.count));const Je=Ue-Ne;if(Je<0||Je===1/0)return;le.setup(X,k,be,H,Me);let et,ze=ge;if(Me!==null&&(et=Xe.get(Me),ze=me,ze.setIndex(et)),X.isMesh)k.wireframe===!0?(ve.setLineWidth(k.wireframeLinewidth*Ae()),ze.setMode(I.LINES)):ze.setMode(I.TRIANGLES);else if(X.isLine){let Le=k.linewidth;Le===void 0&&(Le=1),ve.setLineWidth(Le*Ae()),X.isLineSegments?ze.setMode(I.LINES):X.isLineLoop?ze.setMode(I.LINE_LOOP):ze.setMode(I.LINE_STRIP)}else X.isPoints?ze.setMode(I.POINTS):X.isSprite&&ze.setMode(I.TRIANGLES);if(X.isInstancedMesh)ze.renderInstances(Ne,Je,X.count);else if(H.isInstancedBufferGeometry){const Le=H._maxInstanceCount!==void 0?H._maxInstanceCount:1/0,at=Math.min(H.instanceCount,Le);ze.renderInstances(Ne,Je,at)}else ze.render(Ne,Je)},this.compile=function(x,P){function H(k,X,pe){k.transparent===!0&&k.side===DoubleSide&&k.forceSinglePass===!1?(k.side=BackSide,k.needsUpdate=!0,nt(k,X,pe),k.side=FrontSide,k.needsUpdate=!0,nt(k,X,pe),k.side=DoubleSide):nt(k,X,pe)}m=re.get(x),m.init(),R.push(m),x.traverseVisible(function(k){k.isLight&&k.layers.test(P.layers)&&(m.pushLight(k),k.castShadow&&m.pushShadow(k))}),m.setupLights(b.useLegacyLights),x.traverse(function(k){const X=k.material;if(X)if(Array.isArray(X))for(let pe=0;pe<X.length;pe++){const fe=X[pe];H(fe,x,k)}else H(X,x,k)}),R.pop(),m=null};let je=null;function Ze(x){je&&je(x)}function Ge(){$e.stop()}function Qe(){$e.start()}const $e=new WebGLAnimation;$e.setAnimationLoop(Ze),typeof self<"u"&&$e.setContext(self),this.setAnimationLoop=function(x){je=x,L.setAnimationLoop(x),x===null?$e.stop():$e.start()},L.addEventListener("sessionstart",Ge),L.addEventListener("sessionend",Qe),this.render=function(x,P){if(P!==void 0&&P.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(v===!0)return;x.matrixWorldAutoUpdate===!0&&x.updateMatrixWorld(),P.parent===null&&P.matrixWorldAutoUpdate===!0&&P.updateMatrixWorld(),L.enabled===!0&&L.isPresenting===!0&&(L.cameraAutoUpdate===!0&&L.updateCamera(P),P=L.getCamera()),x.isScene===!0&&x.onBeforeRender(b,x,P,O),m=re.get(x,R.length),m.init(),R.push(m),Ee.multiplyMatrices(P.projectionMatrix,P.matrixWorldInverse),ne.setFromProjectionMatrix(Ee),se=this.localClippingEnabled,ae=ce.init(this.clippingPlanes,se),_=Q.get(x,h.length),_.init(),h.push(_),lt(x,P,0,b.sortObjects),_.finish(),b.sortObjects===!0&&_.sort(Y,J),this.info.render.frame++,ae===!0&&ce.beginShadows();const H=m.state.shadowsArray;if(ie.render(H,x,P),ae===!0&&ce.endShadows(),this.info.autoReset===!0&&this.info.reset(),$.render(_,x),m.setupLights(b.useLegacyLights),P.isArrayCamera){const k=P.cameras;for(let X=0,pe=k.length;X<pe;X++){const fe=k[X];ct(_,x,fe,fe.viewport)}}else ct(_,x,P);O!==null&&(Oe.updateMultisampleRenderTarget(O),Oe.updateRenderTargetMipmap(O)),x.isScene===!0&&x.onAfterRender(b,x,P),le.resetDefaultState(),C=-1,M=null,R.pop(),R.length>0?m=R[R.length-1]:m=null,h.pop(),h.length>0?_=h[h.length-1]:_=null};function lt(x,P,H,k){if(x.visible===!1)return;if(x.layers.test(P.layers)){if(x.isGroup)H=x.renderOrder;else if(x.isLOD)x.autoUpdate===!0&&x.update(P);else if(x.isLight)m.pushLight(x),x.castShadow&&m.pushShadow(x);else if(x.isSprite){if(!x.frustumCulled||ne.intersectsSprite(x)){k&&Be.setFromMatrixPosition(x.matrixWorld).applyMatrix4(Ee);const fe=F.update(x),be=x.material;be.visible&&_.push(x,fe,be,H,Be.z,null)}}else if((x.isMesh||x.isLine||x.isPoints)&&(!x.frustumCulled||ne.intersectsObject(x))){const fe=F.update(x),be=x.material;if(k&&(x.boundingSphere!==void 0?(x.boundingSphere===null&&x.computeBoundingSphere(),Be.copy(x.boundingSphere.center)):(fe.boundingSphere===null&&fe.computeBoundingSphere(),Be.copy(fe.boundingSphere.center)),Be.applyMatrix4(x.matrixWorld).applyMatrix4(Ee)),Array.isArray(be)){const Me=fe.groups;for(let xe=0,Se=Me.length;xe<Se;xe++){const Re=Me[xe],Ne=be[Re.materialIndex];Ne&&Ne.visible&&_.push(x,fe,Ne,H,Be.z,Re)}}else be.visible&&_.push(x,fe,be,H,Be.z,null)}}const pe=x.children;for(let fe=0,be=pe.length;fe<be;fe++)lt(pe[fe],P,H,k)}function ct(x,P,H,k){const X=x.opaque,pe=x.transmissive,fe=x.transparent;m.setupLightsView(H),ae===!0&&ce.setGlobalState(b.clippingPlanes,H),pe.length>0&&mt(X,pe,P,H),k&&ve.viewport(E.copy(k)),X.length>0&&ot(X,P,H),pe.length>0&&ot(pe,P,H),fe.length>0&&ot(fe,P,H),ve.buffers.depth.setTest(!0),ve.buffers.depth.setMask(!0),ve.buffers.color.setMask(!0),ve.setPolygonOffset(!1)}function mt(x,P,H,k){const X=Te.isWebGL2;he===null&&(he=new WebGLRenderTarget(1,1,{generateMipmaps:!0,type:ye.has("EXT_color_buffer_half_float")?HalfFloatType:UnsignedByteType,minFilter:LinearMipmapLinearFilter,samples:X?4:0})),b.getDrawingBufferSize(_e),X?he.setSize(_e.x,_e.y):he.setSize(floorPowerOfTwo(_e.x),floorPowerOfTwo(_e.y));const pe=b.getRenderTarget();b.setRenderTarget(he),b.getClearColor(w),D=b.getClearAlpha(),D<1&&b.setClearColor(16777215,.5),b.clear();const fe=b.toneMapping;b.toneMapping=NoToneMapping,ot(x,H,k),Oe.updateMultisampleRenderTarget(he),Oe.updateRenderTargetMipmap(he);let be=!1;for(let Me=0,xe=P.length;Me<xe;Me++){const Se=P[Me],Re=Se.object,Ne=Se.geometry,Ue=Se.material,Je=Se.group;if(Ue.side===DoubleSide&&Re.layers.test(k.layers)){const et=Ue.side;Ue.side=BackSide,Ue.needsUpdate=!0,ut(Re,H,k,Ne,Ue,Je),Ue.side=et,Ue.needsUpdate=!0,be=!0}}be===!0&&(Oe.updateMultisampleRenderTarget(he),Oe.updateRenderTargetMipmap(he)),b.setRenderTarget(pe),b.setClearColor(w,D),b.toneMapping=fe}function ot(x,P,H){const k=P.isScene===!0?P.overrideMaterial:null;for(let X=0,pe=x.length;X<pe;X++){const fe=x[X],be=fe.object,Me=fe.geometry,xe=k===null?fe.material:k,Se=fe.group;be.layers.test(H.layers)&&ut(be,P,H,Me,xe,Se)}}function ut(x,P,H,k,X,pe){x.onBeforeRender(b,P,H,k,X,pe),x.modelViewMatrix.multiplyMatrices(H.matrixWorldInverse,x.matrixWorld),x.normalMatrix.getNormalMatrix(x.modelViewMatrix),X.onBeforeRender(b,P,H,k,x,pe),X.transparent===!0&&X.side===DoubleSide&&X.forceSinglePass===!1?(X.side=BackSide,X.needsUpdate=!0,b.renderBufferDirect(H,P,k,X,x,pe),X.side=FrontSide,X.needsUpdate=!0,b.renderBufferDirect(H,P,k,X,x,pe),X.side=DoubleSide):b.renderBufferDirect(H,P,k,X,x,pe),x.onAfterRender(b,P,H,k,X,pe)}function nt(x,P,H){P.isScene!==!0&&(P=Ke);const k=Ce.get(x),X=m.state.lights,pe=m.state.shadowsArray,fe=X.state.version,be=V.getParameters(x,X.state,pe,P,H),Me=V.getProgramCacheKey(be);let xe=k.programs;k.environment=x.isMeshStandardMaterial?P.environment:null,k.fog=P.fog,k.envMap=(x.isMeshStandardMaterial?He:ke).get(x.envMap||k.environment),xe===void 0&&(x.addEventListener("dispose",oe),xe=new Map,k.programs=xe);let Se=xe.get(Me);if(Se!==void 0){if(k.currentProgram===Se&&k.lightsStateVersion===fe)return gt(x,be),Se}else be.uniforms=V.getUniforms(x),x.onBuild(H,be,b),x.onBeforeCompile(be,b),Se=V.acquireProgram(be,Me),xe.set(Me,Se),k.uniforms=be.uniforms;const Re=k.uniforms;(!x.isShaderMaterial&&!x.isRawShaderMaterial||x.clipping===!0)&&(Re.clippingPlanes=ce.uniform),gt(x,be),k.needsLights=bt(x),k.lightsStateVersion=fe,k.needsLights&&(Re.ambientLightColor.value=X.state.ambient,Re.lightProbe.value=X.state.probe,Re.directionalLights.value=X.state.directional,Re.directionalLightShadows.value=X.state.directionalShadow,Re.spotLights.value=X.state.spot,Re.spotLightShadows.value=X.state.spotShadow,Re.rectAreaLights.value=X.state.rectArea,Re.ltc_1.value=X.state.rectAreaLTC1,Re.ltc_2.value=X.state.rectAreaLTC2,Re.pointLights.value=X.state.point,Re.pointLightShadows.value=X.state.pointShadow,Re.hemisphereLights.value=X.state.hemi,Re.directionalShadowMap.value=X.state.directionalShadowMap,Re.directionalShadowMatrix.value=X.state.directionalShadowMatrix,Re.spotShadowMap.value=X.state.spotShadowMap,Re.spotLightMatrix.value=X.state.spotLightMatrix,Re.spotLightMap.value=X.state.spotLightMap,Re.pointShadowMap.value=X.state.pointShadowMap,Re.pointShadowMatrix.value=X.state.pointShadowMatrix);const Ne=Se.getUniforms(),Ue=WebGLUniforms.seqWithValue(Ne.seq,Re);return k.currentProgram=Se,k.uniformsList=Ue,Se}function gt(x,P){const H=Ce.get(x);H.outputColorSpace=P.outputColorSpace,H.instancing=P.instancing,H.skinning=P.skinning,H.morphTargets=P.morphTargets,H.morphNormals=P.morphNormals,H.morphColors=P.morphColors,H.morphTargetsCount=P.morphTargetsCount,H.numClippingPlanes=P.numClippingPlanes,H.numIntersection=P.numClipIntersection,H.vertexAlphas=P.vertexAlphas,H.vertexTangents=P.vertexTangents,H.toneMapping=P.toneMapping}function _t(x,P,H,k,X){P.isScene!==!0&&(P=Ke),Oe.resetTextureUnits();const pe=P.fog,fe=k.isMeshStandardMaterial?P.environment:null,be=O===null?b.outputColorSpace:O.isXRRenderTarget===!0?O.texture.colorSpace:LinearSRGBColorSpace,Me=(k.isMeshStandardMaterial?He:ke).get(k.envMap||fe),xe=k.vertexColors===!0&&!!H.attributes.color&&H.attributes.color.itemSize===4,Se=!!H.attributes.tangent&&(!!k.normalMap||k.anisotropy>0),Re=!!H.morphAttributes.position,Ne=!!H.morphAttributes.normal,Ue=!!H.morphAttributes.color,Je=k.toneMapped?b.toneMapping:NoToneMapping,et=H.morphAttributes.position||H.morphAttributes.normal||H.morphAttributes.color,ze=et!==void 0?et.length:0,Le=Ce.get(k),at=m.state.lights;if(ae===!0&&(se===!0||x!==M)){const qe=x===M&&k.id===C;ce.setState(k,x,qe)}let We=!1;k.version===Le.__version?(Le.needsLights&&Le.lightsStateVersion!==at.state.version||Le.outputColorSpace!==be||X.isInstancedMesh&&Le.instancing===!1||!X.isInstancedMesh&&Le.instancing===!0||X.isSkinnedMesh&&Le.skinning===!1||!X.isSkinnedMesh&&Le.skinning===!0||Le.envMap!==Me||k.fog===!0&&Le.fog!==pe||Le.numClippingPlanes!==void 0&&(Le.numClippingPlanes!==ce.numPlanes||Le.numIntersection!==ce.numIntersection)||Le.vertexAlphas!==xe||Le.vertexTangents!==Se||Le.morphTargets!==Re||Le.morphNormals!==Ne||Le.morphColors!==Ue||Le.toneMapping!==Je||Te.isWebGL2===!0&&Le.morphTargetsCount!==ze)&&(We=!0):(We=!0,Le.__version=k.version);let tt=Le.currentProgram;We===!0&&(tt=nt(k,P,X));let ft=!1,it=!1,st=!1;const Ye=tt.getUniforms(),rt=Le.uniforms;if(ve.useProgram(tt.program)&&(ft=!0,it=!0,st=!0),k.id!==C&&(C=k.id,it=!0),ft||M!==x){if(Ye.setValue(I,"projectionMatrix",x.projectionMatrix),Te.logarithmicDepthBuffer&&Ye.setValue(I,"logDepthBufFC",2/(Math.log(x.far+1)/Math.LN2)),M!==x&&(M=x,it=!0,st=!0),k.isShaderMaterial||k.isMeshPhongMaterial||k.isMeshToonMaterial||k.isMeshStandardMaterial||k.envMap){const qe=Ye.map.cameraPosition;qe!==void 0&&qe.setValue(I,Be.setFromMatrixPosition(x.matrixWorld))}(k.isMeshPhongMaterial||k.isMeshToonMaterial||k.isMeshLambertMaterial||k.isMeshBasicMaterial||k.isMeshStandardMaterial||k.isShaderMaterial)&&Ye.setValue(I,"isOrthographic",x.isOrthographicCamera===!0),(k.isMeshPhongMaterial||k.isMeshToonMaterial||k.isMeshLambertMaterial||k.isMeshBasicMaterial||k.isMeshStandardMaterial||k.isShaderMaterial||k.isShadowMaterial||X.isSkinnedMesh)&&Ye.setValue(I,"viewMatrix",x.matrixWorldInverse)}if(X.isSkinnedMesh){Ye.setOptional(I,X,"bindMatrix"),Ye.setOptional(I,X,"bindMatrixInverse");const qe=X.skeleton;qe&&(Te.floatVertexTextures?(qe.boneTexture===null&&qe.computeBoneTexture(),Ye.setValue(I,"boneTexture",qe.boneTexture,Oe),Ye.setValue(I,"boneTextureSize",qe.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const pt=H.morphAttributes;if((pt.position!==void 0||pt.normal!==void 0||pt.color!==void 0&&Te.isWebGL2===!0)&&ue.update(X,H,tt),(it||Le.receiveShadow!==X.receiveShadow)&&(Le.receiveShadow=X.receiveShadow,Ye.setValue(I,"receiveShadow",X.receiveShadow)),k.isMeshGouraudMaterial&&k.envMap!==null&&(rt.envMap.value=Me,rt.flipEnvMap.value=Me.isCubeTexture&&Me.isRenderTargetTexture===!1?-1:1),it&&(Ye.setValue(I,"toneMappingExposure",b.toneMappingExposure),Le.needsLights&&yt(rt,st),pe&&k.fog===!0&&Z.refreshFogUniforms(rt,pe),Z.refreshMaterialUniforms(rt,k,j,K,he),WebGLUniforms.upload(I,Le.uniformsList,rt,Oe)),k.isShaderMaterial&&k.uniformsNeedUpdate===!0&&(WebGLUniforms.upload(I,Le.uniformsList,rt,Oe),k.uniformsNeedUpdate=!1),k.isSpriteMaterial&&Ye.setValue(I,"center",X.center),Ye.setValue(I,"modelViewMatrix",X.modelViewMatrix),Ye.setValue(I,"normalMatrix",X.normalMatrix),Ye.setValue(I,"modelMatrix",X.matrixWorld),k.isShaderMaterial||k.isRawShaderMaterial){const qe=k.uniformsGroups;for(let dt=0,Mt=qe.length;dt<Mt;dt++)if(Te.isWebGL2){const ht=qe[dt];Fe.update(ht,tt),Fe.bind(ht,tt)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return tt}function yt(x,P){x.ambientLightColor.needsUpdate=P,x.lightProbe.needsUpdate=P,x.directionalLights.needsUpdate=P,x.directionalLightShadows.needsUpdate=P,x.pointLights.needsUpdate=P,x.pointLightShadows.needsUpdate=P,x.spotLights.needsUpdate=P,x.spotLightShadows.needsUpdate=P,x.rectAreaLights.needsUpdate=P,x.hemisphereLights.needsUpdate=P}function bt(x){return x.isMeshLambertMaterial||x.isMeshToonMaterial||x.isMeshPhongMaterial||x.isMeshStandardMaterial||x.isShadowMaterial||x.isShaderMaterial&&x.lights===!0}this.getActiveCubeFace=function(){return S},this.getActiveMipmapLevel=function(){return T},this.getRenderTarget=function(){return O},this.setRenderTargetTextures=function(x,P,H){Ce.get(x.texture).__webglTexture=P,Ce.get(x.depthTexture).__webglTexture=H;const k=Ce.get(x);k.__hasExternalTextures=!0,k.__hasExternalTextures&&(k.__autoAllocateDepthBuffer=H===void 0,k.__autoAllocateDepthBuffer||ye.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),k.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(x,P){const H=Ce.get(x);H.__webglFramebuffer=P,H.__useDefaultFramebuffer=P===void 0},this.setRenderTarget=function(x,P=0,H=0){O=x,S=P,T=H;let k=!0,X=null,pe=!1,fe=!1;if(x){const Me=Ce.get(x);Me.__useDefaultFramebuffer!==void 0?(ve.bindFramebuffer(I.FRAMEBUFFER,null),k=!1):Me.__webglFramebuffer===void 0?Oe.setupRenderTarget(x):Me.__hasExternalTextures&&Oe.rebindTextures(x,Ce.get(x.texture).__webglTexture,Ce.get(x.depthTexture).__webglTexture);const xe=x.texture;(xe.isData3DTexture||xe.isDataArrayTexture||xe.isCompressedArrayTexture)&&(fe=!0);const Se=Ce.get(x).__webglFramebuffer;x.isWebGLCubeRenderTarget?(X=Se[P],pe=!0):Te.isWebGL2&&x.samples>0&&Oe.useMultisampledRTT(x)===!1?X=Ce.get(x).__webglMultisampledFramebuffer:X=Se,E.copy(x.viewport),B.copy(x.scissor),N=x.scissorTest}else E.copy(q).multiplyScalar(j).floor(),B.copy(U).multiplyScalar(j).floor(),N=W;if(ve.bindFramebuffer(I.FRAMEBUFFER,X)&&Te.drawBuffers&&k&&ve.drawBuffers(x,X),ve.viewport(E),ve.scissor(B),ve.setScissorTest(N),pe){const Me=Ce.get(x.texture);I.framebufferTexture2D(I.FRAMEBUFFER,I.COLOR_ATTACHMENT0,I.TEXTURE_CUBE_MAP_POSITIVE_X+P,Me.__webglTexture,H)}else if(fe){const Me=Ce.get(x.texture),xe=P||0;I.framebufferTextureLayer(I.FRAMEBUFFER,I.COLOR_ATTACHMENT0,Me.__webglTexture,H||0,xe)}C=-1},this.readRenderTargetPixels=function(x,P,H,k,X,pe,fe){if(!(x&&x.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let be=Ce.get(x).__webglFramebuffer;if(x.isWebGLCubeRenderTarget&&fe!==void 0&&(be=be[fe]),be){ve.bindFramebuffer(I.FRAMEBUFFER,be);try{const Me=x.texture,xe=Me.format,Se=Me.type;if(xe!==RGBAFormat&&de.convert(xe)!==I.getParameter(I.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Re=Se===HalfFloatType&&(ye.has("EXT_color_buffer_half_float")||Te.isWebGL2&&ye.has("EXT_color_buffer_float"));if(Se!==UnsignedByteType&&de.convert(Se)!==I.getParameter(I.IMPLEMENTATION_COLOR_READ_TYPE)&&!(Se===FloatType&&(Te.isWebGL2||ye.has("OES_texture_float")||ye.has("WEBGL_color_buffer_float")))&&!Re){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}P>=0&&P<=x.width-k&&H>=0&&H<=x.height-X&&I.readPixels(P,H,k,X,de.convert(xe),de.convert(Se),pe)}finally{const Me=O!==null?Ce.get(O).__webglFramebuffer:null;ve.bindFramebuffer(I.FRAMEBUFFER,Me)}}},this.copyFramebufferToTexture=function(x,P,H=0){const k=Math.pow(2,-H),X=Math.floor(P.image.width*k),pe=Math.floor(P.image.height*k);Oe.setTexture2D(P,0),I.copyTexSubImage2D(I.TEXTURE_2D,H,0,0,x.x,x.y,X,pe),ve.unbindTexture()},this.copyTextureToTexture=function(x,P,H,k=0){const X=P.image.width,pe=P.image.height,fe=de.convert(H.format),be=de.convert(H.type);Oe.setTexture2D(H,0),I.pixelStorei(I.UNPACK_FLIP_Y_WEBGL,H.flipY),I.pixelStorei(I.UNPACK_PREMULTIPLY_ALPHA_WEBGL,H.premultiplyAlpha),I.pixelStorei(I.UNPACK_ALIGNMENT,H.unpackAlignment),P.isDataTexture?I.texSubImage2D(I.TEXTURE_2D,k,x.x,x.y,X,pe,fe,be,P.image.data):P.isCompressedTexture?I.compressedTexSubImage2D(I.TEXTURE_2D,k,x.x,x.y,P.mipmaps[0].width,P.mipmaps[0].height,fe,P.mipmaps[0].data):I.texSubImage2D(I.TEXTURE_2D,k,x.x,x.y,fe,be,P.image),k===0&&H.generateMipmaps&&I.generateMipmap(I.TEXTURE_2D),ve.unbindTexture()},this.copyTextureToTexture3D=function(x,P,H,k,X=0){if(b.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const pe=x.max.x-x.min.x+1,fe=x.max.y-x.min.y+1,be=x.max.z-x.min.z+1,Me=de.convert(k.format),xe=de.convert(k.type);let Se;if(k.isData3DTexture)Oe.setTexture3D(k,0),Se=I.TEXTURE_3D;else if(k.isDataArrayTexture)Oe.setTexture2DArray(k,0),Se=I.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}I.pixelStorei(I.UNPACK_FLIP_Y_WEBGL,k.flipY),I.pixelStorei(I.UNPACK_PREMULTIPLY_ALPHA_WEBGL,k.premultiplyAlpha),I.pixelStorei(I.UNPACK_ALIGNMENT,k.unpackAlignment);const Re=I.getParameter(I.UNPACK_ROW_LENGTH),Ne=I.getParameter(I.UNPACK_IMAGE_HEIGHT),Ue=I.getParameter(I.UNPACK_SKIP_PIXELS),Je=I.getParameter(I.UNPACK_SKIP_ROWS),et=I.getParameter(I.UNPACK_SKIP_IMAGES),ze=H.isCompressedTexture?H.mipmaps[0]:H.image;I.pixelStorei(I.UNPACK_ROW_LENGTH,ze.width),I.pixelStorei(I.UNPACK_IMAGE_HEIGHT,ze.height),I.pixelStorei(I.UNPACK_SKIP_PIXELS,x.min.x),I.pixelStorei(I.UNPACK_SKIP_ROWS,x.min.y),I.pixelStorei(I.UNPACK_SKIP_IMAGES,x.min.z),H.isDataTexture||H.isData3DTexture?I.texSubImage3D(Se,X,P.x,P.y,P.z,pe,fe,be,Me,xe,ze.data):H.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),I.compressedTexSubImage3D(Se,X,P.x,P.y,P.z,pe,fe,be,Me,ze.data)):I.texSubImage3D(Se,X,P.x,P.y,P.z,pe,fe,be,Me,xe,ze),I.pixelStorei(I.UNPACK_ROW_LENGTH,Re),I.pixelStorei(I.UNPACK_IMAGE_HEIGHT,Ne),I.pixelStorei(I.UNPACK_SKIP_PIXELS,Ue),I.pixelStorei(I.UNPACK_SKIP_ROWS,Je),I.pixelStorei(I.UNPACK_SKIP_IMAGES,et),X===0&&k.generateMipmaps&&I.generateMipmap(Se),ve.unbindTexture()},this.initTexture=function(x){x.isCubeTexture?Oe.setTextureCube(x,0):x.isData3DTexture?Oe.setTexture3D(x,0):x.isDataArrayTexture||x.isCompressedArrayTexture?Oe.setTexture2DArray(x,0):Oe.setTexture2D(x,0),ve.unbindTexture()},this.resetState=function(){S=0,T=0,O=null,ve.reset(),le.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return WebGLCoordinateSystem}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===SRGBColorSpace?sRGBEncoding:LinearEncoding}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===sRGBEncoding?SRGBColorSpace:LinearSRGBColorSpace}}class WebGL1Renderer extends WebGLRenderer{}WebGL1Renderer.prototype.isWebGL1Renderer=!0;class Scene extends Object3D{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,r){return super.copy(e,r),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const r=super.toJSON(e);return this.fog!==null&&(r.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(r.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(r.object.backgroundIntensity=this.backgroundIntensity),r}}class SphereGeometry extends BufferGeometry{constructor(e=1,r=32,s=16,o=0,i=Math.PI*2,n=0,p=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:r,heightSegments:s,phiStart:o,phiLength:i,thetaStart:n,thetaLength:p},r=Math.max(3,Math.floor(r)),s=Math.max(2,Math.floor(s));const d=Math.min(n+p,Math.PI);let l=0;const u=[],c=new Vector3,g=new Vector3,f=[],y=[],_=[],m=[];for(let h=0;h<=s;h++){const R=[],b=h/s;let v=0;h===0&&n===0?v=.5/r:h===s&&d===Math.PI&&(v=-.5/r);for(let S=0;S<=r;S++){const T=S/r;c.x=-e*Math.cos(o+T*i)*Math.sin(n+b*p),c.y=e*Math.cos(n+b*p),c.z=e*Math.sin(o+T*i)*Math.sin(n+b*p),y.push(c.x,c.y,c.z),g.copy(c).normalize(),_.push(g.x,g.y,g.z),m.push(T+v,1-b),R.push(l++)}u.push(R)}for(let h=0;h<s;h++)for(let R=0;R<r;R++){const b=u[h][R+1],v=u[h][R],S=u[h+1][R],T=u[h+1][R+1];(h!==0||n>0)&&f.push(b,v,T),(h!==s-1||d<Math.PI)&&f.push(v,S,T)}this.setIndex(f),this.setAttribute("position",new Float32BufferAttribute(y,3)),this.setAttribute("normal",new Float32BufferAttribute(_,3)),this.setAttribute("uv",new Float32BufferAttribute(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new SphereGeometry(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}const Cache={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class LoadingManager{constructor(e,r,s){const o=this;let i=!1,n=0,p=0,d;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=r,this.onError=s,this.itemStart=function(u){p++,i===!1&&o.onStart!==void 0&&o.onStart(u,n,p),i=!0},this.itemEnd=function(u){n++,o.onProgress!==void 0&&o.onProgress(u,n,p),n===p&&(i=!1,o.onLoad!==void 0&&o.onLoad())},this.itemError=function(u){o.onError!==void 0&&o.onError(u)},this.resolveURL=function(u){return d?d(u):u},this.setURLModifier=function(u){return d=u,this},this.addHandler=function(u,c){return l.push(u,c),this},this.removeHandler=function(u){const c=l.indexOf(u);return c!==-1&&l.splice(c,2),this},this.getHandler=function(u){for(let c=0,g=l.length;c<g;c+=2){const f=l[c],y=l[c+1];if(f.global&&(f.lastIndex=0),f.test(u))return y}return null}}}const DefaultLoadingManager=new LoadingManager;class Loader{constructor(e){this.manager=e!==void 0?e:DefaultLoadingManager,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,r){const s=this;return new Promise(function(o,i){s.load(e,o,r,i)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Loader.DEFAULT_MATERIAL_NAME="__DEFAULT";class ImageLoader extends Loader{constructor(e){super(e)}load(e,r,s,o){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,n=Cache.get(e);if(n!==void 0)return i.manager.itemStart(e),setTimeout(function(){r&&r(n),i.manager.itemEnd(e)},0),n;const p=createElementNS("img");function d(){u(),Cache.add(e,this),r&&r(this),i.manager.itemEnd(e)}function l(c){u(),o&&o(c),i.manager.itemError(e),i.manager.itemEnd(e)}function u(){p.removeEventListener("load",d,!1),p.removeEventListener("error",l,!1)}return p.addEventListener("load",d,!1),p.addEventListener("error",l,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(p.crossOrigin=this.crossOrigin),i.manager.itemStart(e),p.src=e,p}}class TextureLoader extends Loader{constructor(e){super(e)}load(e,r,s,o){const i=new Texture,n=new ImageLoader(this.manager);return n.setCrossOrigin(this.crossOrigin),n.setPath(this.path),n.load(e,function(p){i.image=p,i.needsUpdate=!0,r!==void 0&&r(i)},s,o),i}}class Raycaster{constructor(e,r,s=0,o=1/0){this.ray=new Ray(e,r),this.near=s,this.far=o,this.camera=null,this.layers=new Layers,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,r){this.ray.set(e,r)}setFromCamera(e,r){r.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(r.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(r).sub(this.ray.origin).normalize(),this.camera=r):r.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(r.near+r.far)/(r.near-r.far)).unproject(r),this.ray.direction.set(0,0,-1).transformDirection(r.matrixWorld),this.camera=r):console.error("THREE.Raycaster: Unsupported camera type: "+r.type)}intersectObject(e,r=!0,s=[]){return intersectObject(e,this,s,r),s.sort(ascSort),s}intersectObjects(e,r=!0,s=[]){for(let o=0,i=e.length;o<i;o++)intersectObject(e[o],this,s,r);return s.sort(ascSort),s}}function ascSort(t,e){return t.distance-e.distance}function intersectObject(t,e,r,s){if(t.layers.test(e.layers)&&t.raycast(e,r),s===!0){const o=t.children;for(let i=0,n=o.length;i<n;i++)intersectObject(o[i],e,r,!0)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:REVISION}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=REVISION);var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},vision={},fileset_resolver={};let supportsSimd;Object.defineProperty(fileset_resolver,"__esModule",{value:!0}),fileset_resolver.FilesetResolver=void 0;const WASM_SIMD_CHECK=new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]);async function isSimdSupported(){if(supportsSimd===void 0)try{await WebAssembly.instantiate(WASM_SIMD_CHECK),supportsSimd=!0}catch{supportsSimd=!1}return supportsSimd}async function createFileset(t,e=""){const r=await isSimdSupported()?"wasm_internal":"wasm_nosimd_internal";return{wasmLoaderPath:`${e}/${t}_${r}.js`,wasmBinaryPath:`${e}/${t}_${r}.wasm`}}class FilesetResolver$1{static isSimdSupported(){return isSimdSupported()}static forAudioTasks(e){return createFileset("audio",e)}static forTextTasks(e){return createFileset("text",e)}static forVisionTasks(e){return createFileset("vision",e)}}fileset_resolver.FilesetResolver=FilesetResolver$1;var drawing_utils={};Object.defineProperty(drawing_utils,"__esModule",{value:!0}),drawing_utils.DrawingUtils=void 0;const DEFAULT_OPTIONS={color:"white",lineWidth:4,radius:6};function addDefaultOptions(t){return t=t||{},Object.assign(Object.assign(Object.assign({},DEFAULT_OPTIONS),{fillColor:t.color}),t)}function resolve(t,e){return t instanceof Function?t(e):t}class DrawingUtils$1{constructor(e){this.ctx=e}static clamp(e,r,s){const o=Math.min(r,s),i=Math.max(r,s);return Math.max(o,Math.min(i,e))}static lerp(e,r,s,o,i){const n=o*(1-(e-r)/(s-r))+i*(1-(s-e)/(s-r));return DrawingUtils$1.clamp(n,o,i)}drawLandmarks(e,r){if(!e)return;const s=this.ctx,o=addDefaultOptions(r);s.save();const i=s.canvas;let n=0;for(const p of e){s.fillStyle=resolve(o.fillColor,{index:n,from:p}),s.strokeStyle=resolve(o.color,{index:n,from:p}),s.lineWidth=resolve(o.lineWidth,{index:n,from:p});const d=new Path2D;d.arc(p.x*i.width,p.y*i.height,resolve(o.radius,{index:n,from:p}),0,2*Math.PI),s.fill(d),s.stroke(d),++n}s.restore()}drawConnectors(e,r,s){if(!e||!r)return;const o=this.ctx,i=addDefaultOptions(s);o.save();const n=o.canvas;let p=0;for(const d of r){o.beginPath();const l=e[d.start],u=e[d.end];l&&u&&(o.strokeStyle=resolve(i.color,{index:p,from:l,to:u}),o.lineWidth=resolve(i.lineWidth,{index:p,from:l,to:u}),o.moveTo(l.x*n.width,l.y*n.height),o.lineTo(u.x*n.width,u.y*n.height)),++p,o.stroke()}o.restore()}drawBoundingBox(e,r){const s=this.ctx,o=addDefaultOptions(r);s.save(),s.beginPath(),s.lineWidth=resolve(o.lineWidth,{}),s.strokeStyle=resolve(o.color,{}),s.fillStyle=resolve(o.fillColor,{}),s.moveTo(e.originX,e.originY),s.lineTo(e.originX+e.width,e.originY),s.lineTo(e.originX+e.width,e.originY+e.height),s.lineTo(e.originX,e.originY+e.height),s.lineTo(e.originX,e.originY),s.stroke(),s.fill(),s.restore()}}drawing_utils.DrawingUtils=DrawingUtils$1;var image={},image_shader_context={};Object.defineProperty(image_shader_context,"__esModule",{value:!0}),image_shader_context.MPImageShaderContext=image_shader_context.assertNotNull=void 0;const VERTEX_SHADER=`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,FRAGMENT_SHADER=`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D inputTexture;
   void main() {
     gl_FragColor = texture2D(inputTexture, vTex);
   }
 `;function assertNotNull(t,e){if(t===null)throw new Error(`Unable to obtain required WebGL resource: ${e}`);return t}image_shader_context.assertNotNull=assertNotNull;class MPImageShaderBuffers{constructor(e,r,s,o){this.gl=e,this.vertexArrayObject=r,this.vertexBuffer=s,this.textureBuffer=o}bind(){this.gl.bindVertexArray(this.vertexArrayObject)}unbind(){this.gl.bindVertexArray(null)}close(){this.gl.deleteVertexArray(this.vertexArrayObject),this.gl.deleteBuffer(this.vertexBuffer),this.gl.deleteBuffer(this.textureBuffer)}}class MPImageShaderContext{compileShader(e,r){const s=this.gl,o=assertNotNull(s.createShader(r),"Failed to create WebGL shader");if(s.shaderSource(o,e),s.compileShader(o),!s.getShaderParameter(o,s.COMPILE_STATUS)){const i=s.getShaderInfoLog(o);throw new Error(`Could not compile WebGL shader: ${i}`)}return s.attachShader(this.program,o),o}setupShaders(){const e=this.gl;if(this.program=assertNotNull(e.createProgram(),"Failed to create WebGL program"),this.vertexShader=this.compileShader(VERTEX_SHADER,e.VERTEX_SHADER),this.fragmentShader=this.compileShader(FRAGMENT_SHADER,e.FRAGMENT_SHADER),e.linkProgram(this.program),!e.getProgramParameter(this.program,e.LINK_STATUS)){const r=e.getProgramInfoLog(this.program);throw new Error(`Error during program linking: ${r}`)}this.aVertex=e.getAttribLocation(this.program,"aVertex"),this.aTex=e.getAttribLocation(this.program,"aTex")}createBuffers(e){const r=this.gl,s=assertNotNull(r.createVertexArray(),"Failed to create vertex array");r.bindVertexArray(s);const o=assertNotNull(r.createBuffer(),"Failed to create buffer");r.bindBuffer(r.ARRAY_BUFFER,o),r.enableVertexAttribArray(this.aVertex),r.vertexAttribPointer(this.aVertex,2,r.FLOAT,!1,0,0),r.bufferData(r.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),r.STATIC_DRAW);const i=assertNotNull(r.createBuffer(),"Failed to create buffer");r.bindBuffer(r.ARRAY_BUFFER,i),r.enableVertexAttribArray(this.aTex),r.vertexAttribPointer(this.aTex,2,r.FLOAT,!1,0,0);const n=e?[0,1,0,0,1,0,1,1]:[0,0,0,1,1,1,1,0];return r.bufferData(r.ARRAY_BUFFER,new Float32Array(n),r.STATIC_DRAW),r.bindBuffer(r.ARRAY_BUFFER,null),r.bindVertexArray(null),new MPImageShaderBuffers(r,s,o,i)}getShaderBuffers(e){return e?(this.shaderBuffersFlipVertically||(this.shaderBuffersFlipVertically=this.createBuffers(!0)),this.shaderBuffersFlipVertically):(this.shaderBuffersPassthrough||(this.shaderBuffersPassthrough=this.createBuffers(!1)),this.shaderBuffersPassthrough)}maybeInitGL(e){if(this.gl){if(e!==this.gl)throw new Error("Cannot change GL context once initialized")}else this.gl=e}run(e,r,s){this.maybeInitGL(e),this.program||this.setupShaders();const o=this.getShaderBuffers(r);e.useProgram(this.program),o.bind();const i=s();return o.unbind(),i}bindFramebuffer(e,r){this.maybeInitGL(e),this.framebuffer||(this.framebuffer=assertNotNull(e.createFramebuffer(),"Failed to create framebuffe.")),e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0)}unbindFramebuffer(){var e;(e=this.gl)===null||e===void 0||e.bindFramebuffer(this.gl.FRAMEBUFFER,null)}close(){if(this.program){const e=this.gl;e.deleteProgram(this.program),e.deleteShader(this.vertexShader),e.deleteShader(this.fragmentShader)}this.framebuffer&&this.gl.deleteFramebuffer(this.framebuffer),this.shaderBuffersPassthrough&&this.shaderBuffersPassthrough.close(),this.shaderBuffersFlipVertically&&this.shaderBuffersFlipVertically.close()}}image_shader_context.MPImageShaderContext=MPImageShaderContext,Object.defineProperty(image,"__esModule",{value:!0}),image.MPImage=void 0;const image_shader_context_1$2=image_shader_context,INSTANCE_COUNT_WARNING_THRESHOLD$1=250;var MPImageType;(function(t){t[t.IMAGE_DATA=0]="IMAGE_DATA",t[t.IMAGE_BITMAP=1]="IMAGE_BITMAP",t[t.WEBGL_TEXTURE=2]="WEBGL_TEXTURE"})(MPImageType||(MPImageType={}));class MPImage$1{constructor(e,r,s,o,i,n,p){this.containers=e,this.ownsImageBitmap=r,this.ownsWebGLTexture=s,this.canvas=o,this.shaderContext=i,this.width=n,this.height=p,(this.ownsImageBitmap||this.ownsWebGLTexture)&&(--MPImage$1.instancesBeforeWarning,MPImage$1.instancesBeforeWarning===0&&console.error("You seem to be creating MPImage instances without invoking .close(). This leaks resources."))}hasImageData(){return!!this.getContainer(MPImageType.IMAGE_DATA)}hasImageBitmap(){return!!this.getContainer(MPImageType.IMAGE_BITMAP)}hasWebGLTexture(){return!!this.getContainer(MPImageType.WEBGL_TEXTURE)}getAsImageData(){return this.convertToImageData()}getAsImageBitmap(){return this.convertToImageBitmap()}getAsWebGLTexture(){return this.convertToWebGLTexture()}getContainer(e){switch(e){case MPImageType.IMAGE_DATA:return this.containers.find(r=>r instanceof ImageData);case MPImageType.IMAGE_BITMAP:return this.containers.find(r=>typeof ImageBitmap<"u"&&r instanceof ImageBitmap);case MPImageType.WEBGL_TEXTURE:return this.containers.find(r=>typeof WebGLTexture<"u"&&r instanceof WebGLTexture);default:throw new Error(`Type is not supported: ${e}`)}}clone(){const e=[];for(const r of this.containers){let s;if(r instanceof ImageData)s=new ImageData(r.data,this.width,this.height);else if(r instanceof WebGLTexture){const o=this.getGL(),i=this.getShaderContext();o.activeTexture(o.TEXTURE1),s=(0,image_shader_context_1$2.assertNotNull)(o.createTexture(),"Failed to create texture"),o.bindTexture(o.TEXTURE_2D,s),this.configureTextureParams(),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,this.width,this.height,0,o.RGBA,o.UNSIGNED_BYTE,null),o.bindTexture(o.TEXTURE_2D,null),i.bindFramebuffer(o,s),i.run(o,!1,()=>{this.bindTexture(),o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT),o.drawArrays(o.TRIANGLE_FAN,0,4),this.unbindTexture()}),i.unbindFramebuffer(),this.unbindTexture()}else{if(!(r instanceof ImageBitmap))throw new Error(`Type is not supported: ${r}`);this.convertToWebGLTexture(),this.bindTexture(),s=this.copyTextureToBitmap(),this.unbindTexture()}e.push(s)}return new MPImage$1(e,this.hasImageBitmap(),this.hasWebGLTexture(),this.canvas,this.shaderContext,this.width,this.height)}getOffscreenCanvas(){if(!(this.canvas instanceof OffscreenCanvas))throw new Error("Conversion to ImageBitmap requires that the MediaPipe Tasks is initialized with an OffscreenCanvas");return this.canvas}getGL(){if(!this.canvas)throw new Error("Conversion to different image formats require that a canvas is passed when iniitializing the image.");return this.gl||(this.gl=(0,image_shader_context_1$2.assertNotNull)(this.canvas.getContext("webgl2"),"You cannot use a canvas that is already bound to a different type of rendering context.")),this.gl}getShaderContext(){return this.shaderContext||(this.shaderContext=new image_shader_context_1$2.MPImageShaderContext),this.shaderContext}convertToImageBitmap(){let e=this.getContainer(MPImageType.IMAGE_BITMAP);return e||(this.convertToWebGLTexture(),e=this.convertWebGLTextureToImageBitmap(),this.containers.push(e),this.ownsImageBitmap=!0),e}convertToImageData(){let e=this.getContainer(MPImageType.IMAGE_DATA);if(!e){const r=this.getGL(),s=this.getShaderContext(),o=new Uint8Array(this.width*this.height*4),i=this.convertToWebGLTexture();s.bindFramebuffer(r,i),r.readPixels(0,0,this.width,this.height,r.RGBA,r.UNSIGNED_BYTE,o),s.unbindFramebuffer(),e=new ImageData(new Uint8ClampedArray(o.buffer),this.width,this.height),this.containers.push(e)}return e}convertToWebGLTexture(){let e=this.getContainer(MPImageType.WEBGL_TEXTURE);if(!e){const r=this.getGL();e=this.bindTexture();const s=this.getContainer(MPImageType.IMAGE_BITMAP)||this.convertToImageData();r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,s),this.unbindTexture()}return e}configureTextureParams(){const e=this.getGL();e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR)}bindTexture(){const e=this.getGL();e.viewport(0,0,this.width,this.height),e.activeTexture(e.TEXTURE0);let r=this.getContainer(MPImageType.WEBGL_TEXTURE);return r?e.bindTexture(e.TEXTURE_2D,r):(r=(0,image_shader_context_1$2.assertNotNull)(e.createTexture(),"Failed to create texture"),this.containers.push(r),this.ownsWebGLTexture=!0,e.bindTexture(e.TEXTURE_2D,r),this.configureTextureParams()),r}unbindTexture(){this.gl.bindTexture(this.gl.TEXTURE_2D,null)}copyTextureToBitmap(){const e=this.getGL();return this.getShaderContext().run(e,!0,()=>this.runWithResizedCanvas(()=>(e.bindFramebuffer(e.FRAMEBUFFER,null),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.drawArrays(e.TRIANGLE_FAN,0,4),this.getOffscreenCanvas().transferToImageBitmap())))}convertWebGLTextureToImageBitmap(){this.bindTexture();const e=this.copyTextureToBitmap();return this.unbindTexture(),e}runWithResizedCanvas(e){const r=this.canvas;if(r.width===this.width&&r.height===this.height)return e();const s=r.width,o=r.height;r.width=this.width,r.height=this.height;const i=e();return r.width=s,r.height=o,i}close(){this.ownsImageBitmap&&this.getContainer(MPImageType.IMAGE_BITMAP).close(),this.ownsWebGLTexture&&this.getGL().deleteTexture(this.getContainer(MPImageType.WEBGL_TEXTURE)),MPImage$1.instancesBeforeWarning=-1}}image.MPImage=MPImage$1,MPImage$1.instancesBeforeWarning=INSTANCE_COUNT_WARNING_THRESHOLD$1;var mask={},platform_utils={};function isWebKit(t=navigator){const e=t.userAgent;return e.includes("Safari")&&!e.includes("Chrome")}function isIOS(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}Object.defineProperty(platform_utils,"__esModule",{value:!0}),platform_utils.isIOS=platform_utils.isWebKit=void 0,platform_utils.isWebKit=isWebKit,platform_utils.isIOS=isIOS,Object.defineProperty(mask,"__esModule",{value:!0}),mask.MPMask=void 0;const image_shader_context_1$1=image_shader_context,platform_utils_1$1=platform_utils,INSTANCE_COUNT_WARNING_THRESHOLD=250;var MPMaskType;(function(t){t[t.UINT8_ARRAY=0]="UINT8_ARRAY",t[t.FLOAT32_ARRAY=1]="FLOAT32_ARRAY",t[t.WEBGL_TEXTURE=2]="WEBGL_TEXTURE"})(MPMaskType||(MPMaskType={}));class MPMask$1{constructor(e,r,s,o,i,n){this.containers=e,this.ownsWebGLTexture=r,this.canvas=s,this.shaderContext=o,this.width=i,this.height=n,this.ownsWebGLTexture&&(--MPMask$1.instancesBeforeWarning,MPMask$1.instancesBeforeWarning===0&&console.error("You seem to be creating MPMask instances without invoking .close(). This leaks resources."))}hasUint8Array(){return!!this.getContainer(MPMaskType.UINT8_ARRAY)}hasFloat32Array(){return!!this.getContainer(MPMaskType.FLOAT32_ARRAY)}hasWebGLTexture(){return!!this.getContainer(MPMaskType.WEBGL_TEXTURE)}getAsUint8Array(){return this.convertToUint8Array()}getAsFloat32Array(){return this.convertToFloat32Array()}getAsWebGLTexture(){return this.convertToWebGLTexture()}getTexImage2DFormat(){const e=this.getGL();if(!MPMask$1.texImage2DFormat)if(e.getExtension("EXT_color_buffer_float")&&e.getExtension("OES_texture_float_linear")&&e.getExtension("EXT_float_blend"))MPMask$1.texImage2DFormat=e.R32F;else{if(!e.getExtension("EXT_color_buffer_half_float"))throw new Error("GPU does not fully support 4-channel float32 or float16 formats");MPMask$1.texImage2DFormat=e.R16F}return MPMask$1.texImage2DFormat}getContainer(e){switch(e){case MPMaskType.UINT8_ARRAY:return this.containers.find(r=>r instanceof Uint8Array);case MPMaskType.FLOAT32_ARRAY:return this.containers.find(r=>r instanceof Float32Array);case MPMaskType.WEBGL_TEXTURE:return this.containers.find(r=>typeof WebGLTexture<"u"&&r instanceof WebGLTexture);default:throw new Error(`Type is not supported: ${e}`)}}clone(){const e=[];for(const r of this.containers){let s;if(r instanceof Uint8Array)s=new Uint8Array(r);else if(r instanceof Float32Array)s=new Float32Array(r);else{if(!(r instanceof WebGLTexture))throw new Error(`Type is not supported: ${r}`);{const o=this.getGL(),i=this.getShaderContext();o.activeTexture(o.TEXTURE1),s=(0,image_shader_context_1$1.assertNotNull)(o.createTexture(),"Failed to create texture"),o.bindTexture(o.TEXTURE_2D,s),this.configureTextureParams();const n=this.getTexImage2DFormat();o.texImage2D(o.TEXTURE_2D,0,n,this.width,this.height,0,o.RED,o.FLOAT,null),o.bindTexture(o.TEXTURE_2D,null),i.bindFramebuffer(o,s),i.run(o,!1,()=>{this.bindTexture(),o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT),o.drawArrays(o.TRIANGLE_FAN,0,4),this.unbindTexture()}),i.unbindFramebuffer(),this.unbindTexture()}}e.push(s)}return new MPMask$1(e,this.hasWebGLTexture(),this.canvas,this.shaderContext,this.width,this.height)}getGL(){if(!this.canvas)throw new Error("Conversion to different image formats require that a canvas is passed when initializing the image.");return this.gl||(this.gl=(0,image_shader_context_1$1.assertNotNull)(this.canvas.getContext("webgl2"),"You cannot use a canvas that is already bound to a different type of rendering context.")),this.gl}getShaderContext(){return this.shaderContext||(this.shaderContext=new image_shader_context_1$1.MPImageShaderContext),this.shaderContext}convertToFloat32Array(){let e=this.getContainer(MPMaskType.FLOAT32_ARRAY);if(!e){const r=this.getContainer(MPMaskType.UINT8_ARRAY);if(r)e=new Float32Array(r).map(s=>s/255);else{e=new Float32Array(this.width*this.height);const s=this.getGL(),o=this.getShaderContext(),i=this.convertToWebGLTexture();if(o.bindFramebuffer(s,i),(0,platform_utils_1$1.isIOS)()){const n=new Float32Array(this.width*this.height*4);s.readPixels(0,0,this.width,this.height,s.RGBA,s.FLOAT,n);for(let p=0,d=0;p<e.length;++p,d+=4)e[p]=n[d]}else s.readPixels(0,0,this.width,this.height,s.RED,s.FLOAT,e)}this.containers.push(e)}return e}convertToUint8Array(){let e=this.getContainer(MPMaskType.UINT8_ARRAY);if(!e){const r=this.convertToFloat32Array();e=new Uint8Array(r.map(s=>255*s)),this.containers.push(e)}return e}convertToWebGLTexture(){let e=this.getContainer(MPMaskType.WEBGL_TEXTURE);if(!e){const r=this.getGL();e=this.bindTexture();const s=this.convertToFloat32Array(),o=this.getTexImage2DFormat();r.texImage2D(r.TEXTURE_2D,0,o,this.width,this.height,0,r.RED,r.FLOAT,s),this.unbindTexture()}return e}configureTextureParams(){const e=this.getGL();e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST)}bindTexture(){const e=this.getGL();e.viewport(0,0,this.width,this.height),e.activeTexture(e.TEXTURE0);let r=this.getContainer(MPMaskType.WEBGL_TEXTURE);return r?e.bindTexture(e.TEXTURE_2D,r):(r=(0,image_shader_context_1$1.assertNotNull)(e.createTexture(),"Failed to create texture"),this.containers.push(r),this.ownsWebGLTexture=!0,e.bindTexture(e.TEXTURE_2D,r),this.configureTextureParams()),r}unbindTexture(){this.gl.bindTexture(this.gl.TEXTURE_2D,null)}close(){this.ownsWebGLTexture&&this.getGL().deleteTexture(this.getContainer(MPMaskType.WEBGL_TEXTURE)),MPMask$1.instancesBeforeWarning=-1}}mask.MPMask=MPMask$1,MPMask$1.instancesBeforeWarning=INSTANCE_COUNT_WARNING_THRESHOLD;var face_detector={},calculator_pb={},googleProtobuf={};(function(exports){var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.findInternal=function(t,e,r){t instanceof String&&(t=String(t));for(var s=t.length,o=0;o<s;o++){var i=t[o];if(e.call(r,i,o,t))return{i:o,v:i}}return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||typeof Object.defineProperties=="function"?Object.defineProperty:function(t,e,r){t!=Array.prototype&&t!=Object.prototype&&(t[e]=r.value)},$jscomp.getGlobal=function(t){return typeof window<"u"&&window===t?t:commonjsGlobal!==void 0&&commonjsGlobal!=null?commonjsGlobal:t},$jscomp.global=$jscomp.getGlobal(commonjsGlobal),$jscomp.polyfill=function(t,e,r,s){if(e){for(r=$jscomp.global,t=t.split("."),s=0;s<t.length-1;s++){var o=t[s];o in r||(r[o]={}),r=r[o]}(e=e(s=r[t=t[t.length-1]]))!=s&&e!=null&&$jscomp.defineProperty(r,t,{configurable:!0,writable:!0,value:e})}},$jscomp.polyfill("Array.prototype.findIndex",function(t){return t||function(e,r){return $jscomp.findInternal(this,e,r).i}},"es6","es3"),$jscomp.checkStringArgs=function(t,e,r){if(t==null)throw new TypeError("The 'this' value for String.prototype."+r+" must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype."+r+" must not be a regular expression");return t+""},$jscomp.polyfill("String.prototype.endsWith",function(t){return t||function(e,r){var s=$jscomp.checkStringArgs(this,e,"endsWith");e+="",r===void 0&&(r=s.length),r=Math.max(0,Math.min(0|r,s.length));for(var o=e.length;0<o&&0<r;)if(s[--r]!=e[--o])return!1;return 0>=o}},"es6","es3"),$jscomp.polyfill("Array.prototype.find",function(t){return t||function(e,r){return $jscomp.findInternal(this,e,r).v}},"es6","es3"),$jscomp.polyfill("String.prototype.startsWith",function(t){return t||function(e,r){var s=$jscomp.checkStringArgs(this,e,"startsWith");e+="";var o=s.length,i=e.length;r=Math.max(0,Math.min(0|r,s.length));for(var n=0;n<i&&r<o;)if(s[r++]!=e[n++])return!1;return n>=i}},"es6","es3"),$jscomp.polyfill("String.prototype.repeat",function(t){return t||function(e){var r=$jscomp.checkStringArgs(this,null,"repeat");if(0>e||1342177279<e)throw new RangeError("Invalid count value");e|=0;for(var s="";e;)1&e&&(s+=r),(e>>>=1)&&(r+=r);return s}},"es6","es3");var COMPILED=!0,goog=goog||{};goog.global=commonjsGlobal||self,goog.exportPath_=function(t,e,r){t=t.split("."),r=r||goog.global,t[0]in r||r.execScript===void 0||r.execScript("var "+t[0]);for(var s;t.length&&(s=t.shift());)t.length||e===void 0?r=r[s]&&r[s]!==Object.prototype[s]?r[s]:r[s]={}:r[s]=e},goog.define=function(t,e){return e},goog.FEATURESET_YEAR=2012,goog.DEBUG=!0,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.STRICT_MODE_COMPATIBLE=!1,goog.DISALLOW_TEST_ONLY_CODE=!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(t){if(goog.isInModuleLoader_())throw Error("goog.provide cannot be used within a module.");goog.constructNamespace_(t)},goog.constructNamespace_=function(t,e){goog.exportPath_(t,e)},goog.getScriptNonce=function(t){return t&&t!=goog.global?goog.getScriptNonce_(t.document):(goog.cspNonce_===null&&(goog.cspNonce_=goog.getScriptNonce_(goog.global.document)),goog.cspNonce_)},goog.NONCE_PATTERN_=/^[\w+/_-]+[=]{0,2}$/,goog.cspNonce_=null,goog.getScriptNonce_=function(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&goog.NONCE_PATTERN_.test(t)?t:""},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(t){if(typeof t!="string"||!t||t.search(goog.VALID_MODULE_RE_)==-1)throw Error("Invalid module identifier");if(!goog.isInGoogModuleLoader_())throw Error("Module "+t+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");goog.moduleLoaderState_.moduleName=t},goog.module.get=function(t){return goog.module.getInternal_(t)},goog.module.getInternal_=function(t){return null},goog.ModuleType={ES6:"es6",GOOG:"goog"},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return goog.isInGoogModuleLoader_()||goog.isInEs6ModuleLoader_()},goog.isInGoogModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.GOOG},goog.isInEs6ModuleLoader_=function(){if(goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.ES6)return!0;var t=goog.global.$jscomp;return!!t&&typeof t.getCurrentModulePath=="function"&&!!t.getCurrentModulePath()},goog.module.declareLegacyNamespace=function(){goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.declareModuleId=function(t){if(goog.moduleLoaderState_)goog.moduleLoaderState_.moduleName=t;else{var e=goog.global.$jscomp;if(!e||typeof e.getCurrentModulePath!="function")throw Error('Module with namespace "'+t+'" has been loaded incorrectly.');e=e.require(e.getCurrentModulePath()),goog.loadedModules_[t]={exports:e,type:goog.ModuleType.ES6,moduleId:t}}},goog.setTestOnly=function(t){if(goog.DISALLOW_TEST_ONLY_CODE)throw t=t||"",Error("Importing test-only code into non-debug environment"+(t?": "+t:"."))},goog.forwardDeclare=function(t){},goog.getObjectByName=function(t,e){t=t.split("."),e=e||goog.global;for(var r=0;r<t.length;r++)if((e=e[t[r]])==null)return null;return e},goog.globalize=function(t,e){for(var r in e=e||goog.global,t)e[r]=t[r]},goog.addDependency=function(t,e,r,s){},goog.ENABLE_DEBUG_LOADER=!0,goog.logToConsole_=function(t){goog.global.console&&goog.global.console.error(t)},goog.require=function(t){},goog.requireType=function(t){return{}},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(t){t.instance_=void 0,t.getInstance=function(){return t.instance_?t.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=t),t.instance_=new t)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED,goog.TRANSPILE="detect",goog.ASSUME_ES_MODULES_TRANSPILED=!1,goog.TRANSPILE_TO_LANGUAGE="",goog.TRANSPILER="transpile.js",goog.hasBadLetScoping=null,goog.useSafari10Workaround=function(){if(goog.hasBadLetScoping==null){try{var a=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(t){a=!1}goog.hasBadLetScoping=a}return goog.hasBadLetScoping},goog.workaroundSafari10EvalBug=function(t){return"(function(){"+t+`
;})();
`},goog.loadModule=function(t){var e=goog.moduleLoaderState_;try{if(goog.moduleLoaderState_={moduleName:"",declareLegacyNamespace:!1,type:goog.ModuleType.GOOG},goog.isFunction(t))var r=t.call(void 0,{});else{if(typeof t!="string")throw Error("Invalid module definition");goog.useSafari10Workaround()&&(t=goog.workaroundSafari10EvalBug(t)),r=goog.loadModuleFromSource_.call(void 0,t)}var s=goog.moduleLoaderState_.moduleName;if(typeof s!="string"||!s)throw Error('Invalid module name "'+s+'"');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(s,r):goog.SEAL_MODULE_EXPORTS&&Object.seal&&typeof r=="object"&&r!=null&&Object.seal(r),goog.loadedModules_[s]={exports:r,type:goog.ModuleType.GOOG,moduleId:goog.moduleLoaderState_.moduleName}}finally{goog.moduleLoaderState_=e}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.normalizePath_=function(t){t=t.split("/");for(var e=0;e<t.length;)t[e]=="."?t.splice(e,1):e&&t[e]==".."&&t[e-1]&&t[e-1]!=".."?t.splice(--e,2):e++;return t.join("/")},goog.loadFileSync_=function(t){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(t);try{var e=new goog.global.XMLHttpRequest;return e.open("get",t,!1),e.send(),e.status==0||e.status==200?e.responseText:null}catch{return null}},goog.transpile_=function(t,e,r){var s=goog.global.$jscomp;s||(goog.global.$jscomp=s={});var o=s.transpile;if(!o){var i=goog.basePath+goog.TRANSPILER,n=goog.loadFileSync_(i);if(n){if((function(){(0,eval)(n+`
//# sourceURL=`+i)}).call(goog.global),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,o=(s=goog.global.$jscomp).transpile}}return o||(o=s.transpile=function(p,d){return goog.logToConsole_(d+" requires transpilation but no transpiler was found."),p}),o(t,e,r)},goog.typeOf=function(t){var e=typeof t;if(e=="object"){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var r=Object.prototype.toString.call(t);if(r=="[object Window]")return"object";if(r=="[object Array]"||typeof t.length=="number"&&t.splice!==void 0&&t.propertyIsEnumerable!==void 0&&!t.propertyIsEnumerable("splice"))return"array";if(r=="[object Function]"||t.call!==void 0&&t.propertyIsEnumerable!==void 0&&!t.propertyIsEnumerable("call"))return"function"}else if(e=="function"&&t.call===void 0)return"object";return e},goog.isArray=function(t){return goog.typeOf(t)=="array"},goog.isArrayLike=function(t){var e=goog.typeOf(t);return e=="array"||e=="object"&&typeof t.length=="number"},goog.isDateLike=function(t){return goog.isObject(t)&&typeof t.getFullYear=="function"},goog.isFunction=function(t){return goog.typeOf(t)=="function"},goog.isObject=function(t){var e=typeof t;return e=="object"&&t!=null||e=="function"},goog.getUid=function(t){return Object.prototype.hasOwnProperty.call(t,goog.UID_PROPERTY_)&&t[goog.UID_PROPERTY_]||(t[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(t){return!!t[goog.UID_PROPERTY_]},goog.removeUid=function(t){t!==null&&"removeAttribute"in t&&t.removeAttribute(goog.UID_PROPERTY_);try{delete t[goog.UID_PROPERTY_]}catch{}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(t){var e=goog.typeOf(t);if(e=="object"||e=="array"){if(typeof t.clone=="function")return t.clone();for(var r in e=e=="array"?[]:{},t)e[r]=goog.cloneObject(t[r]);return e}return t},goog.bindNative_=function(t,e,r){return t.call.apply(t.bind,arguments)},goog.bindJs_=function(t,e,r){if(!t)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,s),t.apply(e,o)}}return function(){return t.apply(e,arguments)}},goog.bind=function(t,e,r){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(t,e){var r=Array.prototype.slice.call(arguments,1);return function(){var s=r.slice();return s.push.apply(s,arguments),t.apply(this,s)}},goog.mixin=function(t,e){for(var r in e)t[r]=e[r]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(t){if(goog.global.execScript)goog.global.execScript(t,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(goog.evalWorksForGlobals_==null){try{goog.global.eval("var _evalTest_ = 1;")}catch{}if(goog.global._evalTest_!==void 0){try{delete goog.global._evalTest_}catch{}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1}if(goog.evalWorksForGlobals_)goog.global.eval(t);else{var e=goog.global.document,r=e.createElement("script");r.type="text/javascript",r.defer=!1,r.appendChild(e.createTextNode(t)),e.head.appendChild(r),e.head.removeChild(r)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(t,e){if(String(t).charAt(0)==".")throw Error('className passed in goog.getCssName must not start with ".". You passed: '+t);var r=function(o){return goog.cssNameMapping_[o]||o},s=function(o){o=o.split("-");for(var i=[],n=0;n<o.length;n++)i.push(r(o[n]));return i.join("-")};return s=goog.cssNameMapping_?goog.cssNameMappingStyle_=="BY_WHOLE"?r:s:function(o){return o},t=e?t+"-"+s(e):s(t),goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(t):t},goog.setCssNameMapping=function(t,e){goog.cssNameMapping_=t,goog.cssNameMappingStyle_=e},goog.getMsg=function(t,e,r){return r&&r.html&&(t=t.replace(/</g,"&lt;")),e&&(t=t.replace(/\{\$([^}]+)}/g,function(s,o){return e!=null&&o in e?e[o]:s})),t},goog.getMsgWithFallback=function(t,e){return t},goog.exportSymbol=function(t,e,r){goog.exportPath_(t,e,r)},goog.exportProperty=function(t,e,r){t[e]=r},goog.inherits=function(t,e){function r(){}r.prototype=e.prototype,t.superClass_=e.prototype,t.prototype=new r,t.prototype.constructor=t,t.base=function(s,o,i){for(var n=Array(arguments.length-2),p=2;p<arguments.length;p++)n[p-2]=arguments[p];return e.prototype[o].apply(s,n)}},goog.scope=function(t){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a module.");t.call(goog.global)},goog.defineClass=function(t,e){var r=e.constructor,s=e.statics;return r&&r!=Object.prototype.constructor||(r=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),r=goog.defineClass.createSealingConstructor_(r,t),t&&goog.inherits(r,t),delete e.constructor,delete e.statics,goog.defineClass.applyProperties_(r.prototype,e),s!=null&&(s instanceof Function?s(r):goog.defineClass.applyProperties_(r,s)),r},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(t,e){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return t;var r=!goog.defineClass.isUnsealable_(e),s=function(){var o=t.apply(this,arguments)||this;return o[goog.UID_PROPERTY_]=o[goog.UID_PROPERTY_],this.constructor===s&&r&&Object.seal instanceof Function&&Object.seal(o),o};return s},goog.defineClass.isUnsealable_=function(t){return t&&t.prototype&&t.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);for(var s=0;s<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;s++)r=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[s],Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},goog.tagUnsealableClass=function(t){},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",goog.TRUSTED_TYPES_POLICY_NAME="",goog.identity_=function(t){return t},goog.createTrustedTypesPolicy=function(t){var e=null,r=goog.global.trustedTypes||goog.global.TrustedTypes;if(!r||!r.createPolicy)return e;try{e=r.createPolicy(t,{createHTML:goog.identity_,createScript:goog.identity_,createScriptURL:goog.identity_,createURL:goog.identity_})}catch(s){goog.logToConsole_(s.message)}return e},goog.TRUSTED_TYPES_POLICY_=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#base"):null,goog.object={},goog.object.is=function(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e},goog.object.forEach=function(t,e,r){for(var s in t)e.call(r,t[s],s,t)},goog.object.filter=function(t,e,r){var s,o={};for(s in t)e.call(r,t[s],s,t)&&(o[s]=t[s]);return o},goog.object.map=function(t,e,r){var s,o={};for(s in t)o[s]=e.call(r,t[s],s,t);return o},goog.object.some=function(t,e,r){for(var s in t)if(e.call(r,t[s],s,t))return!0;return!1},goog.object.every=function(t,e,r){for(var s in t)if(!e.call(r,t[s],s,t))return!1;return!0},goog.object.getCount=function(t){var e,r=0;for(e in t)r++;return r},goog.object.getAnyKey=function(t){for(var e in t)return e},goog.object.getAnyValue=function(t){for(var e in t)return t[e]},goog.object.contains=function(t,e){return goog.object.containsValue(t,e)},goog.object.getValues=function(t){var e,r=[],s=0;for(e in t)r[s++]=t[e];return r},goog.object.getKeys=function(t){var e,r=[],s=0;for(e in t)r[s++]=e;return r},goog.object.getValueByKeys=function(t,e){var r=goog.isArrayLike(e),s=r?e:arguments;for(r=r?0:1;r<s.length;r++){if(t==null)return;t=t[s[r]]}return t},goog.object.containsKey=function(t,e){return t!==null&&e in t},goog.object.containsValue=function(t,e){for(var r in t)if(t[r]==e)return!0;return!1},goog.object.findKey=function(t,e,r){for(var s in t)if(e.call(r,t[s],s,t))return s},goog.object.findValue=function(t,e,r){return(e=goog.object.findKey(t,e,r))&&t[e]},goog.object.isEmpty=function(t){for(var e in t)return!1;return!0},goog.object.clear=function(t){for(var e in t)delete t[e]},goog.object.remove=function(t,e){var r;return(r=e in t)&&delete t[e],r},goog.object.add=function(t,e,r){if(t!==null&&e in t)throw Error('The object already contains the key "'+e+'"');goog.object.set(t,e,r)},goog.object.get=function(t,e,r){return t!==null&&e in t?t[e]:r},goog.object.set=function(t,e,r){t[e]=r},goog.object.setIfUndefined=function(t,e,r){return e in t?t[e]:t[e]=r},goog.object.setWithReturnValueIfNotSet=function(t,e,r){return e in t?t[e]:(r=r(),t[e]=r)},goog.object.equals=function(t,e){for(var r in t)if(!(r in e)||t[r]!==e[r])return!1;for(var s in e)if(!(s in t))return!1;return!0},goog.object.clone=function(t){var e,r={};for(e in t)r[e]=t[e];return r},goog.object.unsafeClone=function(t){var e=goog.typeOf(t);if(e=="object"||e=="array"){if(goog.isFunction(t.clone))return t.clone();for(var r in e=e=="array"?[]:{},t)e[r]=goog.object.unsafeClone(t[r]);return e}return t},goog.object.transpose=function(t){var e,r={};for(e in t)r[t[e]]=e;return r},goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.object.extend=function(t,e){for(var r,s,o=1;o<arguments.length;o++){for(r in s=arguments[o])t[r]=s[r];for(var i=0;i<goog.object.PROTOTYPE_FIELDS_.length;i++)r=goog.object.PROTOTYPE_FIELDS_[i],Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])}},goog.object.create=function(t){var e=arguments.length;if(e==1&&Array.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(e%2)throw Error("Uneven number of arguments");for(var r={},s=0;s<e;s+=2)r[arguments[s]]=arguments[s+1];return r},goog.object.createSet=function(t){var e=arguments.length;if(e==1&&Array.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var r={},s=0;s<e;s++)r[arguments[s]]=!0;return r},goog.object.createImmutableView=function(t){var e=t;return Object.isFrozen&&!Object.isFrozen(t)&&(e=Object.create(t),Object.freeze(e)),e},goog.object.isImmutableView=function(t){return!!Object.isFrozen&&Object.isFrozen(t)},goog.object.getAllPropertyNames=function(t,e,r){if(!t)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return goog.object.getKeys(t);for(var s={};t&&(t!==Object.prototype||e)&&(t!==Function.prototype||r);){for(var o=Object.getOwnPropertyNames(t),i=0;i<o.length;i++)s[o[i]]=!0;t=Object.getPrototypeOf(t)}return goog.object.getKeys(s)},goog.object.getSuperClass=function(t){return(t=Object.getPrototypeOf(t.prototype))&&t.constructor};var jspb={asserts:{}};jspb.asserts.doAssertFailure=function(t,e,r,s){var o="Assertion failed";if(r){o+=": "+r;var i=s}else t&&(o+=": "+t,i=e);throw Error(""+o,i||[])},jspb.asserts.assert=function(t,e,r){for(var s=[],o=2;o<arguments.length;++o)s[o-2]=arguments[o];return t||jspb.asserts.doAssertFailure("",null,e,s),t},jspb.asserts.assertString=function(t,e,r){for(var s=[],o=2;o<arguments.length;++o)s[o-2]=arguments[o];return typeof t!="string"&&jspb.asserts.doAssertFailure("Expected string but got %s: %s.",[goog.typeOf(t),t],e,s),t},jspb.asserts.assertArray=function(t,e,r){for(var s=[],o=2;o<arguments.length;++o)s[o-2]=arguments[o];return Array.isArray(t)||jspb.asserts.doAssertFailure("Expected array but got %s: %s.",[goog.typeOf(t),t],e,s),t},jspb.asserts.fail=function(t,e){for(var r=[],s=1;s<arguments.length;++s)r[s-1]=arguments[s];throw Error("Failure"+(t?": "+t:""),r)},jspb.asserts.assertInstanceof=function(t,e,r,s){for(var o=[],i=3;i<arguments.length;++i)o[i-3]=arguments[i];return t instanceof e||jspb.asserts.doAssertFailure("Expected instanceof %s but got %s.",[jspb.asserts.getType(e),jspb.asserts.getType(t)],r,o),t},jspb.asserts.getType=function(t){return t instanceof Function?t.displayName||t.name||"unknown type name":t instanceof Object?t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t):t===null?"null":typeof t},jspb.BinaryConstants={},jspb.ConstBinaryMessage=function(){},jspb.BinaryMessage=function(){},jspb.BinaryConstants.FieldType={INVALID:-1,DOUBLE:1,FLOAT:2,INT64:3,UINT64:4,INT32:5,FIXED64:6,FIXED32:7,BOOL:8,STRING:9,GROUP:10,MESSAGE:11,BYTES:12,UINT32:13,ENUM:14,SFIXED32:15,SFIXED64:16,SINT32:17,SINT64:18,FHASH64:30,VHASH64:31},jspb.BinaryConstants.WireType={INVALID:-1,VARINT:0,FIXED64:1,DELIMITED:2,START_GROUP:3,END_GROUP:4,FIXED32:5},jspb.BinaryConstants.FieldTypeToWireType=function(t){var e=jspb.BinaryConstants.FieldType,r=jspb.BinaryConstants.WireType;switch(t){case e.INT32:case e.INT64:case e.UINT32:case e.UINT64:case e.SINT32:case e.SINT64:case e.BOOL:case e.ENUM:case e.VHASH64:return r.VARINT;case e.DOUBLE:case e.FIXED64:case e.SFIXED64:case e.FHASH64:return r.FIXED64;case e.STRING:case e.MESSAGE:case e.BYTES:return r.DELIMITED;case e.FLOAT:case e.FIXED32:case e.SFIXED32:return r.FIXED32;default:return r.INVALID}},jspb.BinaryConstants.INVALID_FIELD_NUMBER=-1,jspb.BinaryConstants.FLOAT32_EPS=1401298464324817e-60,jspb.BinaryConstants.FLOAT32_MIN=11754943508222875e-54,jspb.BinaryConstants.FLOAT32_MAX=34028234663852886e22,jspb.BinaryConstants.FLOAT64_EPS=5e-324,jspb.BinaryConstants.FLOAT64_MIN=22250738585072014e-324,jspb.BinaryConstants.FLOAT64_MAX=17976931348623157e292,jspb.BinaryConstants.TWO_TO_20=1048576,jspb.BinaryConstants.TWO_TO_23=8388608,jspb.BinaryConstants.TWO_TO_31=2147483648,jspb.BinaryConstants.TWO_TO_32=4294967296,jspb.BinaryConstants.TWO_TO_52=4503599627370496,jspb.BinaryConstants.TWO_TO_63=9223372036854776e3,jspb.BinaryConstants.TWO_TO_64=18446744073709552e3,jspb.BinaryConstants.ZERO_HASH="\0\0\0\0\0\0\0\0",goog.debug={},goog.debug.Error=function(t){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t)),this.reportErrorToServer=!0},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.dom={},goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(t,e){goog.debug.Error.call(this,goog.asserts.subs_(t,e)),this.messagePattern=t},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(t){throw t},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.subs_=function(t,e){for(var r="",s=(t=t.split("%s")).length-1,o=0;o<s;o++)r+=t[o]+(o<e.length?e[o]:"%s");return r+t[s]},goog.asserts.doAssertFailure_=function(t,e,r,s){var o="Assertion failed";if(r){o+=": "+r;var i=s}else t&&(o+=": "+t,i=e);t=new goog.asserts.AssertionError(""+o,i||[]),goog.asserts.errorHandler_(t)},goog.asserts.setErrorHandler=function(t){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=t)},goog.asserts.assert=function(t,e,r){return goog.asserts.ENABLE_ASSERTS&&!t&&goog.asserts.doAssertFailure_("",null,e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertExists=function(t,e,r){return goog.asserts.ENABLE_ASSERTS&&t==null&&goog.asserts.doAssertFailure_("Expected to exist: %s.",[t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.fail=function(t,e){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(t,e,r){return goog.asserts.ENABLE_ASSERTS&&typeof t!="number"&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertString=function(t,e,r){return goog.asserts.ENABLE_ASSERTS&&typeof t!="string"&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertFunction=function(t,e,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(t)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertObject=function(t,e,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(t)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertArray=function(t,e,r){return goog.asserts.ENABLE_ASSERTS&&!Array.isArray(t)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertBoolean=function(t,e,r){return goog.asserts.ENABLE_ASSERTS&&typeof t!="boolean"&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertElement=function(t,e,r){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(t)&&t.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertInstanceof=function(t,e,r,s){return!goog.asserts.ENABLE_ASSERTS||t instanceof e||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(e),goog.asserts.getType_(t)],r,Array.prototype.slice.call(arguments,3)),t},goog.asserts.assertFinite=function(t,e,r){return!goog.asserts.ENABLE_ASSERTS||typeof t=="number"&&isFinite(t)||goog.asserts.doAssertFailure_("Expected %s to be a finite number but it is not.",[t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var t in Object.prototype)goog.asserts.fail(t+" should not be enumerable in Object.prototype.")},goog.asserts.getType_=function(t){return t instanceof Function?t.displayName||t.name||"unknown type name":t instanceof Object?t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t):t===null?"null":typeof t},goog.array={},goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE,goog.array.ASSUME_NATIVE_FUNCTIONS=2012<goog.FEATURESET_YEAR,goog.array.peek=function(t){return t[t.length-1]},goog.array.last=goog.array.peek,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(t,e,r){return goog.asserts.assert(t.length!=null),Array.prototype.indexOf.call(t,e,r)}:function(t,e,r){if(r=r==null?0:0>r?Math.max(0,t.length+r):r,typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,r);for(;r<t.length;r++)if(r in t&&t[r]===e)return r;return-1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(t,e,r){return goog.asserts.assert(t.length!=null),Array.prototype.lastIndexOf.call(t,e,r??t.length-1)}:function(t,e,r){if(0>(r=r??t.length-1)&&(r=Math.max(0,t.length+r)),typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.lastIndexOf(e,r);for(;0<=r;r--)if(r in t&&t[r]===e)return r;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(t,e,r){goog.asserts.assert(t.length!=null),Array.prototype.forEach.call(t,e,r)}:function(t,e,r){for(var s=t.length,o=typeof t=="string"?t.split(""):t,i=0;i<s;i++)i in o&&e.call(r,o[i],i,t)},goog.array.forEachRight=function(t,e,r){var s=t.length,o=typeof t=="string"?t.split(""):t;for(--s;0<=s;--s)s in o&&e.call(r,o[s],s,t)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(t,e,r){return goog.asserts.assert(t.length!=null),Array.prototype.filter.call(t,e,r)}:function(t,e,r){for(var s=t.length,o=[],i=0,n=typeof t=="string"?t.split(""):t,p=0;p<s;p++)if(p in n){var d=n[p];e.call(r,d,p,t)&&(o[i++]=d)}return o},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(t,e,r){return goog.asserts.assert(t.length!=null),Array.prototype.map.call(t,e,r)}:function(t,e,r){for(var s=t.length,o=Array(s),i=typeof t=="string"?t.split(""):t,n=0;n<s;n++)n in i&&(o[n]=e.call(r,i[n],n,t));return o},goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(t,e,r,s){return goog.asserts.assert(t.length!=null),s&&(e=goog.bind(e,s)),Array.prototype.reduce.call(t,e,r)}:function(t,e,r,s){var o=r;return goog.array.forEach(t,function(i,n){o=e.call(s,o,i,n,t)}),o},goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(t,e,r,s){return goog.asserts.assert(t.length!=null),goog.asserts.assert(e!=null),s&&(e=goog.bind(e,s)),Array.prototype.reduceRight.call(t,e,r)}:function(t,e,r,s){var o=r;return goog.array.forEachRight(t,function(i,n){o=e.call(s,o,i,n,t)}),o},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(t,e,r){return goog.asserts.assert(t.length!=null),Array.prototype.some.call(t,e,r)}:function(t,e,r){for(var s=t.length,o=typeof t=="string"?t.split(""):t,i=0;i<s;i++)if(i in o&&e.call(r,o[i],i,t))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(t,e,r){return goog.asserts.assert(t.length!=null),Array.prototype.every.call(t,e,r)}:function(t,e,r){for(var s=t.length,o=typeof t=="string"?t.split(""):t,i=0;i<s;i++)if(i in o&&!e.call(r,o[i],i,t))return!1;return!0},goog.array.count=function(t,e,r){var s=0;return goog.array.forEach(t,function(o,i,n){e.call(r,o,i,n)&&++s},r),s},goog.array.find=function(t,e,r){return 0>(e=goog.array.findIndex(t,e,r))?null:typeof t=="string"?t.charAt(e):t[e]},goog.array.findIndex=function(t,e,r){for(var s=t.length,o=typeof t=="string"?t.split(""):t,i=0;i<s;i++)if(i in o&&e.call(r,o[i],i,t))return i;return-1},goog.array.findRight=function(t,e,r){return 0>(e=goog.array.findIndexRight(t,e,r))?null:typeof t=="string"?t.charAt(e):t[e]},goog.array.findIndexRight=function(t,e,r){var s=t.length,o=typeof t=="string"?t.split(""):t;for(--s;0<=s;s--)if(s in o&&e.call(r,o[s],s,t))return s;return-1},goog.array.contains=function(t,e){return 0<=goog.array.indexOf(t,e)},goog.array.isEmpty=function(t){return t.length==0},goog.array.clear=function(t){if(!Array.isArray(t))for(var e=t.length-1;0<=e;e--)delete t[e];t.length=0},goog.array.insert=function(t,e){goog.array.contains(t,e)||t.push(e)},goog.array.insertAt=function(t,e,r){goog.array.splice(t,r,0,e)},goog.array.insertArrayAt=function(t,e,r){goog.partial(goog.array.splice,t,r,0).apply(null,e)},goog.array.insertBefore=function(t,e,r){var s;arguments.length==2||0>(s=goog.array.indexOf(t,r))?t.push(e):goog.array.insertAt(t,e,s)},goog.array.remove=function(t,e){var r;return(r=0<=(e=goog.array.indexOf(t,e)))&&goog.array.removeAt(t,e),r},goog.array.removeLast=function(t,e){return 0<=(e=goog.array.lastIndexOf(t,e))&&(goog.array.removeAt(t,e),!0)},goog.array.removeAt=function(t,e){return goog.asserts.assert(t.length!=null),Array.prototype.splice.call(t,e,1).length==1},goog.array.removeIf=function(t,e,r){return 0<=(e=goog.array.findIndex(t,e,r))&&(goog.array.removeAt(t,e),!0)},goog.array.removeAllIf=function(t,e,r){var s=0;return goog.array.forEachRight(t,function(o,i){e.call(r,o,i,t)&&goog.array.removeAt(t,i)&&s++}),s},goog.array.concat=function(t){return Array.prototype.concat.apply([],arguments)},goog.array.join=function(t){return Array.prototype.concat.apply([],arguments)},goog.array.toArray=function(t){var e=t.length;if(0<e){for(var r=Array(e),s=0;s<e;s++)r[s]=t[s];return r}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(t,e){for(var r=1;r<arguments.length;r++){var s=arguments[r];if(goog.isArrayLike(s)){var o=t.length||0,i=s.length||0;t.length=o+i;for(var n=0;n<i;n++)t[o+n]=s[n]}else t.push(s)}},goog.array.splice=function(t,e,r,s){return goog.asserts.assert(t.length!=null),Array.prototype.splice.apply(t,goog.array.slice(arguments,1))},goog.array.slice=function(t,e,r){return goog.asserts.assert(t.length!=null),2>=arguments.length?Array.prototype.slice.call(t,e):Array.prototype.slice.call(t,e,r)},goog.array.removeDuplicates=function(t,e,r){e=e||t;var s=function(d){return goog.isObject(d)?"o"+goog.getUid(d):(typeof d).charAt(0)+d};r=r||s,s={};for(var o=0,i=0;i<t.length;){var n=t[i++],p=r(n);Object.prototype.hasOwnProperty.call(s,p)||(s[p]=!0,e[o++]=n)}e.length=o},goog.array.binarySearch=function(t,e,r){return goog.array.binarySearch_(t,r||goog.array.defaultCompare,!1,e)},goog.array.binarySelect=function(t,e,r){return goog.array.binarySearch_(t,e,!0,void 0,r)},goog.array.binarySearch_=function(t,e,r,s,o){for(var i,n=0,p=t.length;n<p;){var d=n+(p-n>>>1),l=r?e.call(o,t[d],d,t):e(s,t[d]);0<l?n=d+1:(p=d,i=!l)}return i?n:-n-1},goog.array.sort=function(t,e){t.sort(e||goog.array.defaultCompare)},goog.array.stableSort=function(t,e){for(var r=Array(t.length),s=0;s<t.length;s++)r[s]={index:s,value:t[s]};var o=e||goog.array.defaultCompare;for(goog.array.sort(r,function(i,n){return o(i.value,n.value)||i.index-n.index}),s=0;s<t.length;s++)t[s]=r[s].value},goog.array.sortByKey=function(t,e,r){var s=r||goog.array.defaultCompare;goog.array.sort(t,function(o,i){return s(e(o),e(i))})},goog.array.sortObjectsByKey=function(t,e,r){goog.array.sortByKey(t,function(s){return s[e]},r)},goog.array.isSorted=function(t,e,r){e=e||goog.array.defaultCompare;for(var s=1;s<t.length;s++){var o=e(t[s-1],t[s]);if(0<o||o==0&&r)return!1}return!0},goog.array.equals=function(t,e,r){if(!goog.isArrayLike(t)||!goog.isArrayLike(e)||t.length!=e.length)return!1;var s=t.length;r=r||goog.array.defaultCompareEquality;for(var o=0;o<s;o++)if(!r(t[o],e[o]))return!1;return!0},goog.array.compare3=function(t,e,r){r=r||goog.array.defaultCompare;for(var s=Math.min(t.length,e.length),o=0;o<s;o++){var i=r(t[o],e[o]);if(i!=0)return i}return goog.array.defaultCompare(t.length,e.length)},goog.array.defaultCompare=function(t,e){return t>e?1:t<e?-1:0},goog.array.inverseDefaultCompare=function(t,e){return-goog.array.defaultCompare(t,e)},goog.array.defaultCompareEquality=function(t,e){return t===e},goog.array.binaryInsert=function(t,e,r){return 0>(r=goog.array.binarySearch(t,e,r))&&(goog.array.insertAt(t,e,-(r+1)),!0)},goog.array.binaryRemove=function(t,e,r){return 0<=(e=goog.array.binarySearch(t,e,r))&&goog.array.removeAt(t,e)},goog.array.bucket=function(t,e,r){for(var s={},o=0;o<t.length;o++){var i=t[o],n=e.call(r,i,o,t);n!==void 0&&(s[n]||(s[n]=[])).push(i)}return s},goog.array.toObject=function(t,e,r){var s={};return goog.array.forEach(t,function(o,i){s[e.call(r,o,i,t)]=o}),s},goog.array.range=function(t,e,r){var s=[],o=0,i=t;if(e!==void 0&&(o=t,i=e),0>(r=r||1)*(i-o))return[];if(0<r)for(t=o;t<i;t+=r)s.push(t);else for(t=o;t>i;t+=r)s.push(t);return s},goog.array.repeat=function(t,e){for(var r=[],s=0;s<e;s++)r[s]=t;return r},goog.array.flatten=function(t){for(var e=[],r=0;r<arguments.length;r++){var s=arguments[r];if(Array.isArray(s))for(var o=0;o<s.length;o+=8192){var i=goog.array.slice(s,o,o+8192);i=goog.array.flatten.apply(null,i);for(var n=0;n<i.length;n++)e.push(i[n])}else e.push(s)}return e},goog.array.rotate=function(t,e){return goog.asserts.assert(t.length!=null),t.length&&(0<(e%=t.length)?Array.prototype.unshift.apply(t,t.splice(-e,e)):0>e&&Array.prototype.push.apply(t,t.splice(0,-e))),t},goog.array.moveItem=function(t,e,r){goog.asserts.assert(0<=e&&e<t.length),goog.asserts.assert(0<=r&&r<t.length),e=Array.prototype.splice.call(t,e,1),Array.prototype.splice.call(t,r,0,e[0])},goog.array.zip=function(t){if(!arguments.length)return[];for(var e=[],r=arguments[0].length,s=1;s<arguments.length;s++)arguments[s].length<r&&(r=arguments[s].length);for(s=0;s<r;s++){for(var o=[],i=0;i<arguments.length;i++)o.push(arguments[i][s]);e.push(o)}return e},goog.array.shuffle=function(t,e){e=e||Math.random;for(var r=t.length-1;0<r;r--){var s=Math.floor(e()*(r+1)),o=t[r];t[r]=t[s],t[s]=o}},goog.array.copyByIndex=function(t,e){var r=[];return goog.array.forEach(e,function(s){r.push(t[s])}),r},goog.array.concatMap=function(t,e,r){return goog.array.concat.apply([],goog.array.map(t,e,r))},goog.crypt={},goog.crypt.stringToByteArray=function(t){for(var e=[],r=0,s=0;s<t.length;s++){var o=t.charCodeAt(s);255<o&&(e[r++]=255&o,o>>=8),e[r++]=o}return e},goog.crypt.byteArrayToString=function(t){if(8192>=t.length)return String.fromCharCode.apply(null,t);for(var e="",r=0;r<t.length;r+=8192){var s=goog.array.slice(t,r,r+8192);e+=String.fromCharCode.apply(null,s)}return e},goog.crypt.byteArrayToHex=function(t,e){return goog.array.map(t,function(r){return 1<(r=r.toString(16)).length?r:"0"+r}).join(e||"")},goog.crypt.hexToByteArray=function(t){goog.asserts.assert(t.length%2==0,"Key string length must be multiple of 2");for(var e=[],r=0;r<t.length;r+=2)e.push(parseInt(t.substring(r,r+2),16));return e},goog.crypt.stringToUtf8ByteArray=function(t){for(var e=[],r=0,s=0;s<t.length;s++){var o=t.charCodeAt(s);128>o?e[r++]=o:(2048>o?e[r++]=o>>6|192:((64512&o)==55296&&s+1<t.length&&(64512&t.charCodeAt(s+1))==56320?(o=65536+((1023&o)<<10)+(1023&t.charCodeAt(++s)),e[r++]=o>>18|240,e[r++]=o>>12&63|128):e[r++]=o>>12|224,e[r++]=o>>6&63|128),e[r++]=63&o|128)}return e},goog.crypt.utf8ByteArrayToString=function(t){for(var e=[],r=0,s=0;r<t.length;){var o=t[r++];if(128>o)e[s++]=String.fromCharCode(o);else if(191<o&&224>o){var i=t[r++];e[s++]=String.fromCharCode((31&o)<<6|63&i)}else if(239<o&&365>o){i=t[r++];var n=t[r++];o=((7&o)<<18|(63&i)<<12|(63&n)<<6|63&t[r++])-65536,e[s++]=String.fromCharCode(55296+(o>>10)),e[s++]=String.fromCharCode(56320+(1023&o))}else i=t[r++],n=t[r++],e[s++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&n)}return e.join("")},goog.crypt.xorByteArray=function(t,e){goog.asserts.assert(t.length==e.length,"XOR array lengths must match");for(var r=[],s=0;s<t.length;s++)r.push(t[s]^e[s]);return r},goog.dom.asserts={},goog.dom.asserts.assertIsLocation=function(t){if(goog.asserts.ENABLE_ASSERTS){var e=goog.dom.asserts.getWindow_(t);e&&(!t||!(t instanceof e.Location)&&t instanceof e.Element)&&goog.asserts.fail("Argument is not a Location (or a non-Element mock); got: %s",goog.dom.asserts.debugStringForType_(t))}return t},goog.dom.asserts.assertIsElementType_=function(t,e){if(goog.asserts.ENABLE_ASSERTS){var r=goog.dom.asserts.getWindow_(t);r&&r[e]!==void 0&&(t&&(t instanceof r[e]||!(t instanceof r.Location||t instanceof r.Element))||goog.asserts.fail("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,goog.dom.asserts.debugStringForType_(t)))}return t},goog.dom.asserts.assertIsHTMLAnchorElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLAnchorElement")},goog.dom.asserts.assertIsHTMLButtonElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLButtonElement")},goog.dom.asserts.assertIsHTMLLinkElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLLinkElement")},goog.dom.asserts.assertIsHTMLImageElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLImageElement")},goog.dom.asserts.assertIsHTMLAudioElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLAudioElement")},goog.dom.asserts.assertIsHTMLVideoElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLVideoElement")},goog.dom.asserts.assertIsHTMLInputElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLInputElement")},goog.dom.asserts.assertIsHTMLTextAreaElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLTextAreaElement")},goog.dom.asserts.assertIsHTMLCanvasElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLCanvasElement")},goog.dom.asserts.assertIsHTMLEmbedElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLEmbedElement")},goog.dom.asserts.assertIsHTMLFormElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLFormElement")},goog.dom.asserts.assertIsHTMLFrameElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLFrameElement")},goog.dom.asserts.assertIsHTMLIFrameElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLIFrameElement")},goog.dom.asserts.assertIsHTMLObjectElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLObjectElement")},goog.dom.asserts.assertIsHTMLScriptElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLScriptElement")},goog.dom.asserts.debugStringForType_=function(t){if(!goog.isObject(t))return t===void 0?"undefined":t===null?"null":typeof t;try{return t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch{return"<object could not be stringified>"}},goog.dom.asserts.getWindow_=function(t){try{var e=t&&t.ownerDocument,r=e&&(e.defaultView||e.parentWindow);if((r=r||goog.global).Element&&r.Location)return r}catch{}return null},goog.functions={},goog.functions.constant=function(t){return function(){return t}},goog.functions.FALSE=function(){return!1},goog.functions.TRUE=function(){return!0},goog.functions.NULL=function(){return null},goog.functions.identity=function(t,e){return t},goog.functions.error=function(t){return function(){throw Error(t)}},goog.functions.fail=function(t){return function(){throw t}},goog.functions.lock=function(t,e){return e=e||0,function(){return t.apply(this,Array.prototype.slice.call(arguments,0,e))}},goog.functions.nth=function(t){return function(){return arguments[t]}},goog.functions.partialRight=function(t,e){var r=Array.prototype.slice.call(arguments,1);return function(){var s=Array.prototype.slice.call(arguments);return s.push.apply(s,r),t.apply(this,s)}},goog.functions.withReturnValue=function(t,e){return goog.functions.sequence(t,goog.functions.constant(e))},goog.functions.equalTo=function(t,e){return function(r){return e?t==r:t===r}},goog.functions.compose=function(t,e){var r=arguments,s=r.length;return function(){var o;s&&(o=r[s-1].apply(this,arguments));for(var i=s-2;0<=i;i--)o=r[i].call(this,o);return o}},goog.functions.sequence=function(t){var e=arguments,r=e.length;return function(){for(var s,o=0;o<r;o++)s=e[o].apply(this,arguments);return s}},goog.functions.and=function(t){var e=arguments,r=e.length;return function(){for(var s=0;s<r;s++)if(!e[s].apply(this,arguments))return!1;return!0}},goog.functions.or=function(t){var e=arguments,r=e.length;return function(){for(var s=0;s<r;s++)if(e[s].apply(this,arguments))return!0;return!1}},goog.functions.not=function(t){return function(){return!t.apply(this,arguments)}},goog.functions.create=function(t,e){var r=function(){};return r.prototype=t.prototype,r=new r,t.apply(r,Array.prototype.slice.call(arguments,1)),r},goog.functions.CACHE_RETURN_VALUE=!0,goog.functions.cacheReturnValue=function(t){var e,r=!1;return function(){return goog.functions.CACHE_RETURN_VALUE?(r||(e=t(),r=!0),e):t()}},goog.functions.once=function(t){var e=t;return function(){if(e){var r=e;e=null,r()}}},goog.functions.debounce=function(t,e,r){var s=0;return function(o){goog.global.clearTimeout(s);var i=arguments;s=goog.global.setTimeout(function(){t.apply(r,i)},e)}},goog.functions.throttle=function(t,e,r){var s=0,o=!1,i=[],n=function(){s=0,o&&(o=!1,p())},p=function(){s=goog.global.setTimeout(n,e),t.apply(r,i)};return function(d){i=arguments,s?o=!0:p()}},goog.functions.rateLimit=function(t,e,r){var s=0,o=function(){s=0};return function(i){s||(s=goog.global.setTimeout(o,e),t.apply(r,arguments))}},goog.dom.HtmlElement=function(){},goog.dom.TagName=function(t){this.tagName_=t},goog.dom.TagName.prototype.toString=function(){return this.tagName_},goog.dom.TagName.A=new goog.dom.TagName("A"),goog.dom.TagName.ABBR=new goog.dom.TagName("ABBR"),goog.dom.TagName.ACRONYM=new goog.dom.TagName("ACRONYM"),goog.dom.TagName.ADDRESS=new goog.dom.TagName("ADDRESS"),goog.dom.TagName.APPLET=new goog.dom.TagName("APPLET"),goog.dom.TagName.AREA=new goog.dom.TagName("AREA"),goog.dom.TagName.ARTICLE=new goog.dom.TagName("ARTICLE"),goog.dom.TagName.ASIDE=new goog.dom.TagName("ASIDE"),goog.dom.TagName.AUDIO=new goog.dom.TagName("AUDIO"),goog.dom.TagName.B=new goog.dom.TagName("B"),goog.dom.TagName.BASE=new goog.dom.TagName("BASE"),goog.dom.TagName.BASEFONT=new goog.dom.TagName("BASEFONT"),goog.dom.TagName.BDI=new goog.dom.TagName("BDI"),goog.dom.TagName.BDO=new goog.dom.TagName("BDO"),goog.dom.TagName.BIG=new goog.dom.TagName("BIG"),goog.dom.TagName.BLOCKQUOTE=new goog.dom.TagName("BLOCKQUOTE"),goog.dom.TagName.BODY=new goog.dom.TagName("BODY"),goog.dom.TagName.BR=new goog.dom.TagName("BR"),goog.dom.TagName.BUTTON=new goog.dom.TagName("BUTTON"),goog.dom.TagName.CANVAS=new goog.dom.TagName("CANVAS"),goog.dom.TagName.CAPTION=new goog.dom.TagName("CAPTION"),goog.dom.TagName.CENTER=new goog.dom.TagName("CENTER"),goog.dom.TagName.CITE=new goog.dom.TagName("CITE"),goog.dom.TagName.CODE=new goog.dom.TagName("CODE"),goog.dom.TagName.COL=new goog.dom.TagName("COL"),goog.dom.TagName.COLGROUP=new goog.dom.TagName("COLGROUP"),goog.dom.TagName.COMMAND=new goog.dom.TagName("COMMAND"),goog.dom.TagName.DATA=new goog.dom.TagName("DATA"),goog.dom.TagName.DATALIST=new goog.dom.TagName("DATALIST"),goog.dom.TagName.DD=new goog.dom.TagName("DD"),goog.dom.TagName.DEL=new goog.dom.TagName("DEL"),goog.dom.TagName.DETAILS=new goog.dom.TagName("DETAILS"),goog.dom.TagName.DFN=new goog.dom.TagName("DFN"),goog.dom.TagName.DIALOG=new goog.dom.TagName("DIALOG"),goog.dom.TagName.DIR=new goog.dom.TagName("DIR"),goog.dom.TagName.DIV=new goog.dom.TagName("DIV"),goog.dom.TagName.DL=new goog.dom.TagName("DL"),goog.dom.TagName.DT=new goog.dom.TagName("DT"),goog.dom.TagName.EM=new goog.dom.TagName("EM"),goog.dom.TagName.EMBED=new goog.dom.TagName("EMBED"),goog.dom.TagName.FIELDSET=new goog.dom.TagName("FIELDSET"),goog.dom.TagName.FIGCAPTION=new goog.dom.TagName("FIGCAPTION"),goog.dom.TagName.FIGURE=new goog.dom.TagName("FIGURE"),goog.dom.TagName.FONT=new goog.dom.TagName("FONT"),goog.dom.TagName.FOOTER=new goog.dom.TagName("FOOTER"),goog.dom.TagName.FORM=new goog.dom.TagName("FORM"),goog.dom.TagName.FRAME=new goog.dom.TagName("FRAME"),goog.dom.TagName.FRAMESET=new goog.dom.TagName("FRAMESET"),goog.dom.TagName.H1=new goog.dom.TagName("H1"),goog.dom.TagName.H2=new goog.dom.TagName("H2"),goog.dom.TagName.H3=new goog.dom.TagName("H3"),goog.dom.TagName.H4=new goog.dom.TagName("H4"),goog.dom.TagName.H5=new goog.dom.TagName("H5"),goog.dom.TagName.H6=new goog.dom.TagName("H6"),goog.dom.TagName.HEAD=new goog.dom.TagName("HEAD"),goog.dom.TagName.HEADER=new goog.dom.TagName("HEADER"),goog.dom.TagName.HGROUP=new goog.dom.TagName("HGROUP"),goog.dom.TagName.HR=new goog.dom.TagName("HR"),goog.dom.TagName.HTML=new goog.dom.TagName("HTML"),goog.dom.TagName.I=new goog.dom.TagName("I"),goog.dom.TagName.IFRAME=new goog.dom.TagName("IFRAME"),goog.dom.TagName.IMG=new goog.dom.TagName("IMG"),goog.dom.TagName.INPUT=new goog.dom.TagName("INPUT"),goog.dom.TagName.INS=new goog.dom.TagName("INS"),goog.dom.TagName.ISINDEX=new goog.dom.TagName("ISINDEX"),goog.dom.TagName.KBD=new goog.dom.TagName("KBD"),goog.dom.TagName.KEYGEN=new goog.dom.TagName("KEYGEN"),goog.dom.TagName.LABEL=new goog.dom.TagName("LABEL"),goog.dom.TagName.LEGEND=new goog.dom.TagName("LEGEND"),goog.dom.TagName.LI=new goog.dom.TagName("LI"),goog.dom.TagName.LINK=new goog.dom.TagName("LINK"),goog.dom.TagName.MAIN=new goog.dom.TagName("MAIN"),goog.dom.TagName.MAP=new goog.dom.TagName("MAP"),goog.dom.TagName.MARK=new goog.dom.TagName("MARK"),goog.dom.TagName.MATH=new goog.dom.TagName("MATH"),goog.dom.TagName.MENU=new goog.dom.TagName("MENU"),goog.dom.TagName.MENUITEM=new goog.dom.TagName("MENUITEM"),goog.dom.TagName.META=new goog.dom.TagName("META"),goog.dom.TagName.METER=new goog.dom.TagName("METER"),goog.dom.TagName.NAV=new goog.dom.TagName("NAV"),goog.dom.TagName.NOFRAMES=new goog.dom.TagName("NOFRAMES"),goog.dom.TagName.NOSCRIPT=new goog.dom.TagName("NOSCRIPT"),goog.dom.TagName.OBJECT=new goog.dom.TagName("OBJECT"),goog.dom.TagName.OL=new goog.dom.TagName("OL"),goog.dom.TagName.OPTGROUP=new goog.dom.TagName("OPTGROUP"),goog.dom.TagName.OPTION=new goog.dom.TagName("OPTION"),goog.dom.TagName.OUTPUT=new goog.dom.TagName("OUTPUT"),goog.dom.TagName.P=new goog.dom.TagName("P"),goog.dom.TagName.PARAM=new goog.dom.TagName("PARAM"),goog.dom.TagName.PICTURE=new goog.dom.TagName("PICTURE"),goog.dom.TagName.PRE=new goog.dom.TagName("PRE"),goog.dom.TagName.PROGRESS=new goog.dom.TagName("PROGRESS"),goog.dom.TagName.Q=new goog.dom.TagName("Q"),goog.dom.TagName.RP=new goog.dom.TagName("RP"),goog.dom.TagName.RT=new goog.dom.TagName("RT"),goog.dom.TagName.RTC=new goog.dom.TagName("RTC"),goog.dom.TagName.RUBY=new goog.dom.TagName("RUBY"),goog.dom.TagName.S=new goog.dom.TagName("S"),goog.dom.TagName.SAMP=new goog.dom.TagName("SAMP"),goog.dom.TagName.SCRIPT=new goog.dom.TagName("SCRIPT"),goog.dom.TagName.SECTION=new goog.dom.TagName("SECTION"),goog.dom.TagName.SELECT=new goog.dom.TagName("SELECT"),goog.dom.TagName.SMALL=new goog.dom.TagName("SMALL"),goog.dom.TagName.SOURCE=new goog.dom.TagName("SOURCE"),goog.dom.TagName.SPAN=new goog.dom.TagName("SPAN"),goog.dom.TagName.STRIKE=new goog.dom.TagName("STRIKE"),goog.dom.TagName.STRONG=new goog.dom.TagName("STRONG"),goog.dom.TagName.STYLE=new goog.dom.TagName("STYLE"),goog.dom.TagName.SUB=new goog.dom.TagName("SUB"),goog.dom.TagName.SUMMARY=new goog.dom.TagName("SUMMARY"),goog.dom.TagName.SUP=new goog.dom.TagName("SUP"),goog.dom.TagName.SVG=new goog.dom.TagName("SVG"),goog.dom.TagName.TABLE=new goog.dom.TagName("TABLE"),goog.dom.TagName.TBODY=new goog.dom.TagName("TBODY"),goog.dom.TagName.TD=new goog.dom.TagName("TD"),goog.dom.TagName.TEMPLATE=new goog.dom.TagName("TEMPLATE"),goog.dom.TagName.TEXTAREA=new goog.dom.TagName("TEXTAREA"),goog.dom.TagName.TFOOT=new goog.dom.TagName("TFOOT"),goog.dom.TagName.TH=new goog.dom.TagName("TH"),goog.dom.TagName.THEAD=new goog.dom.TagName("THEAD"),goog.dom.TagName.TIME=new goog.dom.TagName("TIME"),goog.dom.TagName.TITLE=new goog.dom.TagName("TITLE"),goog.dom.TagName.TR=new goog.dom.TagName("TR"),goog.dom.TagName.TRACK=new goog.dom.TagName("TRACK"),goog.dom.TagName.TT=new goog.dom.TagName("TT"),goog.dom.TagName.U=new goog.dom.TagName("U"),goog.dom.TagName.UL=new goog.dom.TagName("UL"),goog.dom.TagName.VAR=new goog.dom.TagName("VAR"),goog.dom.TagName.VIDEO=new goog.dom.TagName("VIDEO"),goog.dom.TagName.WBR=new goog.dom.TagName("WBR"),goog.dom.tags={},goog.dom.tags.VOID_TAGS_={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},goog.dom.tags.isVoidTag=function(t){return goog.dom.tags.VOID_TAGS_[t]===!0},goog.html={},goog.html.trustedtypes={},goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#html"):null,goog.string={},goog.string.TypedString=function(){},goog.string.Const=function(t,e){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_=t===goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_&&e||"",this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=goog.string.Const.TYPE_MARKER_},goog.string.Const.prototype.implementsGoogStringTypedString=!0,goog.string.Const.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_},goog.DEBUG&&(goog.string.Const.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"}),goog.string.Const.unwrap=function(t){return t instanceof goog.string.Const&&t.constructor===goog.string.Const&&t.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog.string.Const.TYPE_MARKER_?t.stringConstValueWithSecurityContract__googStringSecurityPrivate_:(goog.asserts.fail("expected object of type Const, got '"+t+"'"),"type_error:Const")},goog.string.Const.from=function(t){return new goog.string.Const(goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_,t)},goog.string.Const.TYPE_MARKER_={},goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_={},goog.string.Const.EMPTY=goog.string.Const.from(""),goog.html.SafeScript=function(){this.privateDoNotAccessOrElseSafeScriptWrappedValue_="",this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeScript.prototype.implementsGoogStringTypedString=!0,goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeScript.fromConstant=function(t){return(t=goog.string.Const.unwrap(t)).length===0?goog.html.SafeScript.EMPTY:goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeScript.fromConstantAndArgs=function(t,e){for(var r=[],s=1;s<arguments.length;s++)r.push(goog.html.SafeScript.stringify_(arguments[s]));return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse("("+goog.string.Const.unwrap(t)+")("+r.join(", ")+");")},goog.html.SafeScript.fromJson=function(t){return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(goog.html.SafeScript.stringify_(t))},goog.html.SafeScript.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeScript.prototype.toString=function(){return"SafeScript{"+this.privateDoNotAccessOrElseSafeScriptWrappedValue_+"}"}),goog.html.SafeScript.unwrap=function(t){return goog.html.SafeScript.unwrapTrustedScript(t).toString()},goog.html.SafeScript.unwrapTrustedScript=function(t){return t instanceof goog.html.SafeScript&&t.constructor===goog.html.SafeScript&&t.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?t.privateDoNotAccessOrElseSafeScriptWrappedValue_:(goog.asserts.fail("expected object of type SafeScript, got '"+t+"' of type "+goog.typeOf(t)),"type_error:SafeScript")},goog.html.SafeScript.stringify_=function(t){return JSON.stringify(t).replace(/</g,"\\x3c")},goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse=function(t){return new goog.html.SafeScript().initSecurityPrivateDoNotAccessOrElse_(t)},goog.html.SafeScript.prototype.initSecurityPrivateDoNotAccessOrElse_=function(t){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScript(t):t,this},goog.html.SafeScript.EMPTY=goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(""),goog.fs={},goog.fs.url={},goog.fs.url.createObjectUrl=function(t){return goog.fs.url.getUrlObject_().createObjectURL(t)},goog.fs.url.revokeObjectUrl=function(t){goog.fs.url.getUrlObject_().revokeObjectURL(t)},goog.fs.url.UrlObject_=function(){},goog.fs.url.UrlObject_.prototype.createObjectURL=function(t){},goog.fs.url.UrlObject_.prototype.revokeObjectURL=function(t){},goog.fs.url.getUrlObject_=function(){var t=goog.fs.url.findUrlObject_();if(t!=null)return t;throw Error("This browser doesn't seem to support blob URLs")},goog.fs.url.findUrlObject_=function(){return goog.global.URL!==void 0&&goog.global.URL.createObjectURL!==void 0?goog.global.URL:goog.global.webkitURL!==void 0&&goog.global.webkitURL.createObjectURL!==void 0?goog.global.webkitURL:goog.global.createObjectURL!==void 0?goog.global:null},goog.fs.url.browserSupportsObjectUrls=function(){return goog.fs.url.findUrlObject_()!=null},goog.fs.blob={},goog.fs.blob.getBlob=function(t){var e=goog.global.BlobBuilder||goog.global.WebKitBlobBuilder;if(e!==void 0){e=new e;for(var r=0;r<arguments.length;r++)e.append(arguments[r]);return e.getBlob()}return goog.fs.blob.getBlobWithProperties(goog.array.toArray(arguments))},goog.fs.blob.getBlobWithProperties=function(t,e,r){var s=goog.global.BlobBuilder||goog.global.WebKitBlobBuilder;if(s!==void 0){s=new s;for(var o=0;o<t.length;o++)s.append(t[o],r);return s.getBlob(e)}if(goog.global.Blob!==void 0)return s={},e&&(s.type=e),r&&(s.endings=r),new Blob(t,s);throw Error("This browser doesn't seem to support creating Blobs")},goog.i18n={},goog.i18n.bidi={},goog.i18n.bidi.FORCE_RTL=!1,goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||(goog.LOCALE.substring(0,2).toLowerCase()=="ar"||goog.LOCALE.substring(0,2).toLowerCase()=="fa"||goog.LOCALE.substring(0,2).toLowerCase()=="he"||goog.LOCALE.substring(0,2).toLowerCase()=="iw"||goog.LOCALE.substring(0,2).toLowerCase()=="ps"||goog.LOCALE.substring(0,2).toLowerCase()=="sd"||goog.LOCALE.substring(0,2).toLowerCase()=="ug"||goog.LOCALE.substring(0,2).toLowerCase()=="ur"||goog.LOCALE.substring(0,2).toLowerCase()=="yi")&&(goog.LOCALE.length==2||goog.LOCALE.substring(2,3)=="-"||goog.LOCALE.substring(2,3)=="_")||3<=goog.LOCALE.length&&goog.LOCALE.substring(0,3).toLowerCase()=="ckb"&&(goog.LOCALE.length==3||goog.LOCALE.substring(3,4)=="-"||goog.LOCALE.substring(3,4)=="_")||7<=goog.LOCALE.length&&(goog.LOCALE.substring(2,3)=="-"||goog.LOCALE.substring(2,3)=="_")&&(goog.LOCALE.substring(3,7).toLowerCase()=="adlm"||goog.LOCALE.substring(3,7).toLowerCase()=="arab"||goog.LOCALE.substring(3,7).toLowerCase()=="hebr"||goog.LOCALE.substring(3,7).toLowerCase()=="nkoo"||goog.LOCALE.substring(3,7).toLowerCase()=="rohg"||goog.LOCALE.substring(3,7).toLowerCase()=="thaa")||8<=goog.LOCALE.length&&(goog.LOCALE.substring(3,4)=="-"||goog.LOCALE.substring(3,4)=="_")&&(goog.LOCALE.substring(4,8).toLowerCase()=="adlm"||goog.LOCALE.substring(4,8).toLowerCase()=="arab"||goog.LOCALE.substring(4,8).toLowerCase()=="hebr"||goog.LOCALE.substring(4,8).toLowerCase()=="nkoo"||goog.LOCALE.substring(4,8).toLowerCase()=="rohg"||goog.LOCALE.substring(4,8).toLowerCase()=="thaa"),goog.i18n.bidi.Format={LRE:"",RLE:"",PDF:"",LRM:"",RLM:""},goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0},goog.i18n.bidi.RIGHT="right",goog.i18n.bidi.LEFT="left",goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT,goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,goog.i18n.bidi.toDir=function(t,e){return typeof t=="number"?0<t?goog.i18n.bidi.Dir.LTR:0>t?goog.i18n.bidi.Dir.RTL:e?null:goog.i18n.bidi.Dir.NEUTRAL:t==null?null:t?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.ltrChars_="A-Za-z------\uD801\uD804-\uD839\uD83C-\uDBFF---",goog.i18n.bidi.rtlChars_="--\uD802-\uD803\uD83A-\uD83B--",goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g,goog.i18n.bidi.stripHtmlIfNeeded_=function(t,e){return e?t.replace(goog.i18n.bidi.htmlSkipReg_,""):t},goog.i18n.bidi.rtlCharReg_=new RegExp("["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.ltrCharReg_=new RegExp("["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.hasAnyRtl=function(t,e){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(t,e))},goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl,goog.i18n.bidi.hasAnyLtr=function(t,e){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(t,e))},goog.i18n.bidi.ltrRe_=new RegExp("^["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlRe_=new RegExp("^["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.isRtlChar=function(t){return goog.i18n.bidi.rtlRe_.test(t)},goog.i18n.bidi.isLtrChar=function(t){return goog.i18n.bidi.ltrRe_.test(t)},goog.i18n.bidi.isNeutralChar=function(t){return!goog.i18n.bidi.isLtrChar(t)&&!goog.i18n.bidi.isRtlChar(t)},goog.i18n.bidi.ltrDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.startsWithRtl=function(t,e){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(t,e))},goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl,goog.i18n.bidi.startsWithLtr=function(t,e){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(t,e))},goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr,goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/,goog.i18n.bidi.isNeutralText=function(t,e){return t=goog.i18n.bidi.stripHtmlIfNeeded_(t,e),goog.i18n.bidi.isRequiredLtrRe_.test(t)||!goog.i18n.bidi.hasAnyLtr(t)&&!goog.i18n.bidi.hasAnyRtl(t)},goog.i18n.bidi.ltrExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$"),goog.i18n.bidi.rtlExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$"),goog.i18n.bidi.endsWithLtr=function(t,e){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(t,e))},goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr,goog.i18n.bidi.endsWithRtl=function(t,e){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(t,e))},goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl,goog.i18n.bidi.rtlLocalesRe_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i,goog.i18n.bidi.isRtlLanguage=function(t){return goog.i18n.bidi.rtlLocalesRe_.test(t)},goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g,goog.i18n.bidi.guardBracketInText=function(t,e){return e=(e===void 0?goog.i18n.bidi.hasAnyRtl(t):e)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM,t.replace(goog.i18n.bidi.bracketGuardTextRe_,e+"$&"+e)},goog.i18n.bidi.enforceRtlInHtml=function(t){return t.charAt(0)=="<"?t.replace(/<\w+/,"$& dir=rtl"):`
<span dir=rtl>`+t+"</span>"},goog.i18n.bidi.enforceRtlInText=function(t){return goog.i18n.bidi.Format.RLE+t+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.enforceLtrInHtml=function(t){return t.charAt(0)=="<"?t.replace(/<\w+/,"$& dir=ltr"):`
<span dir=ltr>`+t+"</span>"},goog.i18n.bidi.enforceLtrInText=function(t){return goog.i18n.bidi.Format.LRE+t+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g,goog.i18n.bidi.leftRe_=/left/gi,goog.i18n.bidi.rightRe_=/right/gi,goog.i18n.bidi.tempRe_=/%%%%/g,goog.i18n.bidi.mirrorCSS=function(t){return t.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)},goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])"/g,goog.i18n.bidi.singleQuoteSubstituteRe_=/([\u0591-\u05f2])'/g,goog.i18n.bidi.normalizeHebrewQuote=function(t){return t.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1")},goog.i18n.bidi.wordSeparatorRe_=/\s+/,goog.i18n.bidi.hasNumeralsRe_=/[\d\u06f0-\u06f9]/,goog.i18n.bidi.rtlDetectionThreshold_=.4,goog.i18n.bidi.estimateDirection=function(t,e){var r=0,s=0,o=!1;for(t=goog.i18n.bidi.stripHtmlIfNeeded_(t,e).split(goog.i18n.bidi.wordSeparatorRe_),e=0;e<t.length;e++){var i=t[e];goog.i18n.bidi.startsWithRtl(i)?(r++,s++):goog.i18n.bidi.isRequiredLtrRe_.test(i)?o=!0:goog.i18n.bidi.hasAnyLtr(i)?s++:goog.i18n.bidi.hasNumeralsRe_.test(i)&&(o=!0)}return s==0?o?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:r/s>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.detectRtlDirectionality=function(t,e){return goog.i18n.bidi.estimateDirection(t,e)==goog.i18n.bidi.Dir.RTL},goog.i18n.bidi.setElementDirAndAlign=function(t,e){t&&(e=goog.i18n.bidi.toDir(e))&&(t.style.textAlign=e==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,t.dir=e==goog.i18n.bidi.Dir.RTL?"rtl":"ltr")},goog.i18n.bidi.setElementDirByTextDirectionality=function(t,e){switch(goog.i18n.bidi.estimateDirection(e)){case goog.i18n.bidi.Dir.LTR:t.dir="ltr";break;case goog.i18n.bidi.Dir.RTL:t.dir="rtl";break;default:t.removeAttribute("dir")}},goog.i18n.bidi.DirectionalString=function(){},goog.html.TrustedResourceUrl=function(t,e){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=t===goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_&&e||"",this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString=!0,goog.html.TrustedResourceUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_.toString()},goog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.TrustedResourceUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.html.TrustedResourceUrl.prototype.cloneWithParams=function(t,e){var r=goog.html.TrustedResourceUrl.unwrap(this),s=(r=goog.html.TrustedResourceUrl.URL_PARAM_PARSER_.exec(r))[3]||"";return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(r[1]+goog.html.TrustedResourceUrl.stringifyParams_("?",r[2]||"",t)+goog.html.TrustedResourceUrl.stringifyParams_("#",s,e))},goog.DEBUG&&(goog.html.TrustedResourceUrl.prototype.toString=function(){return"TrustedResourceUrl{"+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+"}"}),goog.html.TrustedResourceUrl.unwrap=function(t){return goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t).toString()},goog.html.TrustedResourceUrl.unwrapTrustedScriptURL=function(t){return t instanceof goog.html.TrustedResourceUrl&&t.constructor===goog.html.TrustedResourceUrl&&t.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?t.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_:(goog.asserts.fail("expected object of type TrustedResourceUrl, got '"+t+"' of type "+goog.typeOf(t)),"type_error:TrustedResourceUrl")},goog.html.TrustedResourceUrl.format=function(t,e){var r=goog.string.Const.unwrap(t);if(!goog.html.TrustedResourceUrl.BASE_URL_.test(r))throw Error("Invalid TrustedResourceUrl format: "+r);return t=r.replace(goog.html.TrustedResourceUrl.FORMAT_MARKER_,function(s,o){if(!Object.prototype.hasOwnProperty.call(e,o))throw Error('Found marker, "'+o+'", in format string, "'+r+'", but no valid label mapping found in args: '+JSON.stringify(e));return(s=e[o])instanceof goog.string.Const?goog.string.Const.unwrap(s):encodeURIComponent(String(s))}),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.TrustedResourceUrl.FORMAT_MARKER_=/%{(\w+)}/g,goog.html.TrustedResourceUrl.BASE_URL_=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,goog.html.TrustedResourceUrl.URL_PARAM_PARSER_=/^([^?#]*)(\?[^#]*)?(#[\s\S]*)?/,goog.html.TrustedResourceUrl.formatWithParams=function(t,e,r,s){return goog.html.TrustedResourceUrl.format(t,e).cloneWithParams(r,s)},goog.html.TrustedResourceUrl.fromConstant=function(t){return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(t))},goog.html.TrustedResourceUrl.fromConstants=function(t){for(var e="",r=0;r<t.length;r++)e+=goog.string.Const.unwrap(t[r]);return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.TrustedResourceUrl.fromSafeScript=function(t){return t=goog.fs.blob.getBlobWithProperties([goog.html.SafeScript.unwrap(t)],"text/javascript"),t=goog.fs.url.createObjectUrl(t),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=function(t){return t=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScriptURL(t):t,new goog.html.TrustedResourceUrl(goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_,t)},goog.html.TrustedResourceUrl.stringifyParams_=function(t,e,r){if(r==null)return e;if(typeof r=="string")return r?t+encodeURIComponent(r):"";for(var s in r){var o=r[s];o=Array.isArray(o)?o:[o];for(var i=0;i<o.length;i++){var n=o[i];n!=null&&(e||(e=t),e+=(e.length>t.length?"&":"")+encodeURIComponent(s)+"="+encodeURIComponent(String(n)))}}return e},goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_={},goog.string.internal={},goog.string.internal.startsWith=function(t,e){return t.lastIndexOf(e,0)==0},goog.string.internal.endsWith=function(t,e){var r=t.length-e.length;return 0<=r&&t.indexOf(e,r)==r},goog.string.internal.caseInsensitiveStartsWith=function(t,e){return goog.string.internal.caseInsensitiveCompare(e,t.substr(0,e.length))==0},goog.string.internal.caseInsensitiveEndsWith=function(t,e){return goog.string.internal.caseInsensitiveCompare(e,t.substr(t.length-e.length,e.length))==0},goog.string.internal.caseInsensitiveEquals=function(t,e){return t.toLowerCase()==e.toLowerCase()},goog.string.internal.isEmptyOrWhitespace=function(t){return/^[\s\xa0]*$/.test(t)},goog.string.internal.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},goog.string.internal.caseInsensitiveCompare=function(t,e){return(t=String(t).toLowerCase())<(e=String(e).toLowerCase())?-1:t==e?0:1},goog.string.internal.newLineToBr=function(t,e){return t.replace(/(\r\n|\r|\n)/g,e?"<br />":"<br>")},goog.string.internal.htmlEscape=function(t,e){if(e)t=t.replace(goog.string.internal.AMP_RE_,"&amp;").replace(goog.string.internal.LT_RE_,"&lt;").replace(goog.string.internal.GT_RE_,"&gt;").replace(goog.string.internal.QUOT_RE_,"&quot;").replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.internal.NULL_RE_,"&#0;");else{if(!goog.string.internal.ALL_RE_.test(t))return t;t.indexOf("&")!=-1&&(t=t.replace(goog.string.internal.AMP_RE_,"&amp;")),t.indexOf("<")!=-1&&(t=t.replace(goog.string.internal.LT_RE_,"&lt;")),t.indexOf(">")!=-1&&(t=t.replace(goog.string.internal.GT_RE_,"&gt;")),t.indexOf('"')!=-1&&(t=t.replace(goog.string.internal.QUOT_RE_,"&quot;")),t.indexOf("'")!=-1&&(t=t.replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;")),t.indexOf("\0")!=-1&&(t=t.replace(goog.string.internal.NULL_RE_,"&#0;"))}return t},goog.string.internal.AMP_RE_=/&/g,goog.string.internal.LT_RE_=/</g,goog.string.internal.GT_RE_=/>/g,goog.string.internal.QUOT_RE_=/"/g,goog.string.internal.SINGLE_QUOTE_RE_=/'/g,goog.string.internal.NULL_RE_=/\x00/g,goog.string.internal.ALL_RE_=/[\x00&<>"']/,goog.string.internal.whitespaceEscape=function(t,e){return goog.string.internal.newLineToBr(t.replace(/  /g," &#160;"),e)},goog.string.internal.contains=function(t,e){return t.indexOf(e)!=-1},goog.string.internal.caseInsensitiveContains=function(t,e){return goog.string.internal.contains(t.toLowerCase(),e.toLowerCase())},goog.string.internal.compareVersions=function(t,e){var r=0;t=goog.string.internal.trim(String(t)).split("."),e=goog.string.internal.trim(String(e)).split(".");for(var s=Math.max(t.length,e.length),o=0;r==0&&o<s;o++){var i=t[o]||"",n=e[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],n=/(\d*)(\D*)(.*)/.exec(n)||["","","",""],i[0].length==0&&n[0].length==0)break;r=i[1].length==0?0:parseInt(i[1],10);var p=n[1].length==0?0:parseInt(n[1],10);r=goog.string.internal.compareElements_(r,p)||goog.string.internal.compareElements_(i[2].length==0,n[2].length==0)||goog.string.internal.compareElements_(i[2],n[2]),i=i[3],n=n[3]}while(r==0)}return r},goog.string.internal.compareElements_=function(t,e){return t<e?-1:t>e?1:0},goog.html.SafeUrl=function(t,e){this.privateDoNotAccessOrElseSafeUrlWrappedValue_=t===goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_&&e||"",this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeUrl.INNOCUOUS_STRING="about:invalid#zClosurez",goog.html.SafeUrl.prototype.implementsGoogStringTypedString=!0,goog.html.SafeUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString()},goog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.DEBUG&&(goog.html.SafeUrl.prototype.toString=function(){return"SafeUrl{"+this.privateDoNotAccessOrElseSafeUrlWrappedValue_+"}"}),goog.html.SafeUrl.unwrap=function(t){return t instanceof goog.html.SafeUrl&&t.constructor===goog.html.SafeUrl&&t.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?t.privateDoNotAccessOrElseSafeUrlWrappedValue_:(goog.asserts.fail("expected object of type SafeUrl, got '"+t+"' of type "+goog.typeOf(t)),"type_error:SafeUrl")},goog.html.SafeUrl.fromConstant=function(t){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(t))},goog.html.SAFE_MIME_TYPE_PATTERN_=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,goog.html.SafeUrl.isSafeMimeType=function(t){return goog.html.SAFE_MIME_TYPE_PATTERN_.test(t)},goog.html.SafeUrl.fromBlob=function(t){return t=goog.html.SafeUrl.isSafeMimeType(t.type)?goog.fs.url.createObjectUrl(t):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeUrl.fromMediaSource=function(t){return goog.asserts.assert("MediaSource"in goog.global,"No support for MediaSource"),t=t instanceof MediaSource?goog.fs.url.createObjectUrl(t):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.DATA_URL_PATTERN_=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,goog.html.SafeUrl.fromDataUrl=function(t){var e=(t=t.replace(/(%0A|%0D)/g,"")).match(goog.html.DATA_URL_PATTERN_);return e=e&&goog.html.SafeUrl.isSafeMimeType(e[1]),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e?t:goog.html.SafeUrl.INNOCUOUS_STRING)},goog.html.SafeUrl.fromTelUrl=function(t){return goog.string.internal.caseInsensitiveStartsWith(t,"tel:")||(t=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SIP_URL_PATTERN_=/^sip[s]?:[+a-z0-9_.!$%&'*\/=^`{|}~-]+@([a-z0-9-]+\.)+[a-z0-9]{2,63}$/i,goog.html.SafeUrl.fromSipUrl=function(t){return goog.html.SIP_URL_PATTERN_.test(decodeURIComponent(t))||(t=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeUrl.fromFacebookMessengerUrl=function(t){return goog.string.internal.caseInsensitiveStartsWith(t,"fb-messenger://share")||(t=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeUrl.fromWhatsAppUrl=function(t){return goog.string.internal.caseInsensitiveStartsWith(t,"whatsapp://send")||(t=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeUrl.fromSmsUrl=function(t){return goog.string.internal.caseInsensitiveStartsWith(t,"sms:")&&goog.html.SafeUrl.isSmsUrlBodyValid_(t)||(t=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeUrl.isSmsUrlBodyValid_=function(t){var e=t.indexOf("#");if(0<e&&(t=t.substring(0,e)),!(e=t.match(/[?&]body=/gi)))return!0;if(1<e.length)return!1;if(!(t=t.match(/[?&]body=([^&]*)/)[1]))return!0;try{decodeURIComponent(t)}catch{return!1}return/^(?:[a-z0-9\-_.~]|%[0-9a-f]{2})+$/i.test(t)},goog.html.SafeUrl.fromSshUrl=function(t){return goog.string.internal.caseInsensitiveStartsWith(t,"ssh://")||(t=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeUrl.sanitizeChromeExtensionUrl=function(t,e){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^chrome-extension:\/\/([^\/]+)\//,t,e)},goog.html.SafeUrl.sanitizeFirefoxExtensionUrl=function(t,e){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^moz-extension:\/\/([^\/]+)\//,t,e)},goog.html.SafeUrl.sanitizeEdgeExtensionUrl=function(t,e){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^ms-browser-extension:\/\/([^\/]+)\//,t,e)},goog.html.SafeUrl.sanitizeExtensionUrl_=function(t,e,r){return(t=t.exec(e))?(t=t[1],(r instanceof goog.string.Const?[goog.string.Const.unwrap(r)]:r.map(function(s){return goog.string.Const.unwrap(s)})).indexOf(t)==-1&&(e=goog.html.SafeUrl.INNOCUOUS_STRING)):e=goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromTrustedResourceUrl=function(t){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.TrustedResourceUrl.unwrap(t))},goog.html.SAFE_URL_PATTERN_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,goog.html.SafeUrl.SAFE_URL_PATTERN=goog.html.SAFE_URL_PATTERN_,goog.html.SafeUrl.sanitize=function(t){return t instanceof goog.html.SafeUrl?t:(t=typeof t=="object"&&t.implementsGoogStringTypedString?t.getTypedStringValue():String(t),goog.html.SAFE_URL_PATTERN_.test(t)||(t=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t))},goog.html.SafeUrl.sanitizeAssertUnchanged=function(t,e){return t instanceof goog.html.SafeUrl?t:(t=typeof t=="object"&&t.implementsGoogStringTypedString?t.getTypedStringValue():String(t),e&&/^data:/i.test(t)&&(e=goog.html.SafeUrl.fromDataUrl(t)).getTypedStringValue()==t?e:(goog.asserts.assert(goog.html.SAFE_URL_PATTERN_.test(t),"%s does not match the safe URL pattern",t)||(t=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)))},goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse=function(t){return new goog.html.SafeUrl(goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_,t)},goog.html.SafeUrl.ABOUT_BLANK=goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse("about:blank"),goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_={},goog.html.SafeStyle=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_="",this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyle.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyle.fromConstant=function(t){return(t=goog.string.Const.unwrap(t)).length===0?goog.html.SafeStyle.EMPTY:(goog.asserts.assert(goog.string.internal.endsWith(t,";"),"Last character of style string is not ';': "+t),goog.asserts.assert(goog.string.internal.contains(t,":"),`Style string must contain at least one ':', to specify a "name: value" pair: `+t),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t))},goog.html.SafeStyle.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_},goog.DEBUG&&(goog.html.SafeStyle.prototype.toString=function(){return"SafeStyle{"+this.privateDoNotAccessOrElseSafeStyleWrappedValue_+"}"}),goog.html.SafeStyle.unwrap=function(t){return t instanceof goog.html.SafeStyle&&t.constructor===goog.html.SafeStyle&&t.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?t.privateDoNotAccessOrElseSafeStyleWrappedValue_:(goog.asserts.fail("expected object of type SafeStyle, got '"+t+"' of type "+goog.typeOf(t)),"type_error:SafeStyle")},goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse=function(t){return new goog.html.SafeStyle().initSecurityPrivateDoNotAccessOrElse_(t)},goog.html.SafeStyle.prototype.initSecurityPrivateDoNotAccessOrElse_=function(t){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_=t,this},goog.html.SafeStyle.EMPTY=goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(""),goog.html.SafeStyle.INNOCUOUS_STRING="zClosurez",goog.html.SafeStyle.create=function(t){var e,r="";for(e in t){if(!/^[-_a-zA-Z0-9]+$/.test(e))throw Error("Name allows only [-_a-zA-Z0-9], got: "+e);var s=t[e];s!=null&&(r+=e+":"+(s=Array.isArray(s)?goog.array.map(s,goog.html.SafeStyle.sanitizePropertyValue_).join(" "):goog.html.SafeStyle.sanitizePropertyValue_(s))+";")}return r?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(r):goog.html.SafeStyle.EMPTY},goog.html.SafeStyle.sanitizePropertyValue_=function(t){if(t instanceof goog.html.SafeUrl)return'url("'+goog.html.SafeUrl.unwrap(t).replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';if(t=t instanceof goog.string.Const?goog.string.Const.unwrap(t):goog.html.SafeStyle.sanitizePropertyValueString_(String(t)),/[{;}]/.test(t))throw new goog.asserts.AssertionError("Value does not allow [{;}], got: %s.",[t]);return t},goog.html.SafeStyle.sanitizePropertyValueString_=function(t){var e=t.replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.URL_RE_,"url");return goog.html.SafeStyle.VALUE_RE_.test(e)?goog.html.SafeStyle.COMMENT_RE_.test(t)?(goog.asserts.fail("String value disallows comments, got: "+t),goog.html.SafeStyle.INNOCUOUS_STRING):goog.html.SafeStyle.hasBalancedQuotes_(t)?goog.html.SafeStyle.hasBalancedSquareBrackets_(t)?goog.html.SafeStyle.sanitizeUrl_(t):(goog.asserts.fail("String value requires balanced square brackets and one identifier per pair of brackets, got: "+t),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value requires balanced quotes, got: "+t),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value allows only "+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+" and simple functions, got: "+t),goog.html.SafeStyle.INNOCUOUS_STRING)},goog.html.SafeStyle.hasBalancedQuotes_=function(t){for(var e=!0,r=!0,s=0;s<t.length;s++){var o=t.charAt(s);o=="'"&&r?e=!e:o=='"'&&e&&(r=!r)}return e&&r},goog.html.SafeStyle.hasBalancedSquareBrackets_=function(t){for(var e=!0,r=/^[-_a-zA-Z0-9]$/,s=0;s<t.length;s++){var o=t.charAt(s);if(o=="]"){if(e)return!1;e=!0}else if(o=="["){if(!e)return!1;e=!1}else if(!e&&!r.test(o))return!1}return e},goog.html.SafeStyle.VALUE_ALLOWED_CHARS_=`[-,."'%_!# a-zA-Z0-9\\[\\]]`,goog.html.SafeStyle.VALUE_RE_=new RegExp("^"+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+"+$"),goog.html.SafeStyle.URL_RE_=/\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g,goog.html.SafeStyle.ALLOWED_FUNCTIONS_="calc cubic-bezier fit-content hsl hsla linear-gradient matrix minmax repeat rgb rgba (rotate|scale|translate)(X|Y|Z|3d)?".split(" "),goog.html.SafeStyle.FUNCTIONS_RE_=new RegExp("\\b("+goog.html.SafeStyle.ALLOWED_FUNCTIONS_.join("|")+")\\([-+*/0-9a-z.%\\[\\], ]+\\)","g"),goog.html.SafeStyle.COMMENT_RE_=/\/\*/,goog.html.SafeStyle.sanitizeUrl_=function(t){return t.replace(goog.html.SafeStyle.URL_RE_,function(e,r,s,o){var i="";return s=s.replace(/^(['"])(.*)\1$/,function(n,p,d){return i=p,d}),e=goog.html.SafeUrl.sanitize(s).getTypedStringValue(),r+i+e+i+o})},goog.html.SafeStyle.concat=function(t){var e="",r=function(s){Array.isArray(s)?goog.array.forEach(s,r):e+=goog.html.SafeStyle.unwrap(s)};return goog.array.forEach(arguments,r),e?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(e):goog.html.SafeStyle.EMPTY},goog.html.SafeStyleSheet=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_="",this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyleSheet.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyleSheet.createRule=function(t,e){if(goog.string.internal.contains(t,"<"))throw Error("Selector does not allow '<', got: "+t);var r=t.replace(/('|")((?!\1)[^\r\n\f\\]|\\[\s\S])*\1/g,"");if(!/^[-_a-zA-Z0-9#.:* ,>+~[\]()=^$|]+$/.test(r))throw Error("Selector allows only [-_a-zA-Z0-9#.:* ,>+~[\\]()=^$|] and strings, got: "+t);if(!goog.html.SafeStyleSheet.hasBalancedBrackets_(r))throw Error("() and [] in selector must be balanced, got: "+t);return e instanceof goog.html.SafeStyle||(e=goog.html.SafeStyle.create(e)),t=t+"{"+goog.html.SafeStyle.unwrap(e).replace(/</g,"\\3C ")+"}",goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeStyleSheet.hasBalancedBrackets_=function(t){for(var e={"(":")","[":"]"},r=[],s=0;s<t.length;s++){var o=t[s];if(e[o])r.push(e[o]);else if(goog.object.contains(e,o)&&r.pop()!=o)return!1}return r.length==0},goog.html.SafeStyleSheet.concat=function(t){var e="",r=function(s){Array.isArray(s)?goog.array.forEach(s,r):e+=goog.html.SafeStyleSheet.unwrap(s)};return goog.array.forEach(arguments,r),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeStyleSheet.fromConstant=function(t){return(t=goog.string.Const.unwrap(t)).length===0?goog.html.SafeStyleSheet.EMPTY:(goog.asserts.assert(!goog.string.internal.contains(t,"<"),"Forbidden '<' character in style sheet string: "+t),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t))},goog.html.SafeStyleSheet.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_},goog.DEBUG&&(goog.html.SafeStyleSheet.prototype.toString=function(){return"SafeStyleSheet{"+this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+"}"}),goog.html.SafeStyleSheet.unwrap=function(t){return t instanceof goog.html.SafeStyleSheet&&t.constructor===goog.html.SafeStyleSheet&&t.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?t.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_:(goog.asserts.fail("expected object of type SafeStyleSheet, got '"+t+"' of type "+goog.typeOf(t)),"type_error:SafeStyleSheet")},goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse=function(t){return new goog.html.SafeStyleSheet().initSecurityPrivateDoNotAccessOrElse_(t)},goog.html.SafeStyleSheet.prototype.initSecurityPrivateDoNotAccessOrElse_=function(t){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=t,this},goog.html.SafeStyleSheet.EMPTY=goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(""),goog.labs={},goog.labs.userAgent={},goog.labs.userAgent.util={},goog.labs.userAgent.util.getNativeUserAgentString_=function(){var t=goog.labs.userAgent.util.getNavigator_();return t&&(t=t.userAgent)?t:""},goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator},goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_(),goog.labs.userAgent.util.setUserAgent=function(t){goog.labs.userAgent.util.userAgent_=t||goog.labs.userAgent.util.getNativeUserAgentString_()},goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_},goog.labs.userAgent.util.matchUserAgent=function(t){var e=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.contains(e,t)},goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(t){var e=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.caseInsensitiveContains(e,t)},goog.labs.userAgent.util.extractVersionTuples=function(t){for(var e,r=/(\w[\w ]+)\/([^\s]+)\s*(?:\((.*?)\))?/g,s=[];e=r.exec(t);)s.push([e[1],e[2],e[3]||void 0]);return s},goog.labs.userAgent.browser={},goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")},goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.browser.matchEdgeHtml_=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.browser.matchEdgeChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("Edg/")},goog.labs.userAgent.browser.matchOperaChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("OPR")},goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")||goog.labs.userAgent.util.matchUserAgent("FxiOS")},goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchEdgeHtml_()||goog.labs.userAgent.browser.matchEdgeChromium_()||goog.labs.userAgent.browser.matchOperaChromium_()||goog.labs.userAgent.browser.matchFirefox_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent("Android"))},goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")},goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&!goog.labs.userAgent.browser.matchFirefox_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")},goog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS"))&&!goog.labs.userAgent.browser.matchEdgeHtml_()},goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())},goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_,goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_,goog.labs.userAgent.browser.isEdge=goog.labs.userAgent.browser.matchEdgeHtml_,goog.labs.userAgent.browser.isEdgeChromium=goog.labs.userAgent.browser.matchEdgeChromium_,goog.labs.userAgent.browser.isOperaChromium=goog.labs.userAgent.browser.matchOperaChromium_,goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_,goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_,goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_,goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_,goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_,goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_,goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")},goog.labs.userAgent.browser.getVersion=function(){function t(o){return o=goog.array.find(o,s),r[o]||""}var e=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(e);e=goog.labs.userAgent.util.extractVersionTuples(e);var r={};goog.array.forEach(e,function(o){r[o[0]]=o[1]});var s=goog.partial(goog.object.containsKey,r);return goog.labs.userAgent.browser.isOpera()?t(["Version","Opera"]):goog.labs.userAgent.browser.isEdge()?t(["Edge"]):goog.labs.userAgent.browser.isEdgeChromium()?t(["Edg"]):goog.labs.userAgent.browser.isChrome()?t(["Chrome","CriOS","HeadlessChrome"]):(e=e[2])&&e[1]||""},goog.labs.userAgent.browser.isVersionOrHigher=function(t){return 0<=goog.string.internal.compareVersions(goog.labs.userAgent.browser.getVersion(),t)},goog.labs.userAgent.browser.getIEVersion_=function(t){var e=/rv: *([\d\.]*)/.exec(t);if(e&&e[1])return e[1];e="";var r=/MSIE +([\d\.]+)/.exec(t);if(r&&r[1])if(t=/Trident\/(\d.\d)/.exec(t),r[1]=="7.0")if(t&&t[1])switch(t[1]){case"4.0":e="8.0";break;case"5.0":e="9.0";break;case"6.0":e="10.0";break;case"7.0":e="11.0"}else e="7.0";else e=r[1];return e},goog.html.SafeHtml=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="",this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_,this.dir_=null},goog.html.SafeHtml.ENABLE_ERROR_MESSAGES=goog.DEBUG,goog.html.SafeHtml.SUPPORT_STYLE_ATTRIBUTE=!0,goog.html.SafeHtml.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeHtml.prototype.getDirection=function(){return this.dir_},goog.html.SafeHtml.prototype.implementsGoogStringTypedString=!0,goog.html.SafeHtml.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeHtml.prototype.toString=function(){return"SafeHtml{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"}),goog.html.SafeHtml.unwrap=function(t){return goog.html.SafeHtml.unwrapTrustedHTML(t).toString()},goog.html.SafeHtml.unwrapTrustedHTML=function(t){return t instanceof goog.html.SafeHtml&&t.constructor===goog.html.SafeHtml&&t.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?t.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeHtml, got '"+t+"' of type "+goog.typeOf(t)),"type_error:SafeHtml")},goog.html.SafeHtml.htmlEscape=function(t){if(t instanceof goog.html.SafeHtml)return t;var e=typeof t=="object",r=null;return e&&t.implementsGoogI18nBidiDirectionalString&&(r=t.getDirection()),t=e&&t.implementsGoogStringTypedString?t.getTypedStringValue():String(t),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.htmlEscape(t),r)},goog.html.SafeHtml.htmlEscapePreservingNewlines=function(t){return t instanceof goog.html.SafeHtml?t:(t=goog.html.SafeHtml.htmlEscape(t),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.newLineToBr(goog.html.SafeHtml.unwrap(t)),t.getDirection()))},goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces=function(t){return t instanceof goog.html.SafeHtml?t:(t=goog.html.SafeHtml.htmlEscape(t),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.whitespaceEscape(goog.html.SafeHtml.unwrap(t)),t.getDirection()))},goog.html.SafeHtml.from=goog.html.SafeHtml.htmlEscape,goog.html.SafeHtml.comment=function(t){return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!--"+goog.string.internal.htmlEscape(t)+"-->",null)},goog.html.SafeHtml.VALID_NAMES_IN_TAG_=/^[a-zA-Z0-9-]+$/,goog.html.SafeHtml.URL_ATTRIBUTES_={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.html.SafeHtml.create=function(t,e,r){return goog.html.SafeHtml.verifyTagName(String(t)),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(String(t),e,r)},goog.html.SafeHtml.verifyTagName=function(t){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(t))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?"Invalid tag name <"+t+">.":"");if(t.toUpperCase()in goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_)throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?"Tag name <"+t+"> is not allowed for SafeHtml.":"")},goog.html.SafeHtml.createIframe=function(t,e,r,s){t&&goog.html.TrustedResourceUrl.unwrap(t);var o={};return o.src=t||null,o.srcdoc=e&&goog.html.SafeHtml.unwrap(e),t=goog.html.SafeHtml.combineAttributes(o,{sandbox:""},r),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",t,s)},goog.html.SafeHtml.createSandboxIframe=function(t,e,r,s){if(!goog.html.SafeHtml.canUseSandboxIframe())throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?"The browser does not support sandboxed iframes.":"");var o={};return o.src=t?goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(t)):null,o.srcdoc=e||null,o.sandbox="",t=goog.html.SafeHtml.combineAttributes(o,{},r),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",t,s)},goog.html.SafeHtml.canUseSandboxIframe=function(){return goog.global.HTMLIFrameElement&&"sandbox"in goog.global.HTMLIFrameElement.prototype},goog.html.SafeHtml.createScriptSrc=function(t,e){return goog.html.TrustedResourceUrl.unwrap(t),t=goog.html.SafeHtml.combineAttributes({src:t},{},e),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",t)},goog.html.SafeHtml.createScript=function(t,e){for(var r in e){var s=r.toLowerCase();if(s=="language"||s=="src"||s=="text"||s=="type")throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Cannot set "'+s+'" attribute':"")}for(r="",t=goog.array.concat(t),s=0;s<t.length;s++)r+=goog.html.SafeScript.unwrap(t[s]);return t=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(r,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",e,t)},goog.html.SafeHtml.createStyle=function(t,e){e=goog.html.SafeHtml.combineAttributes({type:"text/css"},{},e);var r="";t=goog.array.concat(t);for(var s=0;s<t.length;s++)r+=goog.html.SafeStyleSheet.unwrap(t[s]);return t=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(r,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("style",e,t)},goog.html.SafeHtml.createMetaRefresh=function(t,e){return t=goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(t)),(goog.labs.userAgent.browser.isIE()||goog.labs.userAgent.browser.isEdge())&&goog.string.internal.contains(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("meta",{"http-equiv":"refresh",content:(e||0)+"; url="+t})},goog.html.SafeHtml.getAttrNameAndValue_=function(t,e,r){if(r instanceof goog.string.Const)r=goog.string.Const.unwrap(r);else if(e.toLowerCase()=="style"){if(!goog.html.SafeHtml.SUPPORT_STYLE_ATTRIBUTE)throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Attribute "style" not supported.':"");r=goog.html.SafeHtml.getStyleValue_(r)}else{if(/^on/i.test(e))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Attribute "'+e+'" requires goog.string.Const value, "'+r+'" given.':"");if(e.toLowerCase()in goog.html.SafeHtml.URL_ATTRIBUTES_)if(r instanceof goog.html.TrustedResourceUrl)r=goog.html.TrustedResourceUrl.unwrap(r);else if(r instanceof goog.html.SafeUrl)r=goog.html.SafeUrl.unwrap(r);else{if(typeof r!="string")throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Attribute "'+e+'" on tag "'+t+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+r+'" given.':"");r=goog.html.SafeUrl.sanitize(r).getTypedStringValue()}}return r.implementsGoogStringTypedString&&(r=r.getTypedStringValue()),goog.asserts.assert(typeof r=="string"||typeof r=="number","String or number value expected, got "+typeof r+" with value: "+r),e+'="'+goog.string.internal.htmlEscape(String(r))+'"'},goog.html.SafeHtml.getStyleValue_=function(t){if(!goog.isObject(t))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof t+" given: "+t:"");return t instanceof goog.html.SafeStyle||(t=goog.html.SafeStyle.create(t)),goog.html.SafeStyle.unwrap(t)},goog.html.SafeHtml.createWithDir=function(t,e,r,s){return(e=goog.html.SafeHtml.create(e,r,s)).dir_=t,e},goog.html.SafeHtml.join=function(t,e){var r=(t=goog.html.SafeHtml.htmlEscape(t)).getDirection(),s=[],o=function(i){Array.isArray(i)?goog.array.forEach(i,o):(i=goog.html.SafeHtml.htmlEscape(i),s.push(goog.html.SafeHtml.unwrap(i)),i=i.getDirection(),r==goog.i18n.bidi.Dir.NEUTRAL?r=i:i!=goog.i18n.bidi.Dir.NEUTRAL&&r!=i&&(r=null))};return goog.array.forEach(e,o),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(s.join(goog.html.SafeHtml.unwrap(t)),r)},goog.html.SafeHtml.concat=function(t){return goog.html.SafeHtml.join(goog.html.SafeHtml.EMPTY,Array.prototype.slice.call(arguments))},goog.html.SafeHtml.concatWithDir=function(t,e){var r=goog.html.SafeHtml.concat(goog.array.slice(arguments,1));return r.dir_=t,r},goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse=function(t,e){return new goog.html.SafeHtml().initSecurityPrivateDoNotAccessOrElse_(t,e)},goog.html.SafeHtml.prototype.initSecurityPrivateDoNotAccessOrElse_=function(t,e){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createHTML(t):t,this.dir_=e,this},goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse=function(t,e,r){var s=null,o="<"+t+goog.html.SafeHtml.stringifyAttributes(t,e);return r==null?r=[]:Array.isArray(r)||(r=[r]),goog.dom.tags.isVoidTag(t.toLowerCase())?(goog.asserts.assert(!r.length,"Void tag <"+t+"> does not allow content."),o+=">"):(s=goog.html.SafeHtml.concat(r),o+=">"+goog.html.SafeHtml.unwrap(s)+"</"+t+">",s=s.getDirection()),(t=e&&e.dir)&&(s=/^(ltr|rtl|auto)$/i.test(t)?goog.i18n.bidi.Dir.NEUTRAL:null),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(o,s)},goog.html.SafeHtml.stringifyAttributes=function(t,e){var r="";if(e)for(var s in e){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(s))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Invalid attribute name "'+s+'".':"");var o=e[s];o!=null&&(r+=" "+goog.html.SafeHtml.getAttrNameAndValue_(t,s,o))}return r},goog.html.SafeHtml.combineAttributes=function(t,e,r){var s,o={};for(s in t)goog.asserts.assert(s.toLowerCase()==s,"Must be lower case"),o[s]=t[s];for(s in e)goog.asserts.assert(s.toLowerCase()==s,"Must be lower case"),o[s]=e[s];if(r)for(s in r){var i=s.toLowerCase();if(i in t)throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Cannot override "'+i+'" attribute, got "'+s+'" with value "'+r[s]+'"':"");i in e&&delete o[i],o[s]=r[s]}return o},goog.html.SafeHtml.DOCTYPE_HTML=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!DOCTYPE html>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.EMPTY=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.BR=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<br>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.uncheckedconversions={},goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract=function(t,e,r){return goog.asserts.assertString(goog.string.Const.unwrap(t),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(t)),"must provide non-empty justification"),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(e,r||null)},goog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract=function(t,e){return goog.asserts.assertString(goog.string.Const.unwrap(t),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(t)),"must provide non-empty justification"),goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(e)},goog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract=function(t,e){return goog.asserts.assertString(goog.string.Const.unwrap(t),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(t)),"must provide non-empty justification"),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(e)},goog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract=function(t,e){return goog.asserts.assertString(goog.string.Const.unwrap(t),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(t)),"must provide non-empty justification"),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e)},goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract=function(t,e){return goog.asserts.assertString(goog.string.Const.unwrap(t),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(t)),"must provide non-empty justification"),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract=function(t,e){return goog.asserts.assertString(goog.string.Const.unwrap(t),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(t)),"must provide non-empty justification"),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(e)},goog.dom.safe={},goog.dom.safe.InsertAdjacentHtmlPosition={AFTERBEGIN:"afterbegin",AFTEREND:"afterend",BEFOREBEGIN:"beforebegin",BEFOREEND:"beforeend"},goog.dom.safe.insertAdjacentHtml=function(t,e,r){t.insertAdjacentHTML(e,goog.html.SafeHtml.unwrapTrustedHTML(r))},goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.dom.safe.isInnerHtmlCleanupRecursive_=goog.functions.cacheReturnValue(function(){if(goog.DEBUG&&typeof document>"u")return!1;var t=document.createElement("div"),e=document.createElement("div");return e.appendChild(document.createElement("div")),t.appendChild(e),!(goog.DEBUG&&!t.firstChild)&&(e=t.firstChild.firstChild,t.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(goog.html.SafeHtml.EMPTY),!e.parentElement)}),goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse=function(t,e){if(goog.dom.safe.isInnerHtmlCleanupRecursive_())for(;t.lastChild;)t.removeChild(t.lastChild);t.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(e)},goog.dom.safe.setInnerHtml=function(t,e){if(goog.asserts.ENABLE_ASSERTS){var r=t.tagName.toUpperCase();if(goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[r])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+t.tagName+".")}goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse(t,e)},goog.dom.safe.setOuterHtml=function(t,e){t.outerHTML=goog.html.SafeHtml.unwrapTrustedHTML(e)},goog.dom.safe.setFormElementAction=function(t,e){e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),goog.dom.asserts.assertIsHTMLFormElement(t).action=goog.html.SafeUrl.unwrap(e)},goog.dom.safe.setButtonFormAction=function(t,e){e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),goog.dom.asserts.assertIsHTMLButtonElement(t).formAction=goog.html.SafeUrl.unwrap(e)},goog.dom.safe.setInputFormAction=function(t,e){e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),goog.dom.asserts.assertIsHTMLInputElement(t).formAction=goog.html.SafeUrl.unwrap(e)},goog.dom.safe.setStyle=function(t,e){t.style.cssText=goog.html.SafeStyle.unwrap(e)},goog.dom.safe.documentWrite=function(t,e){t.write(goog.html.SafeHtml.unwrapTrustedHTML(e))},goog.dom.safe.setAnchorHref=function(t,e){goog.dom.asserts.assertIsHTMLAnchorElement(t),e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),t.href=goog.html.SafeUrl.unwrap(e)},goog.dom.safe.setImageSrc=function(t,e){if(goog.dom.asserts.assertIsHTMLImageElement(t),!(e instanceof goog.html.SafeUrl)){var r=/^data:image\//i.test(e);e=goog.html.SafeUrl.sanitizeAssertUnchanged(e,r)}t.src=goog.html.SafeUrl.unwrap(e)},goog.dom.safe.setAudioSrc=function(t,e){if(goog.dom.asserts.assertIsHTMLAudioElement(t),!(e instanceof goog.html.SafeUrl)){var r=/^data:audio\//i.test(e);e=goog.html.SafeUrl.sanitizeAssertUnchanged(e,r)}t.src=goog.html.SafeUrl.unwrap(e)},goog.dom.safe.setVideoSrc=function(t,e){if(goog.dom.asserts.assertIsHTMLVideoElement(t),!(e instanceof goog.html.SafeUrl)){var r=/^data:video\//i.test(e);e=goog.html.SafeUrl.sanitizeAssertUnchanged(e,r)}t.src=goog.html.SafeUrl.unwrap(e)},goog.dom.safe.setEmbedSrc=function(t,e){goog.dom.asserts.assertIsHTMLEmbedElement(t),t.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(e)},goog.dom.safe.setFrameSrc=function(t,e){goog.dom.asserts.assertIsHTMLFrameElement(t),t.src=goog.html.TrustedResourceUrl.unwrap(e)},goog.dom.safe.setIframeSrc=function(t,e){goog.dom.asserts.assertIsHTMLIFrameElement(t),t.src=goog.html.TrustedResourceUrl.unwrap(e)},goog.dom.safe.setIframeSrcdoc=function(t,e){goog.dom.asserts.assertIsHTMLIFrameElement(t),t.srcdoc=goog.html.SafeHtml.unwrapTrustedHTML(e)},goog.dom.safe.setLinkHrefAndRel=function(t,e,r){goog.dom.asserts.assertIsHTMLLinkElement(t),t.rel=r,goog.string.internal.caseInsensitiveContains(r,"stylesheet")?(goog.asserts.assert(e instanceof goog.html.TrustedResourceUrl,'URL must be TrustedResourceUrl because "rel" contains "stylesheet"'),t.href=goog.html.TrustedResourceUrl.unwrap(e)):t.href=e instanceof goog.html.TrustedResourceUrl?goog.html.TrustedResourceUrl.unwrap(e):e instanceof goog.html.SafeUrl?goog.html.SafeUrl.unwrap(e):goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitizeAssertUnchanged(e))},goog.dom.safe.setObjectData=function(t,e){goog.dom.asserts.assertIsHTMLObjectElement(t),t.data=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(e)},goog.dom.safe.setScriptSrc=function(t,e){goog.dom.asserts.assertIsHTMLScriptElement(t),t.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(e),(e=goog.getScriptNonce())&&t.setAttribute("nonce",e)},goog.dom.safe.setScriptContent=function(t,e){goog.dom.asserts.assertIsHTMLScriptElement(t),t.text=goog.html.SafeScript.unwrapTrustedScript(e),(e=goog.getScriptNonce())&&t.setAttribute("nonce",e)},goog.dom.safe.setLocationHref=function(t,e){goog.dom.asserts.assertIsLocation(t),e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),t.href=goog.html.SafeUrl.unwrap(e)},goog.dom.safe.assignLocation=function(t,e){goog.dom.asserts.assertIsLocation(t),e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),t.assign(goog.html.SafeUrl.unwrap(e))},goog.dom.safe.replaceLocation=function(t,e){e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),t.replace(goog.html.SafeUrl.unwrap(e))},goog.dom.safe.openInWindow=function(t,e,r,s,o){return t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e=e||goog.global,r=r instanceof goog.string.Const?goog.string.Const.unwrap(r):r||"",e.open(goog.html.SafeUrl.unwrap(t),r,s,o)},goog.dom.safe.parseFromStringHtml=function(t,e){return goog.dom.safe.parseFromString(t,e,"text/html")},goog.dom.safe.parseFromString=function(t,e,r){return t.parseFromString(goog.html.SafeHtml.unwrapTrustedHTML(e),r)},goog.dom.safe.createImageFromBlob=function(t){if(!/^image\/.*/g.test(t.type))throw Error("goog.dom.safe.createImageFromBlob only accepts MIME type image/.*.");var e=goog.global.URL.createObjectURL(t);return(t=new goog.global.Image).onload=function(){goog.global.URL.revokeObjectURL(e)},goog.dom.safe.setImageSrc(t,goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Image blob URL."),e)),t},goog.string.DETECT_DOUBLE_ESCAPING=!1,goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1,goog.string.Unicode={NBSP:""},goog.string.startsWith=goog.string.internal.startsWith,goog.string.endsWith=goog.string.internal.endsWith,goog.string.caseInsensitiveStartsWith=goog.string.internal.caseInsensitiveStartsWith,goog.string.caseInsensitiveEndsWith=goog.string.internal.caseInsensitiveEndsWith,goog.string.caseInsensitiveEquals=goog.string.internal.caseInsensitiveEquals,goog.string.subs=function(t,e){for(var r=t.split("%s"),s="",o=Array.prototype.slice.call(arguments,1);o.length&&1<r.length;)s+=r.shift()+o.shift();return s+r.join("%s")},goog.string.collapseWhitespace=function(t){return t.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmptyOrWhitespace=goog.string.internal.isEmptyOrWhitespace,goog.string.isEmptyString=function(t){return t.length==0},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(t){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(t))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(t){return!/[^\t\n\r ]/.test(t)},goog.string.isAlpha=function(t){return!/[^a-zA-Z]/.test(t)},goog.string.isNumeric=function(t){return!/[^0-9]/.test(t)},goog.string.isAlphaNumeric=function(t){return!/[^a-zA-Z0-9]/.test(t)},goog.string.isSpace=function(t){return t==" "},goog.string.isUnicodeChar=function(t){return t.length==1&&" "<=t&&"~">=t||""<=t&&"">=t},goog.string.stripNewlines=function(t){return t.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(t){return t.replace(/(\r\n|\r|\n)/g,`
`)},goog.string.normalizeWhitespace=function(t){return t.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(t){return t.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(t){return t.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=goog.string.internal.trim,goog.string.trimLeft=function(t){return t.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(t){return t.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=goog.string.internal.caseInsensitiveCompare,goog.string.numberAwareCompare_=function(t,e,r){if(t==e)return 0;if(!t)return-1;if(!e)return 1;for(var s=t.toLowerCase().match(r),o=e.toLowerCase().match(r),i=Math.min(s.length,o.length),n=0;n<i;n++){r=s[n];var p=o[n];if(r!=p)return t=parseInt(r,10),!isNaN(t)&&(e=parseInt(p,10),!isNaN(e)&&t-e)?t-e:r<p?-1:1}return s.length!=o.length?s.length-o.length:t<e?-1:1},goog.string.intAwareCompare=function(t,e){return goog.string.numberAwareCompare_(t,e,/\d+|\D+/g)},goog.string.floatAwareCompare=function(t,e){return goog.string.numberAwareCompare_(t,e,/\d+|\.\d+|\D+/g)},goog.string.numerateCompare=goog.string.floatAwareCompare,goog.string.urlEncode=function(t){return encodeURIComponent(String(t))},goog.string.urlDecode=function(t){return decodeURIComponent(t.replace(/\+/g," "))},goog.string.newLineToBr=goog.string.internal.newLineToBr,goog.string.htmlEscape=function(t,e){return t=goog.string.internal.htmlEscape(t,e),goog.string.DETECT_DOUBLE_ESCAPING&&(t=t.replace(goog.string.E_RE_,"&#101;")),t},goog.string.E_RE_=/e/g,goog.string.unescapeEntities=function(t){return goog.string.contains(t,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(t):goog.string.unescapePureXmlEntities_(t):t},goog.string.unescapeEntitiesWithDocument=function(t,e){return goog.string.contains(t,"&")?goog.string.unescapeEntitiesUsingDom_(t,e):t},goog.string.unescapeEntitiesUsingDom_=function(t,e){var r={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},s=e?e.createElement("div"):goog.global.document.createElement("div");return t.replace(goog.string.HTML_ENTITY_PATTERN_,function(o,i){var n=r[o];return n||(i.charAt(0)=="#"&&(i=+("0"+i.substr(1)),isNaN(i)||(n=String.fromCharCode(i))),n||(goog.dom.safe.setInnerHtml(s,goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Single HTML entity."),o+" ")),n=s.firstChild.nodeValue.slice(0,-1)),r[o]=n)})},goog.string.unescapePureXmlEntities_=function(t){return t.replace(/&([^;]+);/g,function(e,r){switch(r){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:return r.charAt(0)!="#"||(r=+("0"+r.substr(1)),isNaN(r))?e:String.fromCharCode(r)}})},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(t,e){return goog.string.newLineToBr(t.replace(/  /g," &#160;"),e)},goog.string.preserveSpaces=function(t){return t.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(t,e){for(var r=e.length,s=0;s<r;s++){var o=r==1?e:e.charAt(s);if(t.charAt(0)==o&&t.charAt(t.length-1)==o)return t.substring(1,t.length-1)}return t},goog.string.truncate=function(t,e,r){return r&&(t=goog.string.unescapeEntities(t)),t.length>e&&(t=t.substring(0,e-3)+"..."),r&&(t=goog.string.htmlEscape(t)),t},goog.string.truncateMiddle=function(t,e,r,s){if(r&&(t=goog.string.unescapeEntities(t)),s&&t.length>e){s>e&&(s=e);var o=t.length-s;t=t.substring(0,e-s)+"..."+t.substring(o)}else t.length>e&&(s=Math.floor(e/2),o=t.length-s,t=t.substring(0,s+e%2)+"..."+t.substring(o));return r&&(t=goog.string.htmlEscape(t)),t},goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"\\u003C"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(t){t=String(t);for(var e=['"'],r=0;r<t.length;r++){var s=t.charAt(r),o=s.charCodeAt(0);e[r+1]=goog.string.specialEscapeChars_[s]||(31<o&&127>o?s:goog.string.escapeChar(s))}return e.push('"'),e.join("")},goog.string.escapeString=function(t){for(var e=[],r=0;r<t.length;r++)e[r]=goog.string.escapeChar(t.charAt(r));return e.join("")},goog.string.escapeChar=function(t){if(t in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[t];if(t in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[t]=goog.string.specialEscapeChars_[t];var e=t.charCodeAt(0);if(31<e&&127>e)var r=t;else 256>e?(r="\\x",(16>e||256<e)&&(r+="0")):(r="\\u",4096>e&&(r+="0")),r+=e.toString(16).toUpperCase();return goog.string.jsEscapeCache_[t]=r},goog.string.contains=goog.string.internal.contains,goog.string.caseInsensitiveContains=goog.string.internal.caseInsensitiveContains,goog.string.countOf=function(t,e){return t&&e?t.split(e).length-1:0},goog.string.removeAt=function(t,e,r){var s=t;return 0<=e&&e<t.length&&0<r&&(s=t.substr(0,e)+t.substr(e+r,t.length-e-r)),s},goog.string.remove=function(t,e){return t.replace(e,"")},goog.string.removeAll=function(t,e){return e=new RegExp(goog.string.regExpEscape(e),"g"),t.replace(e,"")},goog.string.replaceAll=function(t,e,r){return e=new RegExp(goog.string.regExpEscape(e),"g"),t.replace(e,r.replace(/\$/g,"$$$$"))},goog.string.regExpEscape=function(t){return String(t).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=String.prototype.repeat?function(t,e){return t.repeat(e)}:function(t,e){return Array(e+1).join(t)},goog.string.padNumber=function(t,e,r){return(r=(t=r!==void 0?t.toFixed(r):String(t)).indexOf("."))==-1&&(r=t.length),goog.string.repeat("0",Math.max(0,e-r))+t},goog.string.makeSafe=function(t){return t==null?"":String(t)},goog.string.buildString=function(t){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=goog.string.internal.compareVersions,goog.string.hashCode=function(t){for(var e=0,r=0;r<t.length;++r)e=31*e+t.charCodeAt(r)>>>0;return e},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(t){var e=Number(t);return e==0&&goog.string.isEmptyOrWhitespace(t)?NaN:e},goog.string.isLowerCamelCase=function(t){return/^[a-z]+([A-Z][a-z]*)*$/.test(t)},goog.string.isUpperCamelCase=function(t){return/^([A-Z][a-z]*)+$/.test(t)},goog.string.toCamelCase=function(t){return String(t).replace(/\-([a-z])/g,function(e,r){return r.toUpperCase()})},goog.string.toSelectorCase=function(t){return String(t).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(t,e){return e=typeof e=="string"?goog.string.regExpEscape(e):"\\s",t.replace(new RegExp("(^"+(e?"|["+e+"]+":"")+")([a-z])","g"),function(r,s,o){return s+o.toUpperCase()})},goog.string.capitalize=function(t){return String(t.charAt(0)).toUpperCase()+String(t.substr(1)).toLowerCase()},goog.string.parseInt=function(t){return isFinite(t)&&(t=String(t)),typeof t=="string"?/^\s*-?0x/i.test(t)?parseInt(t,16):parseInt(t,10):NaN},goog.string.splitLimit=function(t,e,r){t=t.split(e);for(var s=[];0<r&&t.length;)s.push(t.shift()),r--;return t.length&&s.push(t.join(e)),s},goog.string.lastComponent=function(t,e){if(!e)return t;typeof e=="string"&&(e=[e]);for(var r=-1,s=0;s<e.length;s++)if(e[s]!=""){var o=t.lastIndexOf(e[s]);o>r&&(r=o)}return r==-1?t:t.slice(r+1)},goog.string.editDistance=function(t,e){var r=[],s=[];if(t==e)return 0;if(!t.length||!e.length)return Math.max(t.length,e.length);for(var o=0;o<e.length+1;o++)r[o]=o;for(o=0;o<t.length;o++){s[0]=o+1;for(var i=0;i<e.length;i++)s[i+1]=Math.min(s[i]+1,r[i+1]+1,r[i]+ +(t[o]!=e[i]));for(i=0;i<r.length;i++)r[i]=s[i]}return s[e.length]},goog.labs.userAgent.engine={},goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")},goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.getVersion=function(){var t=goog.labs.userAgent.util.getUserAgent();if(t){t=goog.labs.userAgent.util.extractVersionTuples(t);var e,r=goog.labs.userAgent.engine.getEngineTuple_(t);if(r)return r[0]=="Gecko"?goog.labs.userAgent.engine.getVersionForKey_(t,"Firefox"):r[1];if((t=t[0])&&(e=t[2])&&(e=/Trident\/([^\s;]+)/.exec(e)))return e[1]}return""},goog.labs.userAgent.engine.getEngineTuple_=function(t){if(!goog.labs.userAgent.engine.isEdge())return t[1];for(var e=0;e<t.length;e++){var r=t[e];if(r[0]=="Edge")return r}},goog.labs.userAgent.engine.isVersionOrHigher=function(t){return 0<=goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),t)},goog.labs.userAgent.engine.getVersionForKey_=function(t,e){return(t=goog.array.find(t,function(r){return e==r[0]}))&&t[1]||""},goog.labs.userAgent.platform={},goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent("Android")},goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent("iPod")},goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent("iPhone")&&!goog.labs.userAgent.util.matchUserAgent("iPod")&&!goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()},goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent("Macintosh")},goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent("Linux")},goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent("Windows")},goog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent("CrOS")},goog.labs.userAgent.platform.isChromecast=function(){return goog.labs.userAgent.util.matchUserAgent("CrKey")},goog.labs.userAgent.platform.isKaiOS=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("KaiOS")},goog.labs.userAgent.platform.getVersion=function(){var t=goog.labs.userAgent.util.getUserAgent(),e="";return goog.labs.userAgent.platform.isWindows()?e=(t=(e=/Windows (?:NT|Phone) ([0-9.]+)/).exec(t))?t[1]:"0.0":goog.labs.userAgent.platform.isIos()?e=(t=(e=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/).exec(t))&&t[1].replace(/_/g,"."):goog.labs.userAgent.platform.isMacintosh()?e=(t=(e=/Mac OS X ([0-9_.]+)/).exec(t))?t[1].replace(/_/g,"."):"10":goog.labs.userAgent.platform.isKaiOS()?e=(t=(e=/(?:KaiOS)\/(\S+)/i).exec(t))&&t[1]:goog.labs.userAgent.platform.isAndroid()?e=(t=(e=/Android\s+([^\);]+)(\)|;)/).exec(t))&&t[1]:goog.labs.userAgent.platform.isChromeOS()&&(e=(t=(e=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/).exec(t))&&t[1]),e||""},goog.labs.userAgent.platform.isVersionOrHigher=function(t){return 0<=goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),t)},goog.reflect={},goog.reflect.object=function(t,e){return e},goog.reflect.objectProperty=function(t,e){return t},goog.reflect.sinkValue=function(t){return goog.reflect.sinkValue[" "](t),t},goog.reflect.sinkValue[" "]=goog.nullFunction,goog.reflect.canAccessProperty=function(t,e){try{return goog.reflect.sinkValue(t[e]),!0}catch{}return!1},goog.reflect.cache=function(t,e,r,s){return s=s?s(e):e,Object.prototype.hasOwnProperty.call(t,s)?t[s]:t[s]=r(e)},goog.userAgent={},goog.userAgent.ASSUME_IE=!1,goog.userAgent.ASSUME_EDGE=!1,goog.userAgent.ASSUME_GECKO=!1,goog.userAgent.ASSUME_WEBKIT=!1,goog.userAgent.ASSUME_MOBILE_WEBKIT=!1,goog.userAgent.ASSUME_OPERA=!1,goog.userAgent.ASSUME_ANY_VERSION=!1,goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()},goog.userAgent.getNavigatorTyped=function(){return goog.global.navigator||null},goog.userAgent.getNavigator=function(){return goog.userAgent.getNavigatorTyped()},goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera(),goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE(),goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:goog.labs.userAgent.engine.isEdge(),goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE,goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko(),goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit(),goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")},goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_(),goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var t=goog.userAgent.getNavigatorTyped();return t&&t.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.userAgent.ASSUME_MAC=!1,goog.userAgent.ASSUME_WINDOWS=!1,goog.userAgent.ASSUME_LINUX=!1,goog.userAgent.ASSUME_X11=!1,goog.userAgent.ASSUME_ANDROID=!1,goog.userAgent.ASSUME_IPHONE=!1,goog.userAgent.ASSUME_IPAD=!1,goog.userAgent.ASSUME_IPOD=!1,goog.userAgent.ASSUME_KAIOS=!1,goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD,goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh(),goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows(),goog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()},goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_(),goog.userAgent.isX11_=function(){var t=goog.userAgent.getNavigatorTyped();return!!t&&goog.string.contains(t.appVersion||"","X11")},goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_(),goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid(),goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone(),goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.IPOD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIpod(),goog.userAgent.IOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIos(),goog.userAgent.KAIOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_KAIOS:goog.labs.userAgent.platform.isKaiOS(),goog.userAgent.determineVersion_=function(){var t="",e=goog.userAgent.getVersionRegexResult_();return e&&(t=e?e[1]:""),goog.userAgent.IE&&(e=goog.userAgent.getDocumentMode_())!=null&&e>parseFloat(t)?String(e):t},goog.userAgent.getVersionRegexResult_=function(){var t=goog.userAgent.getUserAgentString();return goog.userAgent.GECKO?/rv:([^\);]+)(\)|;)/.exec(t):goog.userAgent.EDGE?/Edge\/([\d\.]+)/.exec(t):goog.userAgent.IE?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):goog.userAgent.WEBKIT?/WebKit\/(\S+)/.exec(t):goog.userAgent.OPERA?/(?:Version)[ \/]?(\S+)/.exec(t):void 0},goog.userAgent.getDocumentMode_=function(){var t=goog.global.document;return t?t.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(t,e){return goog.string.compareVersions(t,e)},goog.userAgent.isVersionOrHigherCache_={},goog.userAgent.isVersionOrHigher=function(t){return goog.userAgent.ASSUME_ANY_VERSION||goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_,t,function(){return 0<=goog.string.compareVersions(goog.userAgent.VERSION,t)})},goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher,goog.userAgent.isDocumentModeOrHigher=function(t){return Number(goog.userAgent.DOCUMENT_MODE)>=t},goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher,goog.userAgent.DOCUMENT_MODE=function(){if(goog.global.document&&goog.userAgent.IE){var t=goog.userAgent.getDocumentMode_();return t||parseInt(goog.userAgent.VERSION,10)||void 0}}(),goog.userAgent.product={},goog.userAgent.product.ASSUME_FIREFOX=!1,goog.userAgent.product.ASSUME_IPHONE=!1,goog.userAgent.product.ASSUME_IPAD=!1,goog.userAgent.product.ASSUME_ANDROID=!1,goog.userAgent.product.ASSUME_CHROME=!1,goog.userAgent.product.ASSUME_SAFARI=!1,goog.userAgent.product.PRODUCT_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_OPERA||goog.userAgent.product.ASSUME_FIREFOX||goog.userAgent.product.ASSUME_IPHONE||goog.userAgent.product.ASSUME_IPAD||goog.userAgent.product.ASSUME_ANDROID||goog.userAgent.product.ASSUME_CHROME||goog.userAgent.product.ASSUME_SAFARI,goog.userAgent.product.OPERA=goog.userAgent.OPERA,goog.userAgent.product.IE=goog.userAgent.IE,goog.userAgent.product.EDGE=goog.userAgent.EDGE,goog.userAgent.product.FIREFOX=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_FIREFOX:goog.labs.userAgent.browser.isFirefox(),goog.userAgent.product.isIphoneOrIpod_=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpod()},goog.userAgent.product.IPHONE=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPHONE:goog.userAgent.product.isIphoneOrIpod_(),goog.userAgent.product.IPAD=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.product.ANDROID=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_ANDROID:goog.labs.userAgent.browser.isAndroidBrowser(),goog.userAgent.product.CHROME=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_CHROME:goog.labs.userAgent.browser.isChrome(),goog.userAgent.product.isSafariDesktop_=function(){return goog.labs.userAgent.browser.isSafari()&&!goog.labs.userAgent.platform.isIos()},goog.userAgent.product.SAFARI=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_SAFARI:goog.userAgent.product.isSafariDesktop_(),goog.crypt.base64={},goog.crypt.base64.DEFAULT_ALPHABET_COMMON_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",goog.crypt.base64.ENCODED_VALS=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"+/=",goog.crypt.base64.ENCODED_VALS_WEBSAFE=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"-_.",goog.crypt.base64.Alphabet={DEFAULT:0,NO_PADDING:1,WEBSAFE:2,WEBSAFE_DOT_PADDING:3,WEBSAFE_NO_PADDING:4},goog.crypt.base64.paddingChars_="=.",goog.crypt.base64.isPadding_=function(t){return goog.string.contains(goog.crypt.base64.paddingChars_,t)},goog.crypt.base64.byteToCharMaps_={},goog.crypt.base64.charToByteMap_=null,goog.crypt.base64.ASSUME_NATIVE_SUPPORT_=goog.userAgent.GECKO||goog.userAgent.WEBKIT&&!goog.userAgent.product.SAFARI||goog.userAgent.OPERA,goog.crypt.base64.HAS_NATIVE_ENCODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||typeof goog.global.btoa=="function",goog.crypt.base64.HAS_NATIVE_DECODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||!goog.userAgent.product.SAFARI&&!goog.userAgent.IE&&typeof goog.global.atob=="function",goog.crypt.base64.encodeByteArray=function(t,e){goog.asserts.assert(goog.isArrayLike(t),"encodeByteArray takes an array as a parameter"),e===void 0&&(e=goog.crypt.base64.Alphabet.DEFAULT),goog.crypt.base64.init_(),e=goog.crypt.base64.byteToCharMaps_[e];for(var r=[],s=0;s<t.length;s+=3){var o=t[s],i=s+1<t.length,n=i?t[s+1]:0,p=s+2<t.length,d=p?t[s+2]:0,l=o>>2;o=(3&o)<<4|n>>4,n=(15&n)<<2|d>>6,d&=63,p||(d=64,i||(n=64)),r.push(e[l],e[o],e[n]||"",e[d]||"")}return r.join("")},goog.crypt.base64.encodeString=function(t,e){return goog.crypt.base64.HAS_NATIVE_ENCODE_&&!e?goog.global.btoa(t):goog.crypt.base64.encodeByteArray(goog.crypt.stringToByteArray(t),e)},goog.crypt.base64.decodeString=function(t,e){if(goog.crypt.base64.HAS_NATIVE_DECODE_&&!e)return goog.global.atob(t);var r="";return goog.crypt.base64.decodeStringInternal_(t,function(s){r+=String.fromCharCode(s)}),r},goog.crypt.base64.decodeStringToByteArray=function(t,e){var r=[];return goog.crypt.base64.decodeStringInternal_(t,function(s){r.push(s)}),r},goog.crypt.base64.decodeStringToUint8Array=function(t){goog.asserts.assert(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10"),"Browser does not support typed arrays");var e=t.length,r=3*e/4;r%3?r=Math.floor(r):goog.crypt.base64.isPadding_(t[e-1])&&(r=goog.crypt.base64.isPadding_(t[e-2])?r-2:r-1);var s=new Uint8Array(r),o=0;return goog.crypt.base64.decodeStringInternal_(t,function(i){s[o++]=i}),s.subarray(0,o)},goog.crypt.base64.decodeStringInternal_=function(t,e){function r(d){for(;s<t.length;){var l=t.charAt(s++),u=goog.crypt.base64.charToByteMap_[l];if(u!=null)return u;if(!goog.string.isEmptyOrWhitespace(l))throw Error("Unknown base64 encoding at char: "+l)}return d}goog.crypt.base64.init_();for(var s=0;;){var o=r(-1),i=r(0),n=r(64),p=r(64);if(p===64&&o===-1)break;e(o<<2|i>>4),n!=64&&(e(i<<4&240|n>>2),p!=64&&e(n<<6&192|p))}},goog.crypt.base64.init_=function(){if(!goog.crypt.base64.charToByteMap_){goog.crypt.base64.charToByteMap_={};for(var t=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_.split(""),e=["+/=","+/","-_=","-_.","-_"],r=0;5>r;r++){var s=t.concat(e[r].split(""));goog.crypt.base64.byteToCharMaps_[r]=s;for(var o=0;o<s.length;o++){var i=s[o],n=goog.crypt.base64.charToByteMap_[i];n===void 0?goog.crypt.base64.charToByteMap_[i]=o:goog.asserts.assert(n===o)}}}},jspb.utils={},jspb.utils.split64Low=0,jspb.utils.split64High=0,jspb.utils.splitUint64=function(t){var e=t>>>0;t=Math.floor((t-e)/jspb.BinaryConstants.TWO_TO_32)>>>0,jspb.utils.split64Low=e,jspb.utils.split64High=t},jspb.utils.splitInt64=function(t){var e=0>t,r=(t=Math.abs(t))>>>0;t=Math.floor((t-r)/jspb.BinaryConstants.TWO_TO_32),t>>>=0,e&&(t=~t>>>0,4294967295<(r=1+(~r>>>0))&&(r=0,4294967295<++t&&(t=0))),jspb.utils.split64Low=r,jspb.utils.split64High=t},jspb.utils.splitZigzag64=function(t){var e=0>t;t=2*Math.abs(t),jspb.utils.splitUint64(t),t=jspb.utils.split64Low;var r=jspb.utils.split64High;e&&(t==0?r==0?r=t=4294967295:(r--,t=4294967295):t--),jspb.utils.split64Low=t,jspb.utils.split64High=r},jspb.utils.splitFloat32=function(t){var e=0>t?1:0;if((t=e?-t:t)===0)0<1/t?(jspb.utils.split64High=0,jspb.utils.split64Low=0):(jspb.utils.split64High=0,jspb.utils.split64Low=2147483648);else if(isNaN(t))jspb.utils.split64High=0,jspb.utils.split64Low=2147483647;else if(t>jspb.BinaryConstants.FLOAT32_MAX)jspb.utils.split64High=0,jspb.utils.split64Low=(e<<31|2139095040)>>>0;else if(t<jspb.BinaryConstants.FLOAT32_MIN)t=Math.round(t/Math.pow(2,-149)),jspb.utils.split64High=0,jspb.utils.split64Low=(e<<31|t)>>>0;else{var r=Math.floor(Math.log(t)/Math.LN2);t*=Math.pow(2,-r),16777216<=(t=Math.round(t*jspb.BinaryConstants.TWO_TO_23))&&++r,jspb.utils.split64High=0,jspb.utils.split64Low=(e<<31|r+127<<23|8388607&t)>>>0}},jspb.utils.splitFloat64=function(t){var e=0>t?1:0;if((t=e?-t:t)===0)jspb.utils.split64High=0<1/t?0:2147483648,jspb.utils.split64Low=0;else if(isNaN(t))jspb.utils.split64High=2147483647,jspb.utils.split64Low=4294967295;else if(t>jspb.BinaryConstants.FLOAT64_MAX)jspb.utils.split64High=(e<<31|2146435072)>>>0,jspb.utils.split64Low=0;else if(t<jspb.BinaryConstants.FLOAT64_MIN){var r=t/Math.pow(2,-1074);t=r/jspb.BinaryConstants.TWO_TO_32,jspb.utils.split64High=(e<<31|t)>>>0,jspb.utils.split64Low=r>>>0}else{var s=0;if(2<=(r=t))for(;2<=r&&1023>s;)s++,r/=2;else for(;1>r&&-1022<s;)r*=2,s--;t=(r=t*Math.pow(2,-s))*jspb.BinaryConstants.TWO_TO_20&1048575,r=r*jspb.BinaryConstants.TWO_TO_52>>>0,jspb.utils.split64High=(e<<31|s+1023<<20|t)>>>0,jspb.utils.split64Low=r}},jspb.utils.splitHash64=function(t){var e=t.charCodeAt(0),r=t.charCodeAt(1),s=t.charCodeAt(2),o=t.charCodeAt(3),i=t.charCodeAt(4),n=t.charCodeAt(5),p=t.charCodeAt(6);t=t.charCodeAt(7),jspb.utils.split64Low=e+(r<<8)+(s<<16)+(o<<24)>>>0,jspb.utils.split64High=i+(n<<8)+(p<<16)+(t<<24)>>>0},jspb.utils.joinUint64=function(t,e){return e*jspb.BinaryConstants.TWO_TO_32+(t>>>0)},jspb.utils.joinInt64=function(t,e){var r=2147483648&e;return r&&(e=~e>>>0,(t=1+~t>>>0)==0&&(e=e+1>>>0)),t=jspb.utils.joinUint64(t,e),r?-t:t},jspb.utils.toZigzag64=function(t,e,r){var s=e>>31;return r(t<<1^s,(e<<1|t>>>31)^s)},jspb.utils.joinZigzag64=function(t,e){return jspb.utils.fromZigzag64(t,e,jspb.utils.joinInt64)},jspb.utils.fromZigzag64=function(t,e,r){var s=-(1&t);return r((t>>>1|e<<31)^s,e>>>1^s)},jspb.utils.joinFloat32=function(t,e){e=2*(t>>31)+1;var r=t>>>23&255;return t&=8388607,r==255?t?NaN:1/0*e:r==0?e*Math.pow(2,-149)*t:e*Math.pow(2,r-150)*(t+Math.pow(2,23))},jspb.utils.joinFloat64=function(t,e){var r=2*(e>>31)+1,s=e>>>20&2047;return t=jspb.BinaryConstants.TWO_TO_32*(1048575&e)+t,s==2047?t?NaN:1/0*r:s==0?r*Math.pow(2,-1074)*t:r*Math.pow(2,s-1075)*(t+jspb.BinaryConstants.TWO_TO_52)},jspb.utils.joinHash64=function(t,e){return String.fromCharCode(t>>>0&255,t>>>8&255,t>>>16&255,t>>>24&255,e>>>0&255,e>>>8&255,e>>>16&255,e>>>24&255)},jspb.utils.DIGITS="0123456789abcdef".split(""),jspb.utils.ZERO_CHAR_CODE_=48,jspb.utils.A_CHAR_CODE_=97,jspb.utils.joinUnsignedDecimalString=function(t,e){function r(o,i){return o=o?String(o):"",i?"0000000".slice(o.length)+o:o}if(2097151>=e)return""+jspb.utils.joinUint64(t,e);var s=(t>>>24|e<<8)>>>0&16777215;return t=(16777215&t)+6777216*s+6710656*(e=e>>16&65535),s+=8147497*e,e*=2,1e7<=t&&(s+=Math.floor(t/1e7),t%=1e7),1e7<=s&&(e+=Math.floor(s/1e7),s%=1e7),r(e,0)+r(s,e)+r(t,1)},jspb.utils.joinSignedDecimalString=function(t,e){var r=2147483648&e;return r&&(e=~e+((t=1+~t>>>0)==0?1:0)>>>0),t=jspb.utils.joinUnsignedDecimalString(t,e),r?"-"+t:t},jspb.utils.hash64ToDecimalString=function(t,e){jspb.utils.splitHash64(t),t=jspb.utils.split64Low;var r=jspb.utils.split64High;return e?jspb.utils.joinSignedDecimalString(t,r):jspb.utils.joinUnsignedDecimalString(t,r)},jspb.utils.hash64ArrayToDecimalStrings=function(t,e){for(var r=Array(t.length),s=0;s<t.length;s++)r[s]=jspb.utils.hash64ToDecimalString(t[s],e);return r},jspb.utils.decimalStringToHash64=function(t){function e(i,n){for(var p=0;8>p&&(i!==1||0<n);p++)n=i*s[p]+n,s[p]=255&n,n>>>=8}jspb.asserts.assert(0<t.length);var r=!1;t[0]==="-"&&(r=!0,t=t.slice(1));for(var s=[0,0,0,0,0,0,0,0],o=0;o<t.length;o++)e(10,t.charCodeAt(o)-jspb.utils.ZERO_CHAR_CODE_);return r&&(function(){for(var i=0;8>i;i++)s[i]=255&~s[i]}(),e(1,1)),goog.crypt.byteArrayToString(s)},jspb.utils.splitDecimalString=function(t){jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(t))},jspb.utils.toHexDigit_=function(t){return String.fromCharCode(10>t?jspb.utils.ZERO_CHAR_CODE_+t:jspb.utils.A_CHAR_CODE_-10+t)},jspb.utils.fromHexCharCode_=function(t){return t>=jspb.utils.A_CHAR_CODE_?t-jspb.utils.A_CHAR_CODE_+10:t-jspb.utils.ZERO_CHAR_CODE_},jspb.utils.hash64ToHexString=function(t){var e=Array(18);e[0]="0",e[1]="x";for(var r=0;8>r;r++){var s=t.charCodeAt(7-r);e[2*r+2]=jspb.utils.toHexDigit_(s>>4),e[2*r+3]=jspb.utils.toHexDigit_(15&s)}return e.join("")},jspb.utils.hexStringToHash64=function(t){t=t.toLowerCase(),jspb.asserts.assert(t.length==18),jspb.asserts.assert(t[0]=="0"),jspb.asserts.assert(t[1]=="x");for(var e="",r=0;8>r;r++){var s=jspb.utils.fromHexCharCode_(t.charCodeAt(2*r+2)),o=jspb.utils.fromHexCharCode_(t.charCodeAt(2*r+3));e=String.fromCharCode(16*s+o)+e}return e},jspb.utils.hash64ToNumber=function(t,e){jspb.utils.splitHash64(t),t=jspb.utils.split64Low;var r=jspb.utils.split64High;return e?jspb.utils.joinInt64(t,r):jspb.utils.joinUint64(t,r)},jspb.utils.numberToHash64=function(t){return jspb.utils.splitInt64(t),jspb.utils.joinHash64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.utils.countVarints=function(t,e,r){for(var s=0,o=e;o<r;o++)s+=t[o]>>7;return r-e-s},jspb.utils.countVarintFields=function(t,e,r,s){var o=0;if(128>(s=8*s+jspb.BinaryConstants.WireType.VARINT))for(;e<r&&t[e++]==s;)for(o++;;){var i=t[e++];if(!(128&i))break}else for(;e<r;){for(i=s;128<i;){if(t[e]!=(127&i|128))return o;e++,i>>=7}if(t[e++]!=i)break;for(o++;128&(i=t[e++]););}return o},jspb.utils.countFixedFields_=function(t,e,r,s,o){var i=0;if(128>s)for(;e<r&&t[e++]==s;)i++,e+=o;else for(;e<r;){for(var n=s;128<n;){if(t[e++]!=(127&n|128))return i;n>>=7}if(t[e++]!=n)break;i++,e+=o}return i},jspb.utils.countFixed32Fields=function(t,e,r,s){return jspb.utils.countFixedFields_(t,e,r,8*s+jspb.BinaryConstants.WireType.FIXED32,4)},jspb.utils.countFixed64Fields=function(t,e,r,s){return jspb.utils.countFixedFields_(t,e,r,8*s+jspb.BinaryConstants.WireType.FIXED64,8)},jspb.utils.countDelimitedFields=function(t,e,r,s){var o=0;for(s=8*s+jspb.BinaryConstants.WireType.DELIMITED;e<r;){for(var i=s;128<i;){if(t[e++]!=(127&i|128))return o;i>>=7}if(t[e++]!=i)break;o++;for(var n=0,p=1;n+=(127&(i=t[e++]))*p,p*=128,(128&i)!=0;);e+=n}return o},jspb.utils.debugBytesToTextFormat=function(t){var e='"';if(t){t=jspb.utils.byteSourceToUint8Array(t);for(var r=0;r<t.length;r++)e+="\\x",16>t[r]&&(e+="0"),e+=t[r].toString(16)}return e+'"'},jspb.utils.debugScalarToTextFormat=function(t){return typeof t=="string"?goog.string.quote(t):t.toString()},jspb.utils.stringToByteArray=function(t){for(var e=new Uint8Array(t.length),r=0;r<t.length;r++){var s=t.charCodeAt(r);if(255<s)throw Error("Conversion error: string contains codepoint outside of byte range");e[r]=s}return e},jspb.utils.byteSourceToUint8Array=function(t){return t.constructor===Uint8Array?t:t.constructor===ArrayBuffer||t.constructor===Array?new Uint8Array(t):t.constructor===String?goog.crypt.base64.decodeStringToUint8Array(t):t instanceof Uint8Array?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):(jspb.asserts.fail("Type not convertible to Uint8Array."),new Uint8Array(0))},jspb.BinaryDecoder=function(t,e,r){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1,t&&this.setBlock(t,e,r)},jspb.BinaryDecoder.instanceCache_=[],jspb.BinaryDecoder.alloc=function(t,e,r){if(jspb.BinaryDecoder.instanceCache_.length){var s=jspb.BinaryDecoder.instanceCache_.pop();return t&&s.setBlock(t,e,r),s}return new jspb.BinaryDecoder(t,e,r)},jspb.BinaryDecoder.prototype.free=function(){this.clear(),100>jspb.BinaryDecoder.instanceCache_.length&&jspb.BinaryDecoder.instanceCache_.push(this)},jspb.BinaryDecoder.prototype.clone=function(){return jspb.BinaryDecoder.alloc(this.bytes_,this.start_,this.end_-this.start_)},jspb.BinaryDecoder.prototype.clear=function(){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1},jspb.BinaryDecoder.prototype.getBuffer=function(){return this.bytes_},jspb.BinaryDecoder.prototype.setBlock=function(t,e,r){this.bytes_=jspb.utils.byteSourceToUint8Array(t),this.start_=e!==void 0?e:0,this.end_=r!==void 0?this.start_+r:this.bytes_.length,this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getEnd=function(){return this.end_},jspb.BinaryDecoder.prototype.setEnd=function(t){this.end_=t},jspb.BinaryDecoder.prototype.reset=function(){this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getCursor=function(){return this.cursor_},jspb.BinaryDecoder.prototype.setCursor=function(t){this.cursor_=t},jspb.BinaryDecoder.prototype.advance=function(t){this.cursor_+=t,jspb.asserts.assert(this.cursor_<=this.end_)},jspb.BinaryDecoder.prototype.atEnd=function(){return this.cursor_==this.end_},jspb.BinaryDecoder.prototype.pastEnd=function(){return this.cursor_>this.end_},jspb.BinaryDecoder.prototype.getError=function(){return this.error_||0>this.cursor_||this.cursor_>this.end_},jspb.BinaryDecoder.prototype.readSplitVarint64=function(t){for(var e=128,r=0,s=0,o=0;4>o&&128<=e;o++)r|=(127&(e=this.bytes_[this.cursor_++]))<<7*o;if(128<=e&&(r|=(127&(e=this.bytes_[this.cursor_++]))<<28,s|=(127&e)>>4),128<=e)for(o=0;5>o&&128<=e;o++)s|=(127&(e=this.bytes_[this.cursor_++]))<<7*o+3;if(128>e)return t(r>>>0,s>>>0);jspb.asserts.fail("Failed to read varint, encoding is invalid."),this.error_=!0},jspb.BinaryDecoder.prototype.readSplitZigzagVarint64=function(t){return this.readSplitVarint64(function(e,r){return jspb.utils.fromZigzag64(e,r,t)})},jspb.BinaryDecoder.prototype.readSplitFixed64=function(t){var e=this.bytes_,r=this.cursor_;this.cursor_+=8;for(var s=0,o=0,i=r+7;i>=r;i--)s=s<<8|e[i],o=o<<8|e[i+4];return t(s,o)},jspb.BinaryDecoder.prototype.skipVarint=function(){for(;128&this.bytes_[this.cursor_];)this.cursor_++;this.cursor_++},jspb.BinaryDecoder.prototype.unskipVarint=function(t){for(;128<t;)this.cursor_--,t>>>=7;this.cursor_--},jspb.BinaryDecoder.prototype.readUnsignedVarint32=function(){var t=this.bytes_,e=t[this.cursor_+0],r=127&e;return 128>e?(this.cursor_+=1,jspb.asserts.assert(this.cursor_<=this.end_),r):(r|=(127&(e=t[this.cursor_+1]))<<7,128>e?(this.cursor_+=2,jspb.asserts.assert(this.cursor_<=this.end_),r):(r|=(127&(e=t[this.cursor_+2]))<<14,128>e?(this.cursor_+=3,jspb.asserts.assert(this.cursor_<=this.end_),r):(r|=(127&(e=t[this.cursor_+3]))<<21,128>e?(this.cursor_+=4,jspb.asserts.assert(this.cursor_<=this.end_),r):(r|=(15&(e=t[this.cursor_+4]))<<28,128>e?(this.cursor_+=5,jspb.asserts.assert(this.cursor_<=this.end_),r>>>0):(this.cursor_+=5,128<=t[this.cursor_++]&&128<=t[this.cursor_++]&&128<=t[this.cursor_++]&&128<=t[this.cursor_++]&&128<=t[this.cursor_++]&&jspb.asserts.assert(!1),jspb.asserts.assert(this.cursor_<=this.end_),r)))))},jspb.BinaryDecoder.prototype.readSignedVarint32=function(){return~~this.readUnsignedVarint32()},jspb.BinaryDecoder.prototype.readUnsignedVarint32String=function(){return this.readUnsignedVarint32().toString()},jspb.BinaryDecoder.prototype.readSignedVarint32String=function(){return this.readSignedVarint32().toString()},jspb.BinaryDecoder.prototype.readZigzagVarint32=function(){var t=this.readUnsignedVarint32();return t>>>1^-(1&t)},jspb.BinaryDecoder.prototype.readUnsignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinUint64)},jspb.BinaryDecoder.prototype.readUnsignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinUnsignedDecimalString)},jspb.BinaryDecoder.prototype.readSignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinInt64)},jspb.BinaryDecoder.prototype.readSignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readZigzagVarint64=function(){return this.readSplitVarint64(jspb.utils.joinZigzag64)},jspb.BinaryDecoder.prototype.readZigzagVarintHash64=function(){return this.readSplitZigzagVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readZigzagVarint64String=function(){return this.readSplitZigzagVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readUint8=function(){var t=this.bytes_[this.cursor_+0];return this.cursor_+=1,jspb.asserts.assert(this.cursor_<=this.end_),t},jspb.BinaryDecoder.prototype.readUint16=function(){var t=this.bytes_[this.cursor_+0],e=this.bytes_[this.cursor_+1];return this.cursor_+=2,jspb.asserts.assert(this.cursor_<=this.end_),t<<0|e<<8},jspb.BinaryDecoder.prototype.readUint32=function(){var t=this.bytes_[this.cursor_+0],e=this.bytes_[this.cursor_+1],r=this.bytes_[this.cursor_+2],s=this.bytes_[this.cursor_+3];return this.cursor_+=4,jspb.asserts.assert(this.cursor_<=this.end_),(t<<0|e<<8|r<<16|s<<24)>>>0},jspb.BinaryDecoder.prototype.readUint64=function(){var t=this.readUint32(),e=this.readUint32();return jspb.utils.joinUint64(t,e)},jspb.BinaryDecoder.prototype.readUint64String=function(){var t=this.readUint32(),e=this.readUint32();return jspb.utils.joinUnsignedDecimalString(t,e)},jspb.BinaryDecoder.prototype.readInt8=function(){var t=this.bytes_[this.cursor_+0];return this.cursor_+=1,jspb.asserts.assert(this.cursor_<=this.end_),t<<24>>24},jspb.BinaryDecoder.prototype.readInt16=function(){var t=this.bytes_[this.cursor_+0],e=this.bytes_[this.cursor_+1];return this.cursor_+=2,jspb.asserts.assert(this.cursor_<=this.end_),(t<<0|e<<8)<<16>>16},jspb.BinaryDecoder.prototype.readInt32=function(){var t=this.bytes_[this.cursor_+0],e=this.bytes_[this.cursor_+1],r=this.bytes_[this.cursor_+2],s=this.bytes_[this.cursor_+3];return this.cursor_+=4,jspb.asserts.assert(this.cursor_<=this.end_),t<<0|e<<8|r<<16|s<<24},jspb.BinaryDecoder.prototype.readInt64=function(){var t=this.readUint32(),e=this.readUint32();return jspb.utils.joinInt64(t,e)},jspb.BinaryDecoder.prototype.readInt64String=function(){var t=this.readUint32(),e=this.readUint32();return jspb.utils.joinSignedDecimalString(t,e)},jspb.BinaryDecoder.prototype.readFloat=function(){var t=this.readUint32();return jspb.utils.joinFloat32(t,0)},jspb.BinaryDecoder.prototype.readDouble=function(){var t=this.readUint32(),e=this.readUint32();return jspb.utils.joinFloat64(t,e)},jspb.BinaryDecoder.prototype.readBool=function(){return!!this.bytes_[this.cursor_++]},jspb.BinaryDecoder.prototype.readEnum=function(){return this.readSignedVarint32()},jspb.BinaryDecoder.prototype.readString=function(t){var e=this.bytes_,r=this.cursor_;t=r+t;for(var s=[],o="";r<t;){var i=e[r++];if(128>i)s.push(i);else{if(192>i)continue;if(224>i){var n=e[r++];s.push((31&i)<<6|63&n)}else if(240>i){n=e[r++];var p=e[r++];s.push((15&i)<<12|(63&n)<<6|63&p)}else 248>i&&(i=(7&i)<<18|(63&(n=e[r++]))<<12|(63&(p=e[r++]))<<6|63&e[r++],i-=65536,s.push(55296+(i>>10&1023),56320+(1023&i)))}8192<=s.length&&(o+=String.fromCharCode.apply(null,s),s.length=0)}return o+=goog.crypt.byteArrayToString(s),this.cursor_=r,o},jspb.BinaryDecoder.prototype.readStringWithLength=function(){var t=this.readUnsignedVarint32();return this.readString(t)},jspb.BinaryDecoder.prototype.readBytes=function(t){if(0>t||this.cursor_+t>this.bytes_.length)return this.error_=!0,jspb.asserts.fail("Invalid byte length!"),new Uint8Array(0);var e=this.bytes_.subarray(this.cursor_,this.cursor_+t);return this.cursor_+=t,jspb.asserts.assert(this.cursor_<=this.end_),e},jspb.BinaryDecoder.prototype.readVarintHash64=function(){return this.readSplitVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readFixedHash64=function(){var t=this.bytes_,e=this.cursor_,r=t[e+0],s=t[e+1],o=t[e+2],i=t[e+3],n=t[e+4],p=t[e+5],d=t[e+6];return t=t[e+7],this.cursor_+=8,String.fromCharCode(r,s,o,i,n,p,d,t)},jspb.BinaryReader=function(t,e,r){this.decoder_=jspb.BinaryDecoder.alloc(t,e,r),this.fieldCursor_=this.decoder_.getCursor(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null},jspb.BinaryReader.instanceCache_=[],jspb.BinaryReader.alloc=function(t,e,r){if(jspb.BinaryReader.instanceCache_.length){var s=jspb.BinaryReader.instanceCache_.pop();return t&&s.decoder_.setBlock(t,e,r),s}return new jspb.BinaryReader(t,e,r)},jspb.BinaryReader.prototype.alloc=jspb.BinaryReader.alloc,jspb.BinaryReader.prototype.free=function(){this.decoder_.clear(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null,100>jspb.BinaryReader.instanceCache_.length&&jspb.BinaryReader.instanceCache_.push(this)},jspb.BinaryReader.prototype.getFieldCursor=function(){return this.fieldCursor_},jspb.BinaryReader.prototype.getCursor=function(){return this.decoder_.getCursor()},jspb.BinaryReader.prototype.getBuffer=function(){return this.decoder_.getBuffer()},jspb.BinaryReader.prototype.getFieldNumber=function(){return this.nextField_},goog.exportProperty(jspb.BinaryReader.prototype,"getFieldNumber",jspb.BinaryReader.prototype.getFieldNumber),jspb.BinaryReader.prototype.getWireType=function(){return this.nextWireType_},jspb.BinaryReader.prototype.isDelimited=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED},goog.exportProperty(jspb.BinaryReader.prototype,"isDelimited",jspb.BinaryReader.prototype.isDelimited),jspb.BinaryReader.prototype.isEndGroup=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP},goog.exportProperty(jspb.BinaryReader.prototype,"isEndGroup",jspb.BinaryReader.prototype.isEndGroup),jspb.BinaryReader.prototype.getError=function(){return this.error_||this.decoder_.getError()},jspb.BinaryReader.prototype.setBlock=function(t,e,r){this.decoder_.setBlock(t,e,r),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.reset=function(){this.decoder_.reset(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.advance=function(t){this.decoder_.advance(t)},jspb.BinaryReader.prototype.nextField=function(){if(this.decoder_.atEnd())return!1;if(this.getError())return jspb.asserts.fail("Decoder hit an error"),!1;this.fieldCursor_=this.decoder_.getCursor();var t=this.decoder_.readUnsignedVarint32(),e=t>>>3;return(t&=7)!=jspb.BinaryConstants.WireType.VARINT&&t!=jspb.BinaryConstants.WireType.FIXED32&&t!=jspb.BinaryConstants.WireType.FIXED64&&t!=jspb.BinaryConstants.WireType.DELIMITED&&t!=jspb.BinaryConstants.WireType.START_GROUP&&t!=jspb.BinaryConstants.WireType.END_GROUP?(jspb.asserts.fail("Invalid wire type: %s (at position %s)",t,this.fieldCursor_),this.error_=!0,!1):(this.nextField_=e,this.nextWireType_=t,!0)},goog.exportProperty(jspb.BinaryReader.prototype,"nextField",jspb.BinaryReader.prototype.nextField),jspb.BinaryReader.prototype.unskipHeader=function(){this.decoder_.unskipVarint(this.nextField_<<3|this.nextWireType_)},jspb.BinaryReader.prototype.skipMatchingFields=function(){var t=this.nextField_;for(this.unskipHeader();this.nextField()&&this.getFieldNumber()==t;)this.skipField();this.decoder_.atEnd()||this.unskipHeader()},jspb.BinaryReader.prototype.skipVarintField=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.VARINT?(jspb.asserts.fail("Invalid wire type for skipVarintField"),this.skipField()):this.decoder_.skipVarint()},jspb.BinaryReader.prototype.skipDelimitedField=function(){if(this.nextWireType_!=jspb.BinaryConstants.WireType.DELIMITED)jspb.asserts.fail("Invalid wire type for skipDelimitedField"),this.skipField();else{var t=this.decoder_.readUnsignedVarint32();this.decoder_.advance(t)}},jspb.BinaryReader.prototype.skipFixed32Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED32?(jspb.asserts.fail("Invalid wire type for skipFixed32Field"),this.skipField()):this.decoder_.advance(4)},jspb.BinaryReader.prototype.skipFixed64Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED64?(jspb.asserts.fail("Invalid wire type for skipFixed64Field"),this.skipField()):this.decoder_.advance(8)},jspb.BinaryReader.prototype.skipGroup=function(){for(var t=this.nextField_;;){if(!this.nextField()){jspb.asserts.fail("Unmatched start-group tag: stream EOF"),this.error_=!0;break}if(this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP){this.nextField_!=t&&(jspb.asserts.fail("Unmatched end-group tag"),this.error_=!0);break}this.skipField()}},jspb.BinaryReader.prototype.skipField=function(){switch(this.nextWireType_){case jspb.BinaryConstants.WireType.VARINT:this.skipVarintField();break;case jspb.BinaryConstants.WireType.FIXED64:this.skipFixed64Field();break;case jspb.BinaryConstants.WireType.DELIMITED:this.skipDelimitedField();break;case jspb.BinaryConstants.WireType.FIXED32:this.skipFixed32Field();break;case jspb.BinaryConstants.WireType.START_GROUP:this.skipGroup();break;default:jspb.asserts.fail("Invalid wire encoding for field.")}},jspb.BinaryReader.prototype.registerReadCallback=function(t,e){this.readCallbacks_===null&&(this.readCallbacks_={}),jspb.asserts.assert(!this.readCallbacks_[t]),this.readCallbacks_[t]=e},jspb.BinaryReader.prototype.runReadCallback=function(t){return jspb.asserts.assert(this.readCallbacks_!==null),t=this.readCallbacks_[t],jspb.asserts.assert(t),t(this)},jspb.BinaryReader.prototype.readAny=function(t){this.nextWireType_=jspb.BinaryConstants.FieldTypeToWireType(t);var e=jspb.BinaryConstants.FieldType;switch(t){case e.DOUBLE:return this.readDouble();case e.FLOAT:return this.readFloat();case e.INT64:return this.readInt64();case e.UINT64:return this.readUint64();case e.INT32:return this.readInt32();case e.FIXED64:return this.readFixed64();case e.FIXED32:return this.readFixed32();case e.BOOL:return this.readBool();case e.STRING:return this.readString();case e.GROUP:jspb.asserts.fail("Group field type not supported in readAny()");case e.MESSAGE:jspb.asserts.fail("Message field type not supported in readAny()");case e.BYTES:return this.readBytes();case e.UINT32:return this.readUint32();case e.ENUM:return this.readEnum();case e.SFIXED32:return this.readSfixed32();case e.SFIXED64:return this.readSfixed64();case e.SINT32:return this.readSint32();case e.SINT64:return this.readSint64();case e.FHASH64:return this.readFixedHash64();case e.VHASH64:return this.readVarintHash64();default:jspb.asserts.fail("Invalid field type in readAny()")}return 0},jspb.BinaryReader.prototype.readMessage=function(t,e){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var r=this.decoder_.getEnd(),s=this.decoder_.readUnsignedVarint32();s=this.decoder_.getCursor()+s,this.decoder_.setEnd(s),e(t,this),this.decoder_.setCursor(s),this.decoder_.setEnd(r)},goog.exportProperty(jspb.BinaryReader.prototype,"readMessage",jspb.BinaryReader.prototype.readMessage),jspb.BinaryReader.prototype.readGroup=function(t,e,r){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.START_GROUP),jspb.asserts.assert(this.nextField_==t),r(e,this),this.error_||this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP||(jspb.asserts.fail("Group submessage did not end with an END_GROUP tag"),this.error_=!0)},goog.exportProperty(jspb.BinaryReader.prototype,"readGroup",jspb.BinaryReader.prototype.readGroup),jspb.BinaryReader.prototype.getFieldDecoder=function(){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var t=this.decoder_.readUnsignedVarint32(),e=this.decoder_.getCursor(),r=e+t;return t=jspb.BinaryDecoder.alloc(this.decoder_.getBuffer(),e,t),this.decoder_.setCursor(r),t},jspb.BinaryReader.prototype.readInt32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readInt32",jspb.BinaryReader.prototype.readInt32),jspb.BinaryReader.prototype.readInt32String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32String()},jspb.BinaryReader.prototype.readInt64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readInt64",jspb.BinaryReader.prototype.readInt64),jspb.BinaryReader.prototype.readInt64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64String()},jspb.BinaryReader.prototype.readUint32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readUint32",jspb.BinaryReader.prototype.readUint32),jspb.BinaryReader.prototype.readUint32String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32String()},jspb.BinaryReader.prototype.readUint64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readUint64",jspb.BinaryReader.prototype.readUint64),jspb.BinaryReader.prototype.readUint64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64String()},jspb.BinaryReader.prototype.readSint32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readSint32",jspb.BinaryReader.prototype.readSint32),jspb.BinaryReader.prototype.readSint64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readSint64",jspb.BinaryReader.prototype.readSint64),jspb.BinaryReader.prototype.readSint64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64String()},jspb.BinaryReader.prototype.readFixed32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readUint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readFixed32",jspb.BinaryReader.prototype.readFixed32),jspb.BinaryReader.prototype.readFixed64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readFixed64",jspb.BinaryReader.prototype.readFixed64),jspb.BinaryReader.prototype.readFixed64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64String()},jspb.BinaryReader.prototype.readSfixed32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32()},goog.exportProperty(jspb.BinaryReader.prototype,"readSfixed32",jspb.BinaryReader.prototype.readSfixed32),jspb.BinaryReader.prototype.readSfixed32String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32().toString()},jspb.BinaryReader.prototype.readSfixed64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64()},goog.exportProperty(jspb.BinaryReader.prototype,"readSfixed64",jspb.BinaryReader.prototype.readSfixed64),jspb.BinaryReader.prototype.readSfixed64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64String()},jspb.BinaryReader.prototype.readFloat=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readFloat()},goog.exportProperty(jspb.BinaryReader.prototype,"readFloat",jspb.BinaryReader.prototype.readFloat),jspb.BinaryReader.prototype.readDouble=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readDouble()},goog.exportProperty(jspb.BinaryReader.prototype,"readDouble",jspb.BinaryReader.prototype.readDouble),jspb.BinaryReader.prototype.readBool=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),!!this.decoder_.readUnsignedVarint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readBool",jspb.BinaryReader.prototype.readBool),jspb.BinaryReader.prototype.readEnum=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readEnum",jspb.BinaryReader.prototype.readEnum),jspb.BinaryReader.prototype.readString=function(){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var t=this.decoder_.readUnsignedVarint32();return this.decoder_.readString(t)},goog.exportProperty(jspb.BinaryReader.prototype,"readString",jspb.BinaryReader.prototype.readString),jspb.BinaryReader.prototype.readBytes=function(){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var t=this.decoder_.readUnsignedVarint32();return this.decoder_.readBytes(t)},goog.exportProperty(jspb.BinaryReader.prototype,"readBytes",jspb.BinaryReader.prototype.readBytes),jspb.BinaryReader.prototype.readVarintHash64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readVarintHash64()},jspb.BinaryReader.prototype.readSintHash64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarintHash64()},jspb.BinaryReader.prototype.readSplitVarint64=function(t){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(t)},jspb.BinaryReader.prototype.readSplitZigzagVarint64=function(t){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(function(e,r){return jspb.utils.fromZigzag64(e,r,t)})},jspb.BinaryReader.prototype.readFixedHash64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readFixedHash64()},jspb.BinaryReader.prototype.readSplitFixed64=function(t){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readSplitFixed64(t)},jspb.BinaryReader.prototype.readPackedField_=function(t){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32();e=this.decoder_.getCursor()+e;for(var r=[];this.decoder_.getCursor()<e;)r.push(t.call(this.decoder_));return r},jspb.BinaryReader.prototype.readPackedInt32=function(){return this.readPackedField_(this.decoder_.readSignedVarint32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedInt32",jspb.BinaryReader.prototype.readPackedInt32),jspb.BinaryReader.prototype.readPackedInt32String=function(){return this.readPackedField_(this.decoder_.readSignedVarint32String)},jspb.BinaryReader.prototype.readPackedInt64=function(){return this.readPackedField_(this.decoder_.readSignedVarint64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedInt64",jspb.BinaryReader.prototype.readPackedInt64),jspb.BinaryReader.prototype.readPackedInt64String=function(){return this.readPackedField_(this.decoder_.readSignedVarint64String)},jspb.BinaryReader.prototype.readPackedUint32=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedUint32",jspb.BinaryReader.prototype.readPackedUint32),jspb.BinaryReader.prototype.readPackedUint32String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32String)},jspb.BinaryReader.prototype.readPackedUint64=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedUint64",jspb.BinaryReader.prototype.readPackedUint64),jspb.BinaryReader.prototype.readPackedUint64String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64String)},jspb.BinaryReader.prototype.readPackedSint32=function(){return this.readPackedField_(this.decoder_.readZigzagVarint32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedSint32",jspb.BinaryReader.prototype.readPackedSint32),jspb.BinaryReader.prototype.readPackedSint64=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedSint64",jspb.BinaryReader.prototype.readPackedSint64),jspb.BinaryReader.prototype.readPackedSint64String=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64String)},jspb.BinaryReader.prototype.readPackedFixed32=function(){return this.readPackedField_(this.decoder_.readUint32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedFixed32",jspb.BinaryReader.prototype.readPackedFixed32),jspb.BinaryReader.prototype.readPackedFixed64=function(){return this.readPackedField_(this.decoder_.readUint64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedFixed64",jspb.BinaryReader.prototype.readPackedFixed64),jspb.BinaryReader.prototype.readPackedFixed64String=function(){return this.readPackedField_(this.decoder_.readUint64String)},jspb.BinaryReader.prototype.readPackedSfixed32=function(){return this.readPackedField_(this.decoder_.readInt32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedSfixed32",jspb.BinaryReader.prototype.readPackedSfixed32),jspb.BinaryReader.prototype.readPackedSfixed64=function(){return this.readPackedField_(this.decoder_.readInt64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedSfixed64",jspb.BinaryReader.prototype.readPackedSfixed64),jspb.BinaryReader.prototype.readPackedSfixed64String=function(){return this.readPackedField_(this.decoder_.readInt64String)},jspb.BinaryReader.prototype.readPackedFloat=function(){return this.readPackedField_(this.decoder_.readFloat)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedFloat",jspb.BinaryReader.prototype.readPackedFloat),jspb.BinaryReader.prototype.readPackedDouble=function(){return this.readPackedField_(this.decoder_.readDouble)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedDouble",jspb.BinaryReader.prototype.readPackedDouble),jspb.BinaryReader.prototype.readPackedBool=function(){return this.readPackedField_(this.decoder_.readBool)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedBool",jspb.BinaryReader.prototype.readPackedBool),jspb.BinaryReader.prototype.readPackedEnum=function(){return this.readPackedField_(this.decoder_.readEnum)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedEnum",jspb.BinaryReader.prototype.readPackedEnum),jspb.BinaryReader.prototype.readPackedVarintHash64=function(){return this.readPackedField_(this.decoder_.readVarintHash64)},jspb.BinaryReader.prototype.readPackedFixedHash64=function(){return this.readPackedField_(this.decoder_.readFixedHash64)},jspb.BinaryEncoder=function(){this.buffer_=[]},jspb.BinaryEncoder.prototype.length=function(){return this.buffer_.length},jspb.BinaryEncoder.prototype.end=function(){var t=this.buffer_;return this.buffer_=[],t},jspb.BinaryEncoder.prototype.writeSplitVarint64=function(t,e){for(jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32);0<e||127<t;)this.buffer_.push(127&t|128),t=(t>>>7|e<<25)>>>0,e>>>=7;this.buffer_.push(t)},jspb.BinaryEncoder.prototype.writeSplitFixed64=function(t,e){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(e==Math.floor(e)),jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),this.writeUint32(t),this.writeUint32(e)},jspb.BinaryEncoder.prototype.writeUnsignedVarint32=function(t){for(jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32);127<t;)this.buffer_.push(127&t|128),t>>>=7;this.buffer_.push(t)},jspb.BinaryEncoder.prototype.writeSignedVarint32=function(t){if(jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),0<=t)this.writeUnsignedVarint32(t);else{for(var e=0;9>e;e++)this.buffer_.push(127&t|128),t>>=7;this.buffer_.push(1)}},jspb.BinaryEncoder.prototype.writeUnsignedVarint64=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitInt64(t),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeSignedVarint64=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(t),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint32=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeUnsignedVarint32((t<<1^t>>31)>>>0)},jspb.BinaryEncoder.prototype.writeZigzagVarint64=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitZigzag64(t),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint64String=function(t){this.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(t))},jspb.BinaryEncoder.prototype.writeZigzagVarintHash64=function(t){var e=this;jspb.utils.splitHash64(t),jspb.utils.toZigzag64(jspb.utils.split64Low,jspb.utils.split64High,function(r,s){e.writeSplitVarint64(r>>>0,s>>>0)})},jspb.BinaryEncoder.prototype.writeUint8=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(0<=t&&256>t),this.buffer_.push(t>>>0&255)},jspb.BinaryEncoder.prototype.writeUint16=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(0<=t&&65536>t),this.buffer_.push(t>>>0&255),this.buffer_.push(t>>>8&255)},jspb.BinaryEncoder.prototype.writeUint32=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.buffer_.push(t>>>0&255),this.buffer_.push(t>>>8&255),this.buffer_.push(t>>>16&255),this.buffer_.push(t>>>24&255)},jspb.BinaryEncoder.prototype.writeUint64=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitUint64(t),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt8=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(-128<=t&&128>t),this.buffer_.push(t>>>0&255)},jspb.BinaryEncoder.prototype.writeInt16=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(-32768<=t&&32768>t),this.buffer_.push(t>>>0&255),this.buffer_.push(t>>>8&255)},jspb.BinaryEncoder.prototype.writeInt32=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.buffer_.push(t>>>0&255),this.buffer_.push(t>>>8&255),this.buffer_.push(t>>>16&255),this.buffer_.push(t>>>24&255)},jspb.BinaryEncoder.prototype.writeInt64=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(t),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt64String=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(+t>=-jspb.BinaryConstants.TWO_TO_63&&+t<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(t)),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFloat=function(t){jspb.asserts.assert(1/0===t||-1/0===t||isNaN(t)||t>=-jspb.BinaryConstants.FLOAT32_MAX&&t<=jspb.BinaryConstants.FLOAT32_MAX),jspb.utils.splitFloat32(t),this.writeUint32(jspb.utils.split64Low)},jspb.BinaryEncoder.prototype.writeDouble=function(t){jspb.asserts.assert(1/0===t||-1/0===t||isNaN(t)||t>=-jspb.BinaryConstants.FLOAT64_MAX&&t<=jspb.BinaryConstants.FLOAT64_MAX),jspb.utils.splitFloat64(t),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeBool=function(t){jspb.asserts.assert(typeof t=="boolean"||typeof t=="number"),this.buffer_.push(t?1:0)},jspb.BinaryEncoder.prototype.writeEnum=function(t){jspb.asserts.assert(t==Math.floor(t)),jspb.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32(t)},jspb.BinaryEncoder.prototype.writeBytes=function(t){this.buffer_.push.apply(this.buffer_,t)},jspb.BinaryEncoder.prototype.writeVarintHash64=function(t){jspb.utils.splitHash64(t),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFixedHash64=function(t){jspb.utils.splitHash64(t),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeString=function(t){var e=this.buffer_.length;jspb.asserts.assertString(t);for(var r=0;r<t.length;r++){var s=t.charCodeAt(r);if(128>s)this.buffer_.push(s);else if(2048>s)this.buffer_.push(s>>6|192),this.buffer_.push(63&s|128);else if(65536>s)if(55296<=s&&56319>=s&&r+1<t.length){var o=t.charCodeAt(r+1);56320<=o&&57343>=o&&(s=1024*(s-55296)+o-56320+65536,this.buffer_.push(s>>18|240),this.buffer_.push(s>>12&63|128),this.buffer_.push(s>>6&63|128),this.buffer_.push(63&s|128),r++)}else this.buffer_.push(s>>12|224),this.buffer_.push(s>>6&63|128),this.buffer_.push(63&s|128)}return this.buffer_.length-e},jspb.arith={},jspb.arith.UInt64=function(t,e){this.lo=t,this.hi=e},jspb.arith.UInt64.prototype.cmp=function(t){return this.hi<t.hi||this.hi==t.hi&&this.lo<t.lo?-1:this.hi==t.hi&&this.lo==t.lo?0:1},jspb.arith.UInt64.prototype.rightShift=function(){return new jspb.arith.UInt64((this.lo>>>1|(1&this.hi)<<31)>>>0,this.hi>>>1>>>0)},jspb.arith.UInt64.prototype.leftShift=function(){return new jspb.arith.UInt64(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)},jspb.arith.UInt64.prototype.msb=function(){return!!(2147483648&this.hi)},jspb.arith.UInt64.prototype.lsb=function(){return!!(1&this.lo)},jspb.arith.UInt64.prototype.zero=function(){return this.lo==0&&this.hi==0},jspb.arith.UInt64.prototype.add=function(t){return new jspb.arith.UInt64((this.lo+t.lo&4294967295)>>>0>>>0,((this.hi+t.hi&4294967295)>>>0)+(4294967296<=this.lo+t.lo?1:0)>>>0)},jspb.arith.UInt64.prototype.sub=function(t){return new jspb.arith.UInt64((this.lo-t.lo&4294967295)>>>0>>>0,((this.hi-t.hi&4294967295)>>>0)-(0>this.lo-t.lo?1:0)>>>0)},jspb.arith.UInt64.mul32x32=function(t,e){var r=65535&t,s=65535&e,o=e>>>16;for(e=r*s+65536*(r*o&65535)+65536*((t>>>=16)*s&65535),r=t*o+(r*o>>>16)+(t*s>>>16);4294967296<=e;)e-=4294967296,r+=1;return new jspb.arith.UInt64(e>>>0,r>>>0)},jspb.arith.UInt64.prototype.mul=function(t){var e=jspb.arith.UInt64.mul32x32(this.lo,t);return(t=jspb.arith.UInt64.mul32x32(this.hi,t)).hi=t.lo,t.lo=0,e.add(t)},jspb.arith.UInt64.prototype.div=function(t){if(t==0)return[];var e=new jspb.arith.UInt64(0,0),r=new jspb.arith.UInt64(this.lo,this.hi);t=new jspb.arith.UInt64(t,0);for(var s=new jspb.arith.UInt64(1,0);!t.msb();)t=t.leftShift(),s=s.leftShift();for(;!s.zero();)0>=t.cmp(r)&&(e=e.add(s),r=r.sub(t)),t=t.rightShift(),s=s.rightShift();return[e,r]},jspb.arith.UInt64.prototype.toString=function(){for(var t="",e=this;!e.zero();){var r=(e=e.div(10))[0];t=e[1].lo+t,e=r}return t==""&&(t="0"),t},jspb.arith.UInt64.fromString=function(t){for(var e=new jspb.arith.UInt64(0,0),r=new jspb.arith.UInt64(0,0),s=0;s<t.length;s++){if("0">t[s]||"9"<t[s])return null;var o=parseInt(t[s],10);r.lo=o,e=e.mul(10).add(r)}return e},jspb.arith.UInt64.prototype.clone=function(){return new jspb.arith.UInt64(this.lo,this.hi)},jspb.arith.Int64=function(t,e){this.lo=t,this.hi=e},jspb.arith.Int64.prototype.add=function(t){return new jspb.arith.Int64((this.lo+t.lo&4294967295)>>>0>>>0,((this.hi+t.hi&4294967295)>>>0)+(4294967296<=this.lo+t.lo?1:0)>>>0)},jspb.arith.Int64.prototype.sub=function(t){return new jspb.arith.Int64((this.lo-t.lo&4294967295)>>>0>>>0,((this.hi-t.hi&4294967295)>>>0)-(0>this.lo-t.lo?1:0)>>>0)},jspb.arith.Int64.prototype.clone=function(){return new jspb.arith.Int64(this.lo,this.hi)},jspb.arith.Int64.prototype.toString=function(){var t=(2147483648&this.hi)!=0,e=new jspb.arith.UInt64(this.lo,this.hi);return t&&(e=new jspb.arith.UInt64(0,0).sub(e)),(t?"-":"")+e.toString()},jspb.arith.Int64.fromString=function(t){var e=0<t.length&&t[0]=="-";return e&&(t=t.substring(1)),(t=jspb.arith.UInt64.fromString(t))===null?null:(e&&(t=new jspb.arith.UInt64(0,0).sub(t)),new jspb.arith.Int64(t.lo,t.hi))},jspb.BinaryWriter=function(){this.blocks_=[],this.totalLength_=0,this.encoder_=new jspb.BinaryEncoder,this.bookmarks_=[]},jspb.BinaryWriter.prototype.appendUint8Array_=function(t){var e=this.encoder_.end();this.blocks_.push(e),this.blocks_.push(t),this.totalLength_+=e.length+t.length},jspb.BinaryWriter.prototype.beginDelimited_=function(t){return this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),t=this.encoder_.end(),this.blocks_.push(t),this.totalLength_+=t.length,t.push(this.totalLength_),t},jspb.BinaryWriter.prototype.endDelimited_=function(t){var e=t.pop();for(e=this.totalLength_+this.encoder_.length()-e,jspb.asserts.assert(0<=e);127<e;)t.push(127&e|128),e>>>=7,this.totalLength_++;t.push(e),this.totalLength_++},jspb.BinaryWriter.prototype.writeSerializedMessage=function(t,e,r){this.appendUint8Array_(t.subarray(e,r))},jspb.BinaryWriter.prototype.maybeWriteSerializedMessage=function(t,e,r){t!=null&&e!=null&&r!=null&&this.writeSerializedMessage(t,e,r)},jspb.BinaryWriter.prototype.reset=function(){this.blocks_=[],this.encoder_.end(),this.totalLength_=0,this.bookmarks_=[]},jspb.BinaryWriter.prototype.getResultBuffer=function(){jspb.asserts.assert(this.bookmarks_.length==0);for(var t=new Uint8Array(this.totalLength_+this.encoder_.length()),e=this.blocks_,r=e.length,s=0,o=0;o<r;o++){var i=e[o];t.set(i,s),s+=i.length}return e=this.encoder_.end(),t.set(e,s),s+=e.length,jspb.asserts.assert(s==t.length),this.blocks_=[t],t},goog.exportProperty(jspb.BinaryWriter.prototype,"getResultBuffer",jspb.BinaryWriter.prototype.getResultBuffer),jspb.BinaryWriter.prototype.getResultBase64String=function(t){return goog.crypt.base64.encodeByteArray(this.getResultBuffer(),t)},jspb.BinaryWriter.prototype.beginSubMessage=function(t){this.bookmarks_.push(this.beginDelimited_(t))},jspb.BinaryWriter.prototype.endSubMessage=function(){jspb.asserts.assert(0<=this.bookmarks_.length),this.endDelimited_(this.bookmarks_.pop())},jspb.BinaryWriter.prototype.writeFieldHeader_=function(t,e){jspb.asserts.assert(1<=t&&t==Math.floor(t)),this.encoder_.writeUnsignedVarint32(8*t+e)},jspb.BinaryWriter.prototype.writeAny=function(t,e,r){var s=jspb.BinaryConstants.FieldType;switch(t){case s.DOUBLE:this.writeDouble(e,r);break;case s.FLOAT:this.writeFloat(e,r);break;case s.INT64:this.writeInt64(e,r);break;case s.UINT64:this.writeUint64(e,r);break;case s.INT32:this.writeInt32(e,r);break;case s.FIXED64:this.writeFixed64(e,r);break;case s.FIXED32:this.writeFixed32(e,r);break;case s.BOOL:this.writeBool(e,r);break;case s.STRING:this.writeString(e,r);break;case s.GROUP:jspb.asserts.fail("Group field type not supported in writeAny()");break;case s.MESSAGE:jspb.asserts.fail("Message field type not supported in writeAny()");break;case s.BYTES:this.writeBytes(e,r);break;case s.UINT32:this.writeUint32(e,r);break;case s.ENUM:this.writeEnum(e,r);break;case s.SFIXED32:this.writeSfixed32(e,r);break;case s.SFIXED64:this.writeSfixed64(e,r);break;case s.SINT32:this.writeSint32(e,r);break;case s.SINT64:this.writeSint64(e,r);break;case s.FHASH64:this.writeFixedHash64(e,r);break;case s.VHASH64:this.writeVarintHash64(e,r);break;default:jspb.asserts.fail("Invalid field type in writeAny()")}},jspb.BinaryWriter.prototype.writeUnsignedVarint32_=function(t,e){e!=null&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint32(e))},jspb.BinaryWriter.prototype.writeSignedVarint32_=function(t,e){e!=null&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(e))},jspb.BinaryWriter.prototype.writeUnsignedVarint64_=function(t,e){e!=null&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint64(e))},jspb.BinaryWriter.prototype.writeSignedVarint64_=function(t,e){e!=null&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint64(e))},jspb.BinaryWriter.prototype.writeZigzagVarint32_=function(t,e){e!=null&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint32(e))},jspb.BinaryWriter.prototype.writeZigzagVarint64_=function(t,e){e!=null&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64(e))},jspb.BinaryWriter.prototype.writeZigzagVarint64String_=function(t,e){e!=null&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64String(e))},jspb.BinaryWriter.prototype.writeZigzagVarintHash64_=function(t,e){e!=null&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarintHash64(e))},jspb.BinaryWriter.prototype.writeInt32=function(t,e){e!=null&&(jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(t,e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeInt32",jspb.BinaryWriter.prototype.writeInt32),jspb.BinaryWriter.prototype.writeInt32String=function(t,e){e!=null&&(e=parseInt(e,10),jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(t,e))},jspb.BinaryWriter.prototype.writeInt64=function(t,e){e!=null&&(jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),this.writeSignedVarint64_(t,e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeInt64",jspb.BinaryWriter.prototype.writeInt64),jspb.BinaryWriter.prototype.writeInt64String=function(t,e){e!=null&&(e=jspb.arith.Int64.fromString(e),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(e.lo,e.hi))},jspb.BinaryWriter.prototype.writeUint32=function(t,e){e!=null&&(jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(t,e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeUint32",jspb.BinaryWriter.prototype.writeUint32),jspb.BinaryWriter.prototype.writeUint32String=function(t,e){e!=null&&(e=parseInt(e,10),jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(t,e))},jspb.BinaryWriter.prototype.writeUint64=function(t,e){e!=null&&(jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_64),this.writeUnsignedVarint64_(t,e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeUint64",jspb.BinaryWriter.prototype.writeUint64),jspb.BinaryWriter.prototype.writeUint64String=function(t,e){e!=null&&(e=jspb.arith.UInt64.fromString(e),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(e.lo,e.hi))},jspb.BinaryWriter.prototype.writeSint32=function(t,e){e!=null&&(jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeZigzagVarint32_(t,e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeSint32",jspb.BinaryWriter.prototype.writeSint32),jspb.BinaryWriter.prototype.writeSint64=function(t,e){e!=null&&(jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),this.writeZigzagVarint64_(t,e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeSint64",jspb.BinaryWriter.prototype.writeSint64),jspb.BinaryWriter.prototype.writeSintHash64=function(t,e){e!=null&&this.writeZigzagVarintHash64_(t,e)},jspb.BinaryWriter.prototype.writeSint64String=function(t,e){e!=null&&this.writeZigzagVarint64String_(t,e)},jspb.BinaryWriter.prototype.writeFixed32=function(t,e){e!=null&&(jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeUint32(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeFixed32",jspb.BinaryWriter.prototype.writeFixed32),jspb.BinaryWriter.prototype.writeFixed64=function(t,e){e!=null&&(jspb.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_64),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeUint64(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeFixed64",jspb.BinaryWriter.prototype.writeFixed64),jspb.BinaryWriter.prototype.writeFixed64String=function(t,e){e!=null&&(e=jspb.arith.UInt64.fromString(e),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(e.lo,e.hi))},jspb.BinaryWriter.prototype.writeSfixed32=function(t,e){e!=null&&(jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeInt32(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeSfixed32",jspb.BinaryWriter.prototype.writeSfixed32),jspb.BinaryWriter.prototype.writeSfixed64=function(t,e){e!=null&&(jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeInt64(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeSfixed64",jspb.BinaryWriter.prototype.writeSfixed64),jspb.BinaryWriter.prototype.writeSfixed64String=function(t,e){e!=null&&(e=jspb.arith.Int64.fromString(e),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(e.lo,e.hi))},jspb.BinaryWriter.prototype.writeFloat=function(t,e){e!=null&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeFloat(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeFloat",jspb.BinaryWriter.prototype.writeFloat),jspb.BinaryWriter.prototype.writeDouble=function(t,e){e!=null&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeDouble(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeDouble",jspb.BinaryWriter.prototype.writeDouble),jspb.BinaryWriter.prototype.writeBool=function(t,e){e!=null&&(jspb.asserts.assert(typeof e=="boolean"||typeof e=="number"),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeBool(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeBool",jspb.BinaryWriter.prototype.writeBool),jspb.BinaryWriter.prototype.writeEnum=function(t,e){e!=null&&(jspb.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeEnum",jspb.BinaryWriter.prototype.writeEnum),jspb.BinaryWriter.prototype.writeString=function(t,e){e!=null&&(t=this.beginDelimited_(t),this.encoder_.writeString(e),this.endDelimited_(t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeString",jspb.BinaryWriter.prototype.writeString),jspb.BinaryWriter.prototype.writeBytes=function(t,e){e!=null&&(e=jspb.utils.byteSourceToUint8Array(e),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(e.length),this.appendUint8Array_(e))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeBytes",jspb.BinaryWriter.prototype.writeBytes),jspb.BinaryWriter.prototype.writeMessage=function(t,e,r){e!=null&&(t=this.beginDelimited_(t),r(e,this),this.endDelimited_(t))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeMessage",jspb.BinaryWriter.prototype.writeMessage),jspb.BinaryWriter.prototype.writeMessageSet=function(t,e,r){e!=null&&(this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.START_GROUP),this.writeFieldHeader_(2,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(t),t=this.beginDelimited_(3),r(e,this),this.endDelimited_(t),this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeGroup=function(t,e,r){e!=null&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.START_GROUP),r(e,this),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.END_GROUP))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeGroup",jspb.BinaryWriter.prototype.writeGroup),jspb.BinaryWriter.prototype.writeFixedHash64=function(t,e){e!=null&&(jspb.asserts.assert(e.length==8),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeFixedHash64(e))},jspb.BinaryWriter.prototype.writeVarintHash64=function(t,e){e!=null&&(jspb.asserts.assert(e.length==8),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeVarintHash64(e))},jspb.BinaryWriter.prototype.writeSplitFixed64=function(t,e,r){this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(e,r)},jspb.BinaryWriter.prototype.writeSplitVarint64=function(t,e,r){this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(e,r)},jspb.BinaryWriter.prototype.writeSplitZigzagVarint64=function(t,e,r){this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT);var s=this.encoder_;jspb.utils.toZigzag64(e,r,function(o,i){s.writeSplitVarint64(o>>>0,i>>>0)})},jspb.BinaryWriter.prototype.writeRepeatedInt32=function(t,e){if(e!=null)for(var r=0;r<e.length;r++)this.writeSignedVarint32_(t,e[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedInt32",jspb.BinaryWriter.prototype.writeRepeatedInt32),jspb.BinaryWriter.prototype.writeRepeatedInt32String=function(t,e){if(e!=null)for(var r=0;r<e.length;r++)this.writeInt32String(t,e[r])},jspb.BinaryWriter.prototype.writeRepeatedInt64=function(t,e){if(e!=null)for(var r=0;r<e.length;r++)this.writeSignedVarint64_(t,e[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedInt64",jspb.BinaryWriter.prototype.writeRepeatedInt64),jspb.BinaryWriter.prototype.writeRepeatedSplitFixed64=function(t,e,r,s){if(e!=null)for(var o=0;o<e.length;o++)this.writeSplitFixed64(t,r(e[o]),s(e[o]))},jspb.BinaryWriter.prototype.writeRepeatedSplitVarint64=function(t,e,r,s){if(e!=null)for(var o=0;o<e.length;o++)this.writeSplitVarint64(t,r(e[o]),s(e[o]))},jspb.BinaryWriter.prototype.writeRepeatedSplitZigzagVarint64=function(t,e,r,s){if(e!=null)for(var o=0;o<e.length;o++)this.writeSplitZigzagVarint64(t,r(e[o]),s(e[o]))},jspb.BinaryWriter.prototype.writeRepeatedInt64String=function(t,e){if(e!=null)for(var r=0;r<e.length;r++)this.writeInt64String(t,e[r])},jspb.BinaryWriter.prototype.writeRepeatedUint32=function(t,e){if(e!=null)for(var r=0;r<e.length;r++)this.writeUnsignedVarint32_(t,e[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedUint32",jspb.BinaryWriter.prototype.writeRepeatedUint32),jspb.BinaryWriter.prototype.writeRepeatedUint32String=function(t,e){if(e!=null)for(var r=0;r<e.length;r++)this.writeUint32String(t,e[r])},jspb.BinaryWriter.prototype.writeRepeatedUint64=function(t,e){if(e!=null)for(var r=0;r<e.length;r++)this.writeUnsignedVarint64_(t,e[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedUint64",jspb.BinaryWriter.prototype.writeRepeatedUint64),jspb.BinaryWriter.prototype.writeRepeatedUint64String=function(t,e){if(e!=null)for(var r=0;r<e.length;r++)this.writeUint64String(t,e[r])},jspb.BinaryWriter.prototype.writeRepeatedSint32=function(t,e){if(e!=null)for(var r=0;r<e.length;r++)this.writeZigzagVarint32_(t,e[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedSint32",jspb.BinaryWriter.prototype.writeRepeatedSint32),jspb.BinaryWriter.prototype.writeRepeatedSint64=function(t,e){if(e!=null)for(var r=0;r<e.length;r++)this.writeZigzagVarint64_(t,e[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedSint64",jspb.BinaryWriter.prototype.writeRepeatedSint64),jspb.BinaryWriter.prototype.writeRepeatedSint64String=function(t,e){if(e!=null)for(var r=0;r<e.length;r++)this.writeZigzagVarint64String_(t,e[r])},jspb.BinaryWriter.prototype.writeRepeatedSintHash64=function(t,e){if(e!=null)for(var r=0;r<e.length;r++)this.writeZigzagVarintHash64_(t,e[r])},jspb.BinaryWriter.prototype.writeRepeatedFixed32=function(t,e){if(e!=null)for(var r=0;r<e.length;r++)this.writeFixed32(t,e[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedFixed32",jspb.BinaryWriter.prototype.writeRepeatedFixed32),jspb.BinaryWriter.prototype.writeRepeatedFixed64=function(t,e){if(e!=null)for(var r=0;r<e.length;r++)this.writeFixed64(t,e[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedFixed64",jspb.BinaryWriter.prototype.writeRepeatedFixed64),jspb.BinaryWriter.prototype.writeRepeatedFixed64String=function(t,e){if(e!=null)for(var r=0;r<e.length;r++)this.writeFixed64String(t,e[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedFixed64String",jspb.BinaryWriter.prototype.writeRepeatedFixed64String),jspb.BinaryWriter.prototype.writeRepeatedSfixed32=function(t,e){if(e!=null)for(var r=0;r<e.length;r++)this.writeSfixed32(t,e[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedSfixed32",jspb.BinaryWriter.prototype.writeRepeatedSfixed32),jspb.BinaryWriter.prototype.writeRepeatedSfixed64=function(t,e){if(e!=null)for(var r=0;r<e.length;r++)this.writeSfixed64(t,e[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedSfixed64",jspb.BinaryWriter.prototype.writeRepeatedSfixed64),jspb.BinaryWriter.prototype.writeRepeatedSfixed64String=function(t,e){if(e!=null)for(var r=0;r<e.length;r++)this.writeSfixed64String(t,e[r])},jspb.BinaryWriter.prototype.writeRepeatedFloat=function(t,e){if(e!=null)for(var r=0;r<e.length;r++)this.writeFloat(t,e[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedFloat",jspb.BinaryWriter.prototype.writeRepeatedFloat),jspb.BinaryWriter.prototype.writeRepeatedDouble=function(t,e){if(e!=null)for(var r=0;r<e.length;r++)this.writeDouble(t,e[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedDouble",jspb.BinaryWriter.prototype.writeRepeatedDouble),jspb.BinaryWriter.prototype.writeRepeatedBool=function(t,e){if(e!=null)for(var r=0;r<e.length;r++)this.writeBool(t,e[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedBool",jspb.BinaryWriter.prototype.writeRepeatedBool),jspb.BinaryWriter.prototype.writeRepeatedEnum=function(t,e){if(e!=null)for(var r=0;r<e.length;r++)this.writeEnum(t,e[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedEnum",jspb.BinaryWriter.prototype.writeRepeatedEnum),jspb.BinaryWriter.prototype.writeRepeatedString=function(t,e){if(e!=null)for(var r=0;r<e.length;r++)this.writeString(t,e[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedString",jspb.BinaryWriter.prototype.writeRepeatedString),jspb.BinaryWriter.prototype.writeRepeatedBytes=function(t,e){if(e!=null)for(var r=0;r<e.length;r++)this.writeBytes(t,e[r])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedBytes",jspb.BinaryWriter.prototype.writeRepeatedBytes),jspb.BinaryWriter.prototype.writeRepeatedMessage=function(t,e,r){if(e!=null)for(var s=0;s<e.length;s++){var o=this.beginDelimited_(t);r(e[s],this),this.endDelimited_(o)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedMessage",jspb.BinaryWriter.prototype.writeRepeatedMessage),jspb.BinaryWriter.prototype.writeRepeatedGroup=function(t,e,r){if(e!=null)for(var s=0;s<e.length;s++)this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.START_GROUP),r(e[s],this),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.END_GROUP)},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedGroup",jspb.BinaryWriter.prototype.writeRepeatedGroup),jspb.BinaryWriter.prototype.writeRepeatedFixedHash64=function(t,e){if(e!=null)for(var r=0;r<e.length;r++)this.writeFixedHash64(t,e[r])},jspb.BinaryWriter.prototype.writeRepeatedVarintHash64=function(t,e){if(e!=null)for(var r=0;r<e.length;r++)this.writeVarintHash64(t,e[r])},jspb.BinaryWriter.prototype.writePackedInt32=function(t,e){if(e!=null&&e.length){t=this.beginDelimited_(t);for(var r=0;r<e.length;r++)this.encoder_.writeSignedVarint32(e[r]);this.endDelimited_(t)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedInt32",jspb.BinaryWriter.prototype.writePackedInt32),jspb.BinaryWriter.prototype.writePackedInt32String=function(t,e){if(e!=null&&e.length){t=this.beginDelimited_(t);for(var r=0;r<e.length;r++)this.encoder_.writeSignedVarint32(parseInt(e[r],10));this.endDelimited_(t)}},jspb.BinaryWriter.prototype.writePackedInt64=function(t,e){if(e!=null&&e.length){t=this.beginDelimited_(t);for(var r=0;r<e.length;r++)this.encoder_.writeSignedVarint64(e[r]);this.endDelimited_(t)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedInt64",jspb.BinaryWriter.prototype.writePackedInt64),jspb.BinaryWriter.prototype.writePackedSplitFixed64=function(t,e,r,s){if(e!=null){t=this.beginDelimited_(t);for(var o=0;o<e.length;o++)this.encoder_.writeSplitFixed64(r(e[o]),s(e[o]));this.endDelimited_(t)}},jspb.BinaryWriter.prototype.writePackedSplitVarint64=function(t,e,r,s){if(e!=null){t=this.beginDelimited_(t);for(var o=0;o<e.length;o++)this.encoder_.writeSplitVarint64(r(e[o]),s(e[o]));this.endDelimited_(t)}},jspb.BinaryWriter.prototype.writePackedSplitZigzagVarint64=function(t,e,r,s){if(e!=null){t=this.beginDelimited_(t);for(var o=this.encoder_,i=0;i<e.length;i++)jspb.utils.toZigzag64(r(e[i]),s(e[i]),function(n,p){o.writeSplitVarint64(n>>>0,p>>>0)});this.endDelimited_(t)}},jspb.BinaryWriter.prototype.writePackedInt64String=function(t,e){if(e!=null&&e.length){t=this.beginDelimited_(t);for(var r=0;r<e.length;r++){var s=jspb.arith.Int64.fromString(e[r]);this.encoder_.writeSplitVarint64(s.lo,s.hi)}this.endDelimited_(t)}},jspb.BinaryWriter.prototype.writePackedUint32=function(t,e){if(e!=null&&e.length){t=this.beginDelimited_(t);for(var r=0;r<e.length;r++)this.encoder_.writeUnsignedVarint32(e[r]);this.endDelimited_(t)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedUint32",jspb.BinaryWriter.prototype.writePackedUint32),jspb.BinaryWriter.prototype.writePackedUint32String=function(t,e){if(e!=null&&e.length){t=this.beginDelimited_(t);for(var r=0;r<e.length;r++)this.encoder_.writeUnsignedVarint32(parseInt(e[r],10));this.endDelimited_(t)}},jspb.BinaryWriter.prototype.writePackedUint64=function(t,e){if(e!=null&&e.length){t=this.beginDelimited_(t);for(var r=0;r<e.length;r++)this.encoder_.writeUnsignedVarint64(e[r]);this.endDelimited_(t)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedUint64",jspb.BinaryWriter.prototype.writePackedUint64),jspb.BinaryWriter.prototype.writePackedUint64String=function(t,e){if(e!=null&&e.length){t=this.beginDelimited_(t);for(var r=0;r<e.length;r++){var s=jspb.arith.UInt64.fromString(e[r]);this.encoder_.writeSplitVarint64(s.lo,s.hi)}this.endDelimited_(t)}},jspb.BinaryWriter.prototype.writePackedSint32=function(t,e){if(e!=null&&e.length){t=this.beginDelimited_(t);for(var r=0;r<e.length;r++)this.encoder_.writeZigzagVarint32(e[r]);this.endDelimited_(t)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedSint32",jspb.BinaryWriter.prototype.writePackedSint32),jspb.BinaryWriter.prototype.writePackedSint64=function(t,e){if(e!=null&&e.length){t=this.beginDelimited_(t);for(var r=0;r<e.length;r++)this.encoder_.writeZigzagVarint64(e[r]);this.endDelimited_(t)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedSint64",jspb.BinaryWriter.prototype.writePackedSint64),jspb.BinaryWriter.prototype.writePackedSint64String=function(t,e){if(e!=null&&e.length){t=this.beginDelimited_(t);for(var r=0;r<e.length;r++)this.encoder_.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(e[r]));this.endDelimited_(t)}},jspb.BinaryWriter.prototype.writePackedSintHash64=function(t,e){if(e!=null&&e.length){t=this.beginDelimited_(t);for(var r=0;r<e.length;r++)this.encoder_.writeZigzagVarintHash64(e[r]);this.endDelimited_(t)}},jspb.BinaryWriter.prototype.writePackedFixed32=function(t,e){if(e!=null&&e.length)for(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*e.length),t=0;t<e.length;t++)this.encoder_.writeUint32(e[t])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedFixed32",jspb.BinaryWriter.prototype.writePackedFixed32),jspb.BinaryWriter.prototype.writePackedFixed64=function(t,e){if(e!=null&&e.length)for(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*e.length),t=0;t<e.length;t++)this.encoder_.writeUint64(e[t])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedFixed64",jspb.BinaryWriter.prototype.writePackedFixed64),jspb.BinaryWriter.prototype.writePackedFixed64String=function(t,e){if(e!=null&&e.length)for(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*e.length),t=0;t<e.length;t++){var r=jspb.arith.UInt64.fromString(e[t]);this.encoder_.writeSplitFixed64(r.lo,r.hi)}},jspb.BinaryWriter.prototype.writePackedSfixed32=function(t,e){if(e!=null&&e.length)for(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*e.length),t=0;t<e.length;t++)this.encoder_.writeInt32(e[t])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedSfixed32",jspb.BinaryWriter.prototype.writePackedSfixed32),jspb.BinaryWriter.prototype.writePackedSfixed64=function(t,e){if(e!=null&&e.length)for(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*e.length),t=0;t<e.length;t++)this.encoder_.writeInt64(e[t])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedSfixed64",jspb.BinaryWriter.prototype.writePackedSfixed64),jspb.BinaryWriter.prototype.writePackedSfixed64String=function(t,e){if(e!=null&&e.length)for(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*e.length),t=0;t<e.length;t++)this.encoder_.writeInt64String(e[t])},jspb.BinaryWriter.prototype.writePackedFloat=function(t,e){if(e!=null&&e.length)for(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*e.length),t=0;t<e.length;t++)this.encoder_.writeFloat(e[t])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedFloat",jspb.BinaryWriter.prototype.writePackedFloat),jspb.BinaryWriter.prototype.writePackedDouble=function(t,e){if(e!=null&&e.length)for(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*e.length),t=0;t<e.length;t++)this.encoder_.writeDouble(e[t])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedDouble",jspb.BinaryWriter.prototype.writePackedDouble),jspb.BinaryWriter.prototype.writePackedBool=function(t,e){if(e!=null&&e.length)for(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(e.length),t=0;t<e.length;t++)this.encoder_.writeBool(e[t])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedBool",jspb.BinaryWriter.prototype.writePackedBool),jspb.BinaryWriter.prototype.writePackedEnum=function(t,e){if(e!=null&&e.length){t=this.beginDelimited_(t);for(var r=0;r<e.length;r++)this.encoder_.writeEnum(e[r]);this.endDelimited_(t)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedEnum",jspb.BinaryWriter.prototype.writePackedEnum),jspb.BinaryWriter.prototype.writePackedFixedHash64=function(t,e){if(e!=null&&e.length)for(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*e.length),t=0;t<e.length;t++)this.encoder_.writeFixedHash64(e[t])},jspb.BinaryWriter.prototype.writePackedVarintHash64=function(t,e){if(e!=null&&e.length){t=this.beginDelimited_(t);for(var r=0;r<e.length;r++)this.encoder_.writeVarintHash64(e[r]);this.endDelimited_(t)}},jspb.Map=function(t,e){this.arr_=t,this.valueCtor_=e,this.map_={},this.arrClean=!0,0<this.arr_.length&&this.loadFromArray_()},goog.exportSymbol("jspb.Map",jspb.Map),jspb.Map.prototype.loadFromArray_=function(){for(var t=0;t<this.arr_.length;t++){var e=this.arr_[t],r=e[0];this.map_[r.toString()]=new jspb.Map.Entry_(r,e[1])}this.arrClean=!0},jspb.Map.prototype.toArray=function(){if(this.arrClean){if(this.valueCtor_){var t,e=this.map_;for(t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var r=e[t].valueWrapper;r&&r.toArray()}}}else{for(this.arr_.length=0,(e=this.stringKeys_()).sort(),t=0;t<e.length;t++){var s=this.map_[e[t]];(r=s.valueWrapper)&&r.toArray(),this.arr_.push([s.key,s.value])}this.arrClean=!0}return this.arr_},goog.exportProperty(jspb.Map.prototype,"toArray",jspb.Map.prototype.toArray),jspb.Map.prototype.toObject=function(t,e){for(var r=this.toArray(),s=[],o=0;o<r.length;o++){var i=this.map_[r[o][0].toString()];this.wrapEntry_(i);var n=i.valueWrapper;n?(jspb.asserts.assert(e),s.push([i.key,e(t,n)])):s.push([i.key,i.value])}return s},goog.exportProperty(jspb.Map.prototype,"toObject",jspb.Map.prototype.toObject),jspb.Map.fromObject=function(t,e,r){e=new jspb.Map([],e);for(var s=0;s<t.length;s++){var o=t[s][0],i=r(t[s][1]);e.set(o,i)}return e},goog.exportProperty(jspb.Map,"fromObject",jspb.Map.fromObject),jspb.Map.ArrayIteratorIterable_=function(t){this.idx_=0,this.arr_=t},jspb.Map.ArrayIteratorIterable_.prototype.next=function(){return this.idx_<this.arr_.length?{done:!1,value:this.arr_[this.idx_++]}:{done:!0,value:void 0}},typeof Symbol<"u"&&(jspb.Map.ArrayIteratorIterable_.prototype[Symbol.iterator]=function(){return this}),jspb.Map.prototype.getLength=function(){return this.stringKeys_().length},goog.exportProperty(jspb.Map.prototype,"getLength",jspb.Map.prototype.getLength),jspb.Map.prototype.clear=function(){this.map_={},this.arrClean=!1},goog.exportProperty(jspb.Map.prototype,"clear",jspb.Map.prototype.clear),jspb.Map.prototype.del=function(t){t=t.toString();var e=this.map_.hasOwnProperty(t);return delete this.map_[t],this.arrClean=!1,e},goog.exportProperty(jspb.Map.prototype,"del",jspb.Map.prototype.del),jspb.Map.prototype.getEntryList=function(){var t=[],e=this.stringKeys_();e.sort();for(var r=0;r<e.length;r++){var s=this.map_[e[r]];t.push([s.key,s.value])}return t},goog.exportProperty(jspb.Map.prototype,"getEntryList",jspb.Map.prototype.getEntryList),jspb.Map.prototype.entries=function(){var t=[],e=this.stringKeys_();e.sort();for(var r=0;r<e.length;r++){var s=this.map_[e[r]];t.push([s.key,this.wrapEntry_(s)])}return new jspb.Map.ArrayIteratorIterable_(t)},goog.exportProperty(jspb.Map.prototype,"entries",jspb.Map.prototype.entries),jspb.Map.prototype.keys=function(){var t=[],e=this.stringKeys_();e.sort();for(var r=0;r<e.length;r++)t.push(this.map_[e[r]].key);return new jspb.Map.ArrayIteratorIterable_(t)},goog.exportProperty(jspb.Map.prototype,"keys",jspb.Map.prototype.keys),jspb.Map.prototype.values=function(){var t=[],e=this.stringKeys_();e.sort();for(var r=0;r<e.length;r++)t.push(this.wrapEntry_(this.map_[e[r]]));return new jspb.Map.ArrayIteratorIterable_(t)},goog.exportProperty(jspb.Map.prototype,"values",jspb.Map.prototype.values),jspb.Map.prototype.forEach=function(t,e){var r=this.stringKeys_();r.sort();for(var s=0;s<r.length;s++){var o=this.map_[r[s]];t.call(e,this.wrapEntry_(o),o.key,this)}},goog.exportProperty(jspb.Map.prototype,"forEach",jspb.Map.prototype.forEach),jspb.Map.prototype.set=function(t,e){var r=new jspb.Map.Entry_(t);return this.valueCtor_?(r.valueWrapper=e,r.value=e.toArray()):r.value=e,this.map_[t.toString()]=r,this.arrClean=!1,this},goog.exportProperty(jspb.Map.prototype,"set",jspb.Map.prototype.set),jspb.Map.prototype.wrapEntry_=function(t){return this.valueCtor_?(t.valueWrapper||(t.valueWrapper=new this.valueCtor_(t.value)),t.valueWrapper):t.value},jspb.Map.prototype.get=function(t){if(t=this.map_[t.toString()])return this.wrapEntry_(t)},goog.exportProperty(jspb.Map.prototype,"get",jspb.Map.prototype.get),jspb.Map.prototype.has=function(t){return t.toString()in this.map_},goog.exportProperty(jspb.Map.prototype,"has",jspb.Map.prototype.has),jspb.Map.prototype.serializeBinary=function(t,e,r,s,o){var i=this.stringKeys_();i.sort();for(var n=0;n<i.length;n++){var p=this.map_[i[n]];e.beginSubMessage(t),r.call(e,1,p.key),this.valueCtor_?s.call(e,2,this.wrapEntry_(p),o):s.call(e,2,p.value),e.endSubMessage()}},goog.exportProperty(jspb.Map.prototype,"serializeBinary",jspb.Map.prototype.serializeBinary),jspb.Map.deserializeBinary=function(t,e,r,s,o,i,n){for(;e.nextField()&&!e.isEndGroup();){var p=e.getFieldNumber();p==1?i=r.call(e):p==2&&(t.valueCtor_?(jspb.asserts.assert(o),n||(n=new t.valueCtor_),s.call(e,n,o)):n=s.call(e))}jspb.asserts.assert(i!=null),jspb.asserts.assert(n!=null),t.set(i,n)},goog.exportProperty(jspb.Map,"deserializeBinary",jspb.Map.deserializeBinary),jspb.Map.prototype.stringKeys_=function(){var t,e=this.map_,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.push(t);return r},jspb.Map.Entry_=function(t,e){this.key=t,this.value=e,this.valueWrapper=void 0},jspb.ExtensionFieldInfo=function(t,e,r,s,o){this.fieldIndex=t,this.fieldName=e,this.ctor=r,this.toObjectFn=s,this.isRepeated=o},goog.exportSymbol("jspb.ExtensionFieldInfo",jspb.ExtensionFieldInfo),jspb.ExtensionFieldBinaryInfo=function(t,e,r,s,o,i){this.fieldInfo=t,this.binaryReaderFn=e,this.binaryWriterFn=r,this.binaryMessageSerializeFn=s,this.binaryMessageDeserializeFn=o,this.isPacked=i},goog.exportSymbol("jspb.ExtensionFieldBinaryInfo",jspb.ExtensionFieldBinaryInfo),jspb.ExtensionFieldInfo.prototype.isMessageType=function(){return!!this.ctor},goog.exportProperty(jspb.ExtensionFieldInfo.prototype,"isMessageType",jspb.ExtensionFieldInfo.prototype.isMessageType),jspb.Message=function(){},goog.exportSymbol("jspb.Message",jspb.Message),jspb.Message.GENERATE_TO_OBJECT=!0,goog.exportProperty(jspb.Message,"GENERATE_TO_OBJECT",jspb.Message.GENERATE_TO_OBJECT),jspb.Message.GENERATE_FROM_OBJECT=!goog.DISALLOW_TEST_ONLY_CODE,goog.exportProperty(jspb.Message,"GENERATE_FROM_OBJECT",jspb.Message.GENERATE_FROM_OBJECT),jspb.Message.GENERATE_TO_STRING=!0,jspb.Message.ASSUME_LOCAL_ARRAYS=!1,jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS=!0,jspb.Message.SUPPORTS_UINT8ARRAY_=typeof Uint8Array=="function",jspb.Message.prototype.getJsPbMessageId=function(){return this.messageId_},goog.exportProperty(jspb.Message.prototype,"getJsPbMessageId",jspb.Message.prototype.getJsPbMessageId),jspb.Message.getIndex_=function(t,e){return e+t.arrayIndexOffset_},jspb.Message.hiddenES6Property_=function(){},jspb.Message.getFieldNumber_=function(t,e){return e-t.arrayIndexOffset_},jspb.Message.initialize=function(t,e,r,s,o,i){if(t.wrappers_=null,e||(e=r?[r]:[]),t.messageId_=r?String(r):void 0,t.arrayIndexOffset_=r===0?-1:0,t.array=e,jspb.Message.initPivotAndExtensionObject_(t,s),t.convertedPrimitiveFields_={},jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS||(t.repeatedFields=o),o)for(e=0;e<o.length;e++)(r=o[e])<t.pivot_?(r=jspb.Message.getIndex_(t,r),t.array[r]=t.array[r]||jspb.Message.EMPTY_LIST_SENTINEL_):(jspb.Message.maybeInitEmptyExtensionObject_(t),t.extensionObject_[r]=t.extensionObject_[r]||jspb.Message.EMPTY_LIST_SENTINEL_);if(i&&i.length)for(e=0;e<i.length;e++)jspb.Message.computeOneofCase(t,i[e])},goog.exportProperty(jspb.Message,"initialize",jspb.Message.initialize),jspb.Message.EMPTY_LIST_SENTINEL_=goog.DEBUG&&Object.freeze?Object.freeze([]):[],jspb.Message.isArray_=function(t){return jspb.Message.ASSUME_LOCAL_ARRAYS?t instanceof Array:Array.isArray(t)},jspb.Message.isExtensionObject_=function(t){return!(t===null||typeof t!="object"||jspb.Message.isArray_(t)||jspb.Message.SUPPORTS_UINT8ARRAY_&&t instanceof Uint8Array)},jspb.Message.initPivotAndExtensionObject_=function(t,e){var r=t.array.length,s=-1;if(r&&(s=r-1,r=t.array[s],jspb.Message.isExtensionObject_(r)))return t.pivot_=jspb.Message.getFieldNumber_(t,s),void(t.extensionObject_=r);-1<e?(t.pivot_=Math.max(e,jspb.Message.getFieldNumber_(t,s+1)),t.extensionObject_=null):t.pivot_=Number.MAX_VALUE},jspb.Message.maybeInitEmptyExtensionObject_=function(t){var e=jspb.Message.getIndex_(t,t.pivot_);t.array[e]||(t.extensionObject_=t.array[e]={})},jspb.Message.toObjectList=function(t,e,r){for(var s=[],o=0;o<t.length;o++)s[o]=e.call(t[o],r,t[o]);return s},goog.exportProperty(jspb.Message,"toObjectList",jspb.Message.toObjectList),jspb.Message.toObjectExtension=function(t,e,r,s,o){for(var i in r){var n=r[i],p=s.call(t,n);if(p!=null){for(var d in n.fieldName)if(n.fieldName.hasOwnProperty(d))break;e[d]=n.toObjectFn?n.isRepeated?jspb.Message.toObjectList(p,n.toObjectFn,o):n.toObjectFn(o,p):p}}},goog.exportProperty(jspb.Message,"toObjectExtension",jspb.Message.toObjectExtension),jspb.Message.serializeBinaryExtensions=function(t,e,r,s){for(var o in r){var i=r[o],n=i.fieldInfo;if(!i.binaryWriterFn)throw Error("Message extension present that was generated without binary serialization support");var p=s.call(t,n);if(p!=null)if(n.isMessageType()){if(!i.binaryMessageSerializeFn)throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");i.binaryWriterFn.call(e,n.fieldIndex,p,i.binaryMessageSerializeFn)}else i.binaryWriterFn.call(e,n.fieldIndex,p)}},goog.exportProperty(jspb.Message,"serializeBinaryExtensions",jspb.Message.serializeBinaryExtensions),jspb.Message.readBinaryExtension=function(t,e,r,s,o){var i=r[e.getFieldNumber()];if(i){if(r=i.fieldInfo,!i.binaryReaderFn)throw Error("Deserializing extension whose generated code does not support binary format");if(r.isMessageType()){var n=new r.ctor;i.binaryReaderFn.call(e,n,i.binaryMessageDeserializeFn)}else n=i.binaryReaderFn.call(e);r.isRepeated&&!i.isPacked?(e=s.call(t,r))?e.push(n):o.call(t,r,[n]):o.call(t,r,n)}else e.skipField()},goog.exportProperty(jspb.Message,"readBinaryExtension",jspb.Message.readBinaryExtension),jspb.Message.getField=function(t,e){if(e<t.pivot_){e=jspb.Message.getIndex_(t,e);var r=t.array[e];return r===jspb.Message.EMPTY_LIST_SENTINEL_?t.array[e]=[]:r}if(t.extensionObject_)return(r=t.extensionObject_[e])===jspb.Message.EMPTY_LIST_SENTINEL_?t.extensionObject_[e]=[]:r},goog.exportProperty(jspb.Message,"getField",jspb.Message.getField),jspb.Message.getRepeatedField=function(t,e){return jspb.Message.getField(t,e)},goog.exportProperty(jspb.Message,"getRepeatedField",jspb.Message.getRepeatedField),jspb.Message.getOptionalFloatingPointField=function(t,e){return(t=jspb.Message.getField(t,e))==null?t:+t},goog.exportProperty(jspb.Message,"getOptionalFloatingPointField",jspb.Message.getOptionalFloatingPointField),jspb.Message.getBooleanField=function(t,e){return(t=jspb.Message.getField(t,e))==null?t:!!t},goog.exportProperty(jspb.Message,"getBooleanField",jspb.Message.getBooleanField),jspb.Message.getRepeatedFloatingPointField=function(t,e){var r=jspb.Message.getRepeatedField(t,e);if(t.convertedPrimitiveFields_||(t.convertedPrimitiveFields_={}),!t.convertedPrimitiveFields_[e]){for(var s=0;s<r.length;s++)r[s]=+r[s];t.convertedPrimitiveFields_[e]=!0}return r},goog.exportProperty(jspb.Message,"getRepeatedFloatingPointField",jspb.Message.getRepeatedFloatingPointField),jspb.Message.getRepeatedBooleanField=function(t,e){var r=jspb.Message.getRepeatedField(t,e);if(t.convertedPrimitiveFields_||(t.convertedPrimitiveFields_={}),!t.convertedPrimitiveFields_[e]){for(var s=0;s<r.length;s++)r[s]=!!r[s];t.convertedPrimitiveFields_[e]=!0}return r},goog.exportProperty(jspb.Message,"getRepeatedBooleanField",jspb.Message.getRepeatedBooleanField),jspb.Message.bytesAsB64=function(t){return t==null||typeof t=="string"?t:jspb.Message.SUPPORTS_UINT8ARRAY_&&t instanceof Uint8Array?goog.crypt.base64.encodeByteArray(t):(jspb.asserts.fail("Cannot coerce to b64 string: "+goog.typeOf(t)),null)},goog.exportProperty(jspb.Message,"bytesAsB64",jspb.Message.bytesAsB64),jspb.Message.bytesAsU8=function(t){return t==null||t instanceof Uint8Array?t:typeof t=="string"?goog.crypt.base64.decodeStringToUint8Array(t):(jspb.asserts.fail("Cannot coerce to Uint8Array: "+goog.typeOf(t)),null)},goog.exportProperty(jspb.Message,"bytesAsU8",jspb.Message.bytesAsU8),jspb.Message.bytesListAsB64=function(t){return jspb.Message.assertConsistentTypes_(t),t.length&&typeof t[0]!="string"?goog.array.map(t,jspb.Message.bytesAsB64):t},goog.exportProperty(jspb.Message,"bytesListAsB64",jspb.Message.bytesListAsB64),jspb.Message.bytesListAsU8=function(t){return jspb.Message.assertConsistentTypes_(t),!t.length||t[0]instanceof Uint8Array?t:goog.array.map(t,jspb.Message.bytesAsU8)},goog.exportProperty(jspb.Message,"bytesListAsU8",jspb.Message.bytesListAsU8),jspb.Message.assertConsistentTypes_=function(t){if(goog.DEBUG&&t&&1<t.length){var e=goog.typeOf(t[0]);goog.array.forEach(t,function(r){goog.typeOf(r)!=e&&jspb.asserts.fail("Inconsistent type in JSPB repeated field array. Got "+goog.typeOf(r)+" expected "+e)})}},jspb.Message.getFieldWithDefault=function(t,e,r){return(t=jspb.Message.getField(t,e))==null?r:t},goog.exportProperty(jspb.Message,"getFieldWithDefault",jspb.Message.getFieldWithDefault),jspb.Message.getBooleanFieldWithDefault=function(t,e,r){return(t=jspb.Message.getBooleanField(t,e))==null?r:t},goog.exportProperty(jspb.Message,"getBooleanFieldWithDefault",jspb.Message.getBooleanFieldWithDefault),jspb.Message.getFloatingPointFieldWithDefault=function(t,e,r){return(t=jspb.Message.getOptionalFloatingPointField(t,e))==null?r:t},goog.exportProperty(jspb.Message,"getFloatingPointFieldWithDefault",jspb.Message.getFloatingPointFieldWithDefault),jspb.Message.getFieldProto3=jspb.Message.getFieldWithDefault,goog.exportProperty(jspb.Message,"getFieldProto3",jspb.Message.getFieldProto3),jspb.Message.getMapField=function(t,e,r,s){if(t.wrappers_||(t.wrappers_={}),e in t.wrappers_)return t.wrappers_[e];var o=jspb.Message.getField(t,e);if(!o){if(r)return;o=[],jspb.Message.setField(t,e,o)}return t.wrappers_[e]=new jspb.Map(o,s)},goog.exportProperty(jspb.Message,"getMapField",jspb.Message.getMapField),jspb.Message.setField=function(t,e,r){return jspb.asserts.assertInstanceof(t,jspb.Message),e<t.pivot_?t.array[jspb.Message.getIndex_(t,e)]=r:(jspb.Message.maybeInitEmptyExtensionObject_(t),t.extensionObject_[e]=r),t},goog.exportProperty(jspb.Message,"setField",jspb.Message.setField),jspb.Message.setProto3IntField=function(t,e,r){return jspb.Message.setFieldIgnoringDefault_(t,e,r,0)},goog.exportProperty(jspb.Message,"setProto3IntField",jspb.Message.setProto3IntField),jspb.Message.setProto3FloatField=function(t,e,r){return jspb.Message.setFieldIgnoringDefault_(t,e,r,0)},goog.exportProperty(jspb.Message,"setProto3FloatField",jspb.Message.setProto3FloatField),jspb.Message.setProto3BooleanField=function(t,e,r){return jspb.Message.setFieldIgnoringDefault_(t,e,r,!1)},goog.exportProperty(jspb.Message,"setProto3BooleanField",jspb.Message.setProto3BooleanField),jspb.Message.setProto3StringField=function(t,e,r){return jspb.Message.setFieldIgnoringDefault_(t,e,r,"")},goog.exportProperty(jspb.Message,"setProto3StringField",jspb.Message.setProto3StringField),jspb.Message.setProto3BytesField=function(t,e,r){return jspb.Message.setFieldIgnoringDefault_(t,e,r,"")},goog.exportProperty(jspb.Message,"setProto3BytesField",jspb.Message.setProto3BytesField),jspb.Message.setProto3EnumField=function(t,e,r){return jspb.Message.setFieldIgnoringDefault_(t,e,r,0)},goog.exportProperty(jspb.Message,"setProto3EnumField",jspb.Message.setProto3EnumField),jspb.Message.setProto3StringIntField=function(t,e,r){return jspb.Message.setFieldIgnoringDefault_(t,e,r,"0")},goog.exportProperty(jspb.Message,"setProto3StringIntField",jspb.Message.setProto3StringIntField),jspb.Message.setFieldIgnoringDefault_=function(t,e,r,s){return jspb.asserts.assertInstanceof(t,jspb.Message),r!==s?jspb.Message.setField(t,e,r):e<t.pivot_?t.array[jspb.Message.getIndex_(t,e)]=null:(jspb.Message.maybeInitEmptyExtensionObject_(t),delete t.extensionObject_[e]),t},jspb.Message.addToRepeatedField=function(t,e,r,s){return jspb.asserts.assertInstanceof(t,jspb.Message),e=jspb.Message.getRepeatedField(t,e),s!=null?e.splice(s,0,r):e.push(r),t},goog.exportProperty(jspb.Message,"addToRepeatedField",jspb.Message.addToRepeatedField),jspb.Message.setOneofField=function(t,e,r,s){return jspb.asserts.assertInstanceof(t,jspb.Message),(r=jspb.Message.computeOneofCase(t,r))&&r!==e&&s!==void 0&&(t.wrappers_&&r in t.wrappers_&&(t.wrappers_[r]=void 0),jspb.Message.setField(t,r,void 0)),jspb.Message.setField(t,e,s)},goog.exportProperty(jspb.Message,"setOneofField",jspb.Message.setOneofField),jspb.Message.computeOneofCase=function(t,e){for(var r,s,o=0;o<e.length;o++){var i=e[o],n=jspb.Message.getField(t,i);n!=null&&(r=i,s=n,jspb.Message.setField(t,i,void 0))}return r?(jspb.Message.setField(t,r,s),r):0},goog.exportProperty(jspb.Message,"computeOneofCase",jspb.Message.computeOneofCase),jspb.Message.getWrapperField=function(t,e,r,s){if(t.wrappers_||(t.wrappers_={}),!t.wrappers_[r]){var o=jspb.Message.getField(t,r);(s||o)&&(t.wrappers_[r]=new e(o))}return t.wrappers_[r]},goog.exportProperty(jspb.Message,"getWrapperField",jspb.Message.getWrapperField),jspb.Message.getRepeatedWrapperField=function(t,e,r){return jspb.Message.wrapRepeatedField_(t,e,r),(e=t.wrappers_[r])==jspb.Message.EMPTY_LIST_SENTINEL_&&(e=t.wrappers_[r]=[]),e},goog.exportProperty(jspb.Message,"getRepeatedWrapperField",jspb.Message.getRepeatedWrapperField),jspb.Message.wrapRepeatedField_=function(t,e,r){if(t.wrappers_||(t.wrappers_={}),!t.wrappers_[r]){for(var s=jspb.Message.getRepeatedField(t,r),o=[],i=0;i<s.length;i++)o[i]=new e(s[i]);t.wrappers_[r]=o}},jspb.Message.setWrapperField=function(t,e,r){jspb.asserts.assertInstanceof(t,jspb.Message),t.wrappers_||(t.wrappers_={});var s=r&&r.toArray();return t.wrappers_[e]=r,jspb.Message.setField(t,e,s)},goog.exportProperty(jspb.Message,"setWrapperField",jspb.Message.setWrapperField),jspb.Message.setOneofWrapperField=function(t,e,r,s){jspb.asserts.assertInstanceof(t,jspb.Message),t.wrappers_||(t.wrappers_={});var o=s&&s.toArray();return t.wrappers_[e]=s,jspb.Message.setOneofField(t,e,r,o)},goog.exportProperty(jspb.Message,"setOneofWrapperField",jspb.Message.setOneofWrapperField),jspb.Message.setRepeatedWrapperField=function(t,e,r){jspb.asserts.assertInstanceof(t,jspb.Message),t.wrappers_||(t.wrappers_={}),r=r||[];for(var s=[],o=0;o<r.length;o++)s[o]=r[o].toArray();return t.wrappers_[e]=r,jspb.Message.setField(t,e,s)},goog.exportProperty(jspb.Message,"setRepeatedWrapperField",jspb.Message.setRepeatedWrapperField),jspb.Message.addToRepeatedWrapperField=function(t,e,r,s,o){jspb.Message.wrapRepeatedField_(t,s,e);var i=t.wrappers_[e];return i||(i=t.wrappers_[e]=[]),r=r||new s,t=jspb.Message.getRepeatedField(t,e),o!=null?(i.splice(o,0,r),t.splice(o,0,r.toArray())):(i.push(r),t.push(r.toArray())),r},goog.exportProperty(jspb.Message,"addToRepeatedWrapperField",jspb.Message.addToRepeatedWrapperField),jspb.Message.toMap=function(t,e,r,s){for(var o={},i=0;i<t.length;i++)o[e.call(t[i])]=r?r.call(t[i],s,t[i]):t[i];return o},goog.exportProperty(jspb.Message,"toMap",jspb.Message.toMap),jspb.Message.prototype.syncMapFields_=function(){if(this.wrappers_)for(var t in this.wrappers_){var e=this.wrappers_[t];if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]&&e[r].toArray();else e&&e.toArray()}},jspb.Message.prototype.toArray=function(){return this.syncMapFields_(),this.array},goog.exportProperty(jspb.Message.prototype,"toArray",jspb.Message.prototype.toArray),jspb.Message.GENERATE_TO_STRING&&(jspb.Message.prototype.toString=function(){return this.syncMapFields_(),this.array.toString()}),jspb.Message.prototype.getExtension=function(t){if(this.extensionObject_){this.wrappers_||(this.wrappers_={});var e=t.fieldIndex;if(t.isRepeated){if(t.isMessageType())return this.wrappers_[e]||(this.wrappers_[e]=goog.array.map(this.extensionObject_[e]||[],function(r){return new t.ctor(r)})),this.wrappers_[e]}else if(t.isMessageType())return!this.wrappers_[e]&&this.extensionObject_[e]&&(this.wrappers_[e]=new t.ctor(this.extensionObject_[e])),this.wrappers_[e];return this.extensionObject_[e]}},goog.exportProperty(jspb.Message.prototype,"getExtension",jspb.Message.prototype.getExtension),jspb.Message.prototype.setExtension=function(t,e){this.wrappers_||(this.wrappers_={}),jspb.Message.maybeInitEmptyExtensionObject_(this);var r=t.fieldIndex;return t.isRepeated?(e=e||[],t.isMessageType()?(this.wrappers_[r]=e,this.extensionObject_[r]=goog.array.map(e,function(s){return s.toArray()})):this.extensionObject_[r]=e):t.isMessageType()?(this.wrappers_[r]=e,this.extensionObject_[r]=e&&e.toArray()):this.extensionObject_[r]=e,this},goog.exportProperty(jspb.Message.prototype,"setExtension",jspb.Message.prototype.setExtension),jspb.Message.difference=function(t,e){if(!(t instanceof e.constructor))throw Error("Messages have different types.");var r=t.toArray();e=e.toArray();var s=[],o=0,i=r.length>e.length?r.length:e.length;for(t.getJsPbMessageId()&&(s[0]=t.getJsPbMessageId(),o=1);o<i;o++)jspb.Message.compareFields(r[o],e[o])||(s[o]=e[o]);return new t.constructor(s)},goog.exportProperty(jspb.Message,"difference",jspb.Message.difference),jspb.Message.equals=function(t,e){return t==e||!(!t||!e)&&t instanceof e.constructor&&jspb.Message.compareFields(t.toArray(),e.toArray())},goog.exportProperty(jspb.Message,"equals",jspb.Message.equals),jspb.Message.compareExtensions=function(t,e){t=t||{},e=e||{};var r,s={};for(r in t)s[r]=0;for(r in e)s[r]=0;for(r in s)if(!jspb.Message.compareFields(t[r],e[r]))return!1;return!0},goog.exportProperty(jspb.Message,"compareExtensions",jspb.Message.compareExtensions),jspb.Message.compareFields=function(t,e){if(t==e)return!0;if(!goog.isObject(t)||!goog.isObject(e))return!!(typeof t=="number"&&isNaN(t)||typeof e=="number"&&isNaN(e))&&String(t)==String(e);if(t.constructor!=e.constructor)return!1;if(jspb.Message.SUPPORTS_UINT8ARRAY_&&t.constructor===Uint8Array){if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!=e[r])return!1;return!0}if(t.constructor===Array){var s=void 0,o=void 0,i=Math.max(t.length,e.length);for(r=0;r<i;r++){var n=t[r],p=e[r];if(n&&n.constructor==Object&&(jspb.asserts.assert(s===void 0),jspb.asserts.assert(r===t.length-1),s=n,n=void 0),p&&p.constructor==Object&&(jspb.asserts.assert(o===void 0),jspb.asserts.assert(r===e.length-1),o=p,p=void 0),!jspb.Message.compareFields(n,p))return!1}return!s&&!o||(s=s||{},o=o||{},jspb.Message.compareExtensions(s,o))}if(t.constructor===Object)return jspb.Message.compareExtensions(t,e);throw Error("Invalid type in JSPB array")},goog.exportProperty(jspb.Message,"compareFields",jspb.Message.compareFields),jspb.Message.prototype.cloneMessage=function(){return jspb.Message.cloneMessage(this)},goog.exportProperty(jspb.Message.prototype,"cloneMessage",jspb.Message.prototype.cloneMessage),jspb.Message.prototype.clone=function(){return jspb.Message.cloneMessage(this)},goog.exportProperty(jspb.Message.prototype,"clone",jspb.Message.prototype.clone),jspb.Message.clone=function(t){return jspb.Message.cloneMessage(t)},goog.exportProperty(jspb.Message,"clone",jspb.Message.clone),jspb.Message.cloneMessage=function(t){return new t.constructor(jspb.Message.clone_(t.toArray()))},jspb.Message.copyInto=function(t,e){jspb.asserts.assertInstanceof(t,jspb.Message),jspb.asserts.assertInstanceof(e,jspb.Message),jspb.asserts.assert(t.constructor==e.constructor,"Copy source and target message should have the same type."),t=jspb.Message.clone(t);for(var r=e.toArray(),s=t.toArray(),o=r.length=0;o<s.length;o++)r[o]=s[o];e.wrappers_=t.wrappers_,e.extensionObject_=t.extensionObject_},goog.exportProperty(jspb.Message,"copyInto",jspb.Message.copyInto),jspb.Message.clone_=function(t){if(Array.isArray(t)){for(var e=Array(t.length),r=0;r<t.length;r++){var s=t[r];s!=null&&(e[r]=typeof s=="object"?jspb.Message.clone_(jspb.asserts.assert(s)):s)}return e}if(jspb.Message.SUPPORTS_UINT8ARRAY_&&t instanceof Uint8Array)return new Uint8Array(t);for(r in e={},t)(s=t[r])!=null&&(e[r]=typeof s=="object"?jspb.Message.clone_(jspb.asserts.assert(s)):s);return e},jspb.Message.registerMessageType=function(t,e){e.messageId=t},goog.exportProperty(jspb.Message,"registerMessageType",jspb.Message.registerMessageType),jspb.Message.messageSetExtensions={},jspb.Message.messageSetExtensionsBinary={},jspb.Export={},exports.Map=jspb.Map,exports.Message=jspb.Message,exports.BinaryReader=jspb.BinaryReader,exports.BinaryWriter=jspb.BinaryWriter,exports.ExtensionFieldInfo=jspb.ExtensionFieldInfo,exports.ExtensionFieldBinaryInfo=jspb.ExtensionFieldBinaryInfo,exports.exportSymbol=goog.exportSymbol,exports.inherits=goog.inherits,exports.object={extend:goog.object.extend},exports.typeOf=goog.typeOf})(googleProtobuf);var calculator_options_pb={};(function(t){var e=googleProtobuf,r=e,s=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||s!==void 0&&s||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.CalculatorOptions",null,s),proto.mediapipe.CalculatorOptions=function(o){e.Message.initialize(this,o,0,2,null,null)},r.inherits(proto.mediapipe.CalculatorOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.CalculatorOptions.displayName="proto.mediapipe.CalculatorOptions"),proto.mediapipe.CalculatorOptions.extensions={},proto.mediapipe.CalculatorOptions.extensionsBinary={},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.CalculatorOptions.prototype.toObject=function(o){return proto.mediapipe.CalculatorOptions.toObject(o,this)},proto.mediapipe.CalculatorOptions.toObject=function(o,i){var n,p={mergeFields:(n=e.Message.getBooleanField(i,1))==null?void 0:n};return e.Message.toObjectExtension(i,p,proto.mediapipe.CalculatorOptions.extensions,proto.mediapipe.CalculatorOptions.prototype.getExtension,o),o&&(p.$jspbMessageInstance=i),p}),proto.mediapipe.CalculatorOptions.deserializeBinary=function(o){var i=new e.BinaryReader(o),n=new proto.mediapipe.CalculatorOptions;return proto.mediapipe.CalculatorOptions.deserializeBinaryFromReader(n,i)},proto.mediapipe.CalculatorOptions.deserializeBinaryFromReader=function(o,i){for(;i.nextField()&&!i.isEndGroup();)if(i.getFieldNumber()===1){var n=i.readBool();o.setMergeFields(n)}else e.Message.readBinaryExtension(o,i,proto.mediapipe.CalculatorOptions.extensionsBinary,proto.mediapipe.CalculatorOptions.prototype.getExtension,proto.mediapipe.CalculatorOptions.prototype.setExtension);return o},proto.mediapipe.CalculatorOptions.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.CalculatorOptions.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.CalculatorOptions.serializeBinaryToWriter=function(o,i){var n;(n=e.Message.getField(o,1))!=null&&i.writeBool(1,n),e.Message.serializeBinaryExtensions(o,i,proto.mediapipe.CalculatorOptions.extensionsBinary,proto.mediapipe.CalculatorOptions.prototype.getExtension)},proto.mediapipe.CalculatorOptions.prototype.getMergeFields=function(){return e.Message.getBooleanFieldWithDefault(this,1,!1)},proto.mediapipe.CalculatorOptions.prototype.setMergeFields=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.CalculatorOptions.prototype.clearMergeFields=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.CalculatorOptions.prototype.hasMergeFields=function(){return e.Message.getField(this,1)!=null},r.object.extend(t,proto.mediapipe)})(calculator_options_pb);var any_pb={};(function(t){var e=googleProtobuf,r=e,s=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||s!==void 0&&s||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.google.protobuf.Any",null,s),proto.google.protobuf.Any=function(o){e.Message.initialize(this,o,0,-1,null,null)},r.inherits(proto.google.protobuf.Any,e.Message),r.DEBUG&&!COMPILED&&(proto.google.protobuf.Any.displayName="proto.google.protobuf.Any"),e.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.Any.prototype.toObject=function(o){return proto.google.protobuf.Any.toObject(o,this)},proto.google.protobuf.Any.toObject=function(o,i){var n={typeUrl:e.Message.getFieldWithDefault(i,1,""),value:i.getValue_asB64()};return o&&(n.$jspbMessageInstance=i),n}),proto.google.protobuf.Any.deserializeBinary=function(o){var i=new e.BinaryReader(o),n=new proto.google.protobuf.Any;return proto.google.protobuf.Any.deserializeBinaryFromReader(n,i)},proto.google.protobuf.Any.deserializeBinaryFromReader=function(o,i){for(;i.nextField()&&!i.isEndGroup();)switch(i.getFieldNumber()){case 1:var n=i.readString();o.setTypeUrl(n);break;case 2:n=i.readBytes(),o.setValue(n);break;default:i.skipField()}return o},proto.google.protobuf.Any.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.google.protobuf.Any.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.google.protobuf.Any.serializeBinaryToWriter=function(o,i){var n=void 0;(n=o.getTypeUrl()).length>0&&i.writeString(1,n),(n=o.getValue_asU8()).length>0&&i.writeBytes(2,n)},proto.google.protobuf.Any.prototype.getTypeUrl=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.google.protobuf.Any.prototype.setTypeUrl=function(o){return e.Message.setProto3StringField(this,1,o)},proto.google.protobuf.Any.prototype.getValue=function(){return e.Message.getFieldWithDefault(this,2,"")},proto.google.protobuf.Any.prototype.getValue_asB64=function(){return e.Message.bytesAsB64(this.getValue())},proto.google.protobuf.Any.prototype.getValue_asU8=function(){return e.Message.bytesAsU8(this.getValue())},proto.google.protobuf.Any.prototype.setValue=function(o){return e.Message.setProto3BytesField(this,2,o)},r.object.extend(t,proto.google.protobuf),proto.google.protobuf.Any.prototype.getTypeName=function(){return this.getTypeUrl().split("/").pop()},proto.google.protobuf.Any.prototype.pack=function(o,i,n){n||(n="type.googleapis.com/"),n.substr(-1)!="/"?this.setTypeUrl(n+"/"+i):this.setTypeUrl(n+i),this.setValue(o)},proto.google.protobuf.Any.prototype.unpack=function(o,i){return this.getTypeName()==i?o(this.getValue_asU8()):null}})(any_pb);var mediapipe_options_pb={};(function(t){var e=googleProtobuf,r=e,s=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||s!==void 0&&s||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.MediaPipeOptions",null,s),proto.mediapipe.MediaPipeOptions=function(o){e.Message.initialize(this,o,0,1,null,null)},r.inherits(proto.mediapipe.MediaPipeOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.MediaPipeOptions.displayName="proto.mediapipe.MediaPipeOptions"),proto.mediapipe.MediaPipeOptions.extensions={},proto.mediapipe.MediaPipeOptions.extensionsBinary={},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.MediaPipeOptions.prototype.toObject=function(o){return proto.mediapipe.MediaPipeOptions.toObject(o,this)},proto.mediapipe.MediaPipeOptions.toObject=function(o,i){var n={};return e.Message.toObjectExtension(i,n,proto.mediapipe.MediaPipeOptions.extensions,proto.mediapipe.MediaPipeOptions.prototype.getExtension,o),o&&(n.$jspbMessageInstance=i),n}),proto.mediapipe.MediaPipeOptions.deserializeBinary=function(o){var i=new e.BinaryReader(o),n=new proto.mediapipe.MediaPipeOptions;return proto.mediapipe.MediaPipeOptions.deserializeBinaryFromReader(n,i)},proto.mediapipe.MediaPipeOptions.deserializeBinaryFromReader=function(o,i){for(;i.nextField()&&!i.isEndGroup();)i.getFieldNumber(),e.Message.readBinaryExtension(o,i,proto.mediapipe.MediaPipeOptions.extensionsBinary,proto.mediapipe.MediaPipeOptions.prototype.getExtension,proto.mediapipe.MediaPipeOptions.prototype.setExtension);return o},proto.mediapipe.MediaPipeOptions.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.MediaPipeOptions.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.MediaPipeOptions.serializeBinaryToWriter=function(o,i){e.Message.serializeBinaryExtensions(o,i,proto.mediapipe.MediaPipeOptions.extensionsBinary,proto.mediapipe.MediaPipeOptions.prototype.getExtension)},r.object.extend(t,proto.mediapipe)})(mediapipe_options_pb);var packet_factory_pb={};(function(t){var e=googleProtobuf,r=e,s=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||s!==void 0&&s||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.PacketFactoryConfig",null,s),r.exportSymbol("proto.mediapipe.PacketFactoryOptions",null,s),r.exportSymbol("proto.mediapipe.PacketManagerConfig",null,s),proto.mediapipe.PacketFactoryOptions=function(o){e.Message.initialize(this,o,0,1,null,null)},r.inherits(proto.mediapipe.PacketFactoryOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.PacketFactoryOptions.displayName="proto.mediapipe.PacketFactoryOptions"),proto.mediapipe.PacketFactoryOptions.extensions={},proto.mediapipe.PacketFactoryOptions.extensionsBinary={},proto.mediapipe.PacketFactoryConfig=function(o){e.Message.initialize(this,o,0,500,null,null)},r.inherits(proto.mediapipe.PacketFactoryConfig,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.PacketFactoryConfig.displayName="proto.mediapipe.PacketFactoryConfig"),proto.mediapipe.PacketManagerConfig=function(o){e.Message.initialize(this,o,0,-1,proto.mediapipe.PacketManagerConfig.repeatedFields_,null)},r.inherits(proto.mediapipe.PacketManagerConfig,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.PacketManagerConfig.displayName="proto.mediapipe.PacketManagerConfig"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.PacketFactoryOptions.prototype.toObject=function(o){return proto.mediapipe.PacketFactoryOptions.toObject(o,this)},proto.mediapipe.PacketFactoryOptions.toObject=function(o,i){var n={};return e.Message.toObjectExtension(i,n,proto.mediapipe.PacketFactoryOptions.extensions,proto.mediapipe.PacketFactoryOptions.prototype.getExtension,o),o&&(n.$jspbMessageInstance=i),n}),proto.mediapipe.PacketFactoryOptions.deserializeBinary=function(o){var i=new e.BinaryReader(o),n=new proto.mediapipe.PacketFactoryOptions;return proto.mediapipe.PacketFactoryOptions.deserializeBinaryFromReader(n,i)},proto.mediapipe.PacketFactoryOptions.deserializeBinaryFromReader=function(o,i){for(;i.nextField()&&!i.isEndGroup();)i.getFieldNumber(),e.Message.readBinaryExtension(o,i,proto.mediapipe.PacketFactoryOptions.extensionsBinary,proto.mediapipe.PacketFactoryOptions.prototype.getExtension,proto.mediapipe.PacketFactoryOptions.prototype.setExtension);return o},proto.mediapipe.PacketFactoryOptions.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.PacketFactoryOptions.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.PacketFactoryOptions.serializeBinaryToWriter=function(o,i){e.Message.serializeBinaryExtensions(o,i,proto.mediapipe.PacketFactoryOptions.extensionsBinary,proto.mediapipe.PacketFactoryOptions.prototype.getExtension)},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.PacketFactoryConfig.prototype.toObject=function(o){return proto.mediapipe.PacketFactoryConfig.toObject(o,this)},proto.mediapipe.PacketFactoryConfig.toObject=function(o,i){var n,p={packetFactory:(n=e.Message.getField(i,1))==null?void 0:n,outputSidePacket:(n=e.Message.getField(i,2))==null?void 0:n,externalOutput:(n=e.Message.getField(i,1002))==null?void 0:n,options:(n=i.getOptions())&&proto.mediapipe.PacketFactoryOptions.toObject(o,n)};return o&&(p.$jspbMessageInstance=i),p}),proto.mediapipe.PacketFactoryConfig.deserializeBinary=function(o){var i=new e.BinaryReader(o),n=new proto.mediapipe.PacketFactoryConfig;return proto.mediapipe.PacketFactoryConfig.deserializeBinaryFromReader(n,i)},proto.mediapipe.PacketFactoryConfig.deserializeBinaryFromReader=function(o,i){for(;i.nextField()&&!i.isEndGroup();)switch(i.getFieldNumber()){case 1:var n=i.readString();o.setPacketFactory(n);break;case 2:n=i.readString(),o.setOutputSidePacket(n);break;case 1002:n=i.readString(),o.setExternalOutput(n);break;case 3:n=new proto.mediapipe.PacketFactoryOptions,i.readMessage(n,proto.mediapipe.PacketFactoryOptions.deserializeBinaryFromReader),o.setOptions(n);break;default:i.skipField()}return o},proto.mediapipe.PacketFactoryConfig.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.PacketFactoryConfig.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.PacketFactoryConfig.serializeBinaryToWriter=function(o,i){var n=void 0;(n=e.Message.getField(o,1))!=null&&i.writeString(1,n),(n=e.Message.getField(o,2))!=null&&i.writeString(2,n),(n=e.Message.getField(o,1002))!=null&&i.writeString(1002,n),(n=o.getOptions())!=null&&i.writeMessage(3,n,proto.mediapipe.PacketFactoryOptions.serializeBinaryToWriter)},proto.mediapipe.PacketFactoryConfig.prototype.getPacketFactory=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.PacketFactoryConfig.prototype.setPacketFactory=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.PacketFactoryConfig.prototype.clearPacketFactory=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.PacketFactoryConfig.prototype.hasPacketFactory=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.PacketFactoryConfig.prototype.getOutputSidePacket=function(){return e.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.PacketFactoryConfig.prototype.setOutputSidePacket=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.PacketFactoryConfig.prototype.clearOutputSidePacket=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.PacketFactoryConfig.prototype.hasOutputSidePacket=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.PacketFactoryConfig.prototype.getExternalOutput=function(){return e.Message.getFieldWithDefault(this,1002,"")},proto.mediapipe.PacketFactoryConfig.prototype.setExternalOutput=function(o){return e.Message.setField(this,1002,o)},proto.mediapipe.PacketFactoryConfig.prototype.clearExternalOutput=function(){return e.Message.setField(this,1002,void 0)},proto.mediapipe.PacketFactoryConfig.prototype.hasExternalOutput=function(){return e.Message.getField(this,1002)!=null},proto.mediapipe.PacketFactoryConfig.prototype.getOptions=function(){return e.Message.getWrapperField(this,proto.mediapipe.PacketFactoryOptions,3)},proto.mediapipe.PacketFactoryConfig.prototype.setOptions=function(o){return e.Message.setWrapperField(this,3,o)},proto.mediapipe.PacketFactoryConfig.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.PacketFactoryConfig.prototype.hasOptions=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.PacketManagerConfig.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.PacketManagerConfig.prototype.toObject=function(o){return proto.mediapipe.PacketManagerConfig.toObject(o,this)},proto.mediapipe.PacketManagerConfig.toObject=function(o,i){var n={packetList:e.Message.toObjectList(i.getPacketList(),proto.mediapipe.PacketFactoryConfig.toObject,o)};return o&&(n.$jspbMessageInstance=i),n}),proto.mediapipe.PacketManagerConfig.deserializeBinary=function(o){var i=new e.BinaryReader(o),n=new proto.mediapipe.PacketManagerConfig;return proto.mediapipe.PacketManagerConfig.deserializeBinaryFromReader(n,i)},proto.mediapipe.PacketManagerConfig.deserializeBinaryFromReader=function(o,i){for(;i.nextField()&&!i.isEndGroup();)if(i.getFieldNumber()===1){var n=new proto.mediapipe.PacketFactoryConfig;i.readMessage(n,proto.mediapipe.PacketFactoryConfig.deserializeBinaryFromReader),o.addPacket(n)}else i.skipField();return o},proto.mediapipe.PacketManagerConfig.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.PacketManagerConfig.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.PacketManagerConfig.serializeBinaryToWriter=function(o,i){var n;(n=o.getPacketList()).length>0&&i.writeRepeatedMessage(1,n,proto.mediapipe.PacketFactoryConfig.serializeBinaryToWriter)},proto.mediapipe.PacketManagerConfig.prototype.getPacketList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.PacketFactoryConfig,1)},proto.mediapipe.PacketManagerConfig.prototype.setPacketList=function(o){return e.Message.setRepeatedWrapperField(this,1,o)},proto.mediapipe.PacketManagerConfig.prototype.addPacket=function(o,i){return e.Message.addToRepeatedWrapperField(this,1,o,proto.mediapipe.PacketFactoryConfig,i)},proto.mediapipe.PacketManagerConfig.prototype.clearPacketList=function(){return this.setPacketList([])},r.object.extend(t,proto.mediapipe)})(packet_factory_pb);var packet_generator_pb={};(function(t){var e=googleProtobuf,r=e,s=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||s!==void 0&&s||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.PacketGeneratorConfig",null,s),r.exportSymbol("proto.mediapipe.PacketGeneratorOptions",null,s),proto.mediapipe.PacketGeneratorOptions=function(o){e.Message.initialize(this,o,0,2,null,null)},r.inherits(proto.mediapipe.PacketGeneratorOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.PacketGeneratorOptions.displayName="proto.mediapipe.PacketGeneratorOptions"),proto.mediapipe.PacketGeneratorOptions.extensions={},proto.mediapipe.PacketGeneratorOptions.extensionsBinary={},proto.mediapipe.PacketGeneratorConfig=function(o){e.Message.initialize(this,o,0,500,proto.mediapipe.PacketGeneratorConfig.repeatedFields_,null)},r.inherits(proto.mediapipe.PacketGeneratorConfig,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.PacketGeneratorConfig.displayName="proto.mediapipe.PacketGeneratorConfig"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.PacketGeneratorOptions.prototype.toObject=function(o){return proto.mediapipe.PacketGeneratorOptions.toObject(o,this)},proto.mediapipe.PacketGeneratorOptions.toObject=function(o,i){var n={mergeFields:e.Message.getBooleanFieldWithDefault(i,1,!0)};return e.Message.toObjectExtension(i,n,proto.mediapipe.PacketGeneratorOptions.extensions,proto.mediapipe.PacketGeneratorOptions.prototype.getExtension,o),o&&(n.$jspbMessageInstance=i),n}),proto.mediapipe.PacketGeneratorOptions.deserializeBinary=function(o){var i=new e.BinaryReader(o),n=new proto.mediapipe.PacketGeneratorOptions;return proto.mediapipe.PacketGeneratorOptions.deserializeBinaryFromReader(n,i)},proto.mediapipe.PacketGeneratorOptions.deserializeBinaryFromReader=function(o,i){for(;i.nextField()&&!i.isEndGroup();)if(i.getFieldNumber()===1){var n=i.readBool();o.setMergeFields(n)}else e.Message.readBinaryExtension(o,i,proto.mediapipe.PacketGeneratorOptions.extensionsBinary,proto.mediapipe.PacketGeneratorOptions.prototype.getExtension,proto.mediapipe.PacketGeneratorOptions.prototype.setExtension);return o},proto.mediapipe.PacketGeneratorOptions.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.PacketGeneratorOptions.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.PacketGeneratorOptions.serializeBinaryToWriter=function(o,i){var n;(n=e.Message.getField(o,1))!=null&&i.writeBool(1,n),e.Message.serializeBinaryExtensions(o,i,proto.mediapipe.PacketGeneratorOptions.extensionsBinary,proto.mediapipe.PacketGeneratorOptions.prototype.getExtension)},proto.mediapipe.PacketGeneratorOptions.prototype.getMergeFields=function(){return e.Message.getBooleanFieldWithDefault(this,1,!0)},proto.mediapipe.PacketGeneratorOptions.prototype.setMergeFields=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.PacketGeneratorOptions.prototype.clearMergeFields=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.PacketGeneratorOptions.prototype.hasMergeFields=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.PacketGeneratorConfig.repeatedFields_=[2,1002,3,1003],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.PacketGeneratorConfig.prototype.toObject=function(o){return proto.mediapipe.PacketGeneratorConfig.toObject(o,this)},proto.mediapipe.PacketGeneratorConfig.toObject=function(o,i){var n,p={packetGenerator:(n=e.Message.getField(i,1))==null?void 0:n,inputSidePacketList:(n=e.Message.getRepeatedField(i,2))==null?void 0:n,externalInputList:(n=e.Message.getRepeatedField(i,1002))==null?void 0:n,outputSidePacketList:(n=e.Message.getRepeatedField(i,3))==null?void 0:n,externalOutputList:(n=e.Message.getRepeatedField(i,1003))==null?void 0:n,options:(n=i.getOptions())&&proto.mediapipe.PacketGeneratorOptions.toObject(o,n)};return o&&(p.$jspbMessageInstance=i),p}),proto.mediapipe.PacketGeneratorConfig.deserializeBinary=function(o){var i=new e.BinaryReader(o),n=new proto.mediapipe.PacketGeneratorConfig;return proto.mediapipe.PacketGeneratorConfig.deserializeBinaryFromReader(n,i)},proto.mediapipe.PacketGeneratorConfig.deserializeBinaryFromReader=function(o,i){for(;i.nextField()&&!i.isEndGroup();)switch(i.getFieldNumber()){case 1:var n=i.readString();o.setPacketGenerator(n);break;case 2:n=i.readString(),o.addInputSidePacket(n);break;case 1002:n=i.readString(),o.addExternalInput(n);break;case 3:n=i.readString(),o.addOutputSidePacket(n);break;case 1003:n=i.readString(),o.addExternalOutput(n);break;case 4:n=new proto.mediapipe.PacketGeneratorOptions,i.readMessage(n,proto.mediapipe.PacketGeneratorOptions.deserializeBinaryFromReader),o.setOptions(n);break;default:i.skipField()}return o},proto.mediapipe.PacketGeneratorConfig.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.PacketGeneratorConfig.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.PacketGeneratorConfig.serializeBinaryToWriter=function(o,i){var n=void 0;(n=e.Message.getField(o,1))!=null&&i.writeString(1,n),(n=o.getInputSidePacketList()).length>0&&i.writeRepeatedString(2,n),(n=o.getExternalInputList()).length>0&&i.writeRepeatedString(1002,n),(n=o.getOutputSidePacketList()).length>0&&i.writeRepeatedString(3,n),(n=o.getExternalOutputList()).length>0&&i.writeRepeatedString(1003,n),(n=o.getOptions())!=null&&i.writeMessage(4,n,proto.mediapipe.PacketGeneratorOptions.serializeBinaryToWriter)},proto.mediapipe.PacketGeneratorConfig.prototype.getPacketGenerator=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.PacketGeneratorConfig.prototype.setPacketGenerator=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.PacketGeneratorConfig.prototype.clearPacketGenerator=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.PacketGeneratorConfig.prototype.hasPacketGenerator=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.PacketGeneratorConfig.prototype.getInputSidePacketList=function(){return e.Message.getRepeatedField(this,2)},proto.mediapipe.PacketGeneratorConfig.prototype.setInputSidePacketList=function(o){return e.Message.setField(this,2,o||[])},proto.mediapipe.PacketGeneratorConfig.prototype.addInputSidePacket=function(o,i){return e.Message.addToRepeatedField(this,2,o,i)},proto.mediapipe.PacketGeneratorConfig.prototype.clearInputSidePacketList=function(){return this.setInputSidePacketList([])},proto.mediapipe.PacketGeneratorConfig.prototype.getExternalInputList=function(){return e.Message.getRepeatedField(this,1002)},proto.mediapipe.PacketGeneratorConfig.prototype.setExternalInputList=function(o){return e.Message.setField(this,1002,o||[])},proto.mediapipe.PacketGeneratorConfig.prototype.addExternalInput=function(o,i){return e.Message.addToRepeatedField(this,1002,o,i)},proto.mediapipe.PacketGeneratorConfig.prototype.clearExternalInputList=function(){return this.setExternalInputList([])},proto.mediapipe.PacketGeneratorConfig.prototype.getOutputSidePacketList=function(){return e.Message.getRepeatedField(this,3)},proto.mediapipe.PacketGeneratorConfig.prototype.setOutputSidePacketList=function(o){return e.Message.setField(this,3,o||[])},proto.mediapipe.PacketGeneratorConfig.prototype.addOutputSidePacket=function(o,i){return e.Message.addToRepeatedField(this,3,o,i)},proto.mediapipe.PacketGeneratorConfig.prototype.clearOutputSidePacketList=function(){return this.setOutputSidePacketList([])},proto.mediapipe.PacketGeneratorConfig.prototype.getExternalOutputList=function(){return e.Message.getRepeatedField(this,1003)},proto.mediapipe.PacketGeneratorConfig.prototype.setExternalOutputList=function(o){return e.Message.setField(this,1003,o||[])},proto.mediapipe.PacketGeneratorConfig.prototype.addExternalOutput=function(o,i){return e.Message.addToRepeatedField(this,1003,o,i)},proto.mediapipe.PacketGeneratorConfig.prototype.clearExternalOutputList=function(){return this.setExternalOutputList([])},proto.mediapipe.PacketGeneratorConfig.prototype.getOptions=function(){return e.Message.getWrapperField(this,proto.mediapipe.PacketGeneratorOptions,4)},proto.mediapipe.PacketGeneratorConfig.prototype.setOptions=function(o){return e.Message.setWrapperField(this,4,o)},proto.mediapipe.PacketGeneratorConfig.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.PacketGeneratorConfig.prototype.hasOptions=function(){return e.Message.getField(this,4)!=null},r.object.extend(t,proto.mediapipe)})(packet_generator_pb);var status_handler_pb={};(function(t){var e=googleProtobuf,r=e,s=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||s!==void 0&&s||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=mediapipe_options_pb;r.object.extend(proto,o),r.exportSymbol("proto.mediapipe.StatusHandlerConfig",null,s),proto.mediapipe.StatusHandlerConfig=function(i){e.Message.initialize(this,i,0,500,proto.mediapipe.StatusHandlerConfig.repeatedFields_,null)},r.inherits(proto.mediapipe.StatusHandlerConfig,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.StatusHandlerConfig.displayName="proto.mediapipe.StatusHandlerConfig"),proto.mediapipe.StatusHandlerConfig.repeatedFields_=[2,1002],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.StatusHandlerConfig.prototype.toObject=function(i){return proto.mediapipe.StatusHandlerConfig.toObject(i,this)},proto.mediapipe.StatusHandlerConfig.toObject=function(i,n){var p,d={statusHandler:(p=e.Message.getField(n,1))==null?void 0:p,inputSidePacketList:(p=e.Message.getRepeatedField(n,2))==null?void 0:p,externalInputList:(p=e.Message.getRepeatedField(n,1002))==null?void 0:p,options:(p=n.getOptions())&&o.MediaPipeOptions.toObject(i,p)};return i&&(d.$jspbMessageInstance=n),d}),proto.mediapipe.StatusHandlerConfig.deserializeBinary=function(i){var n=new e.BinaryReader(i),p=new proto.mediapipe.StatusHandlerConfig;return proto.mediapipe.StatusHandlerConfig.deserializeBinaryFromReader(p,n)},proto.mediapipe.StatusHandlerConfig.deserializeBinaryFromReader=function(i,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:var p=n.readString();i.setStatusHandler(p);break;case 2:p=n.readString(),i.addInputSidePacket(p);break;case 1002:p=n.readString(),i.addExternalInput(p);break;case 3:p=new o.MediaPipeOptions,n.readMessage(p,o.MediaPipeOptions.deserializeBinaryFromReader),i.setOptions(p);break;default:n.skipField()}return i},proto.mediapipe.StatusHandlerConfig.prototype.serializeBinary=function(){var i=new e.BinaryWriter;return proto.mediapipe.StatusHandlerConfig.serializeBinaryToWriter(this,i),i.getResultBuffer()},proto.mediapipe.StatusHandlerConfig.serializeBinaryToWriter=function(i,n){var p=void 0;(p=e.Message.getField(i,1))!=null&&n.writeString(1,p),(p=i.getInputSidePacketList()).length>0&&n.writeRepeatedString(2,p),(p=i.getExternalInputList()).length>0&&n.writeRepeatedString(1002,p),(p=i.getOptions())!=null&&n.writeMessage(3,p,o.MediaPipeOptions.serializeBinaryToWriter)},proto.mediapipe.StatusHandlerConfig.prototype.getStatusHandler=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.StatusHandlerConfig.prototype.setStatusHandler=function(i){return e.Message.setField(this,1,i)},proto.mediapipe.StatusHandlerConfig.prototype.clearStatusHandler=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.StatusHandlerConfig.prototype.hasStatusHandler=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.StatusHandlerConfig.prototype.getInputSidePacketList=function(){return e.Message.getRepeatedField(this,2)},proto.mediapipe.StatusHandlerConfig.prototype.setInputSidePacketList=function(i){return e.Message.setField(this,2,i||[])},proto.mediapipe.StatusHandlerConfig.prototype.addInputSidePacket=function(i,n){return e.Message.addToRepeatedField(this,2,i,n)},proto.mediapipe.StatusHandlerConfig.prototype.clearInputSidePacketList=function(){return this.setInputSidePacketList([])},proto.mediapipe.StatusHandlerConfig.prototype.getExternalInputList=function(){return e.Message.getRepeatedField(this,1002)},proto.mediapipe.StatusHandlerConfig.prototype.setExternalInputList=function(i){return e.Message.setField(this,1002,i||[])},proto.mediapipe.StatusHandlerConfig.prototype.addExternalInput=function(i,n){return e.Message.addToRepeatedField(this,1002,i,n)},proto.mediapipe.StatusHandlerConfig.prototype.clearExternalInputList=function(){return this.setExternalInputList([])},proto.mediapipe.StatusHandlerConfig.prototype.getOptions=function(){return e.Message.getWrapperField(this,o.MediaPipeOptions,3)},proto.mediapipe.StatusHandlerConfig.prototype.setOptions=function(i){return e.Message.setWrapperField(this,3,i)},proto.mediapipe.StatusHandlerConfig.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.StatusHandlerConfig.prototype.hasOptions=function(){return e.Message.getField(this,3)!=null},r.object.extend(t,proto.mediapipe)})(status_handler_pb);var stream_handler_pb={};(function(t){var e=googleProtobuf,r=e,s=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||s!==void 0&&s||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=mediapipe_options_pb;r.object.extend(proto,o),r.exportSymbol("proto.mediapipe.InputStreamHandlerConfig",null,s),r.exportSymbol("proto.mediapipe.OutputStreamHandlerConfig",null,s),proto.mediapipe.InputStreamHandlerConfig=function(i){e.Message.initialize(this,i,0,-1,null,null)},r.inherits(proto.mediapipe.InputStreamHandlerConfig,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.InputStreamHandlerConfig.displayName="proto.mediapipe.InputStreamHandlerConfig"),proto.mediapipe.OutputStreamHandlerConfig=function(i){e.Message.initialize(this,i,0,-1,proto.mediapipe.OutputStreamHandlerConfig.repeatedFields_,null)},r.inherits(proto.mediapipe.OutputStreamHandlerConfig,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.OutputStreamHandlerConfig.displayName="proto.mediapipe.OutputStreamHandlerConfig"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InputStreamHandlerConfig.prototype.toObject=function(i){return proto.mediapipe.InputStreamHandlerConfig.toObject(i,this)},proto.mediapipe.InputStreamHandlerConfig.toObject=function(i,n){var p,d={inputStreamHandler:e.Message.getFieldWithDefault(n,1,"DefaultInputStreamHandler"),options:(p=n.getOptions())&&o.MediaPipeOptions.toObject(i,p)};return i&&(d.$jspbMessageInstance=n),d}),proto.mediapipe.InputStreamHandlerConfig.deserializeBinary=function(i){var n=new e.BinaryReader(i),p=new proto.mediapipe.InputStreamHandlerConfig;return proto.mediapipe.InputStreamHandlerConfig.deserializeBinaryFromReader(p,n)},proto.mediapipe.InputStreamHandlerConfig.deserializeBinaryFromReader=function(i,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:var p=n.readString();i.setInputStreamHandler(p);break;case 3:p=new o.MediaPipeOptions,n.readMessage(p,o.MediaPipeOptions.deserializeBinaryFromReader),i.setOptions(p);break;default:n.skipField()}return i},proto.mediapipe.InputStreamHandlerConfig.prototype.serializeBinary=function(){var i=new e.BinaryWriter;return proto.mediapipe.InputStreamHandlerConfig.serializeBinaryToWriter(this,i),i.getResultBuffer()},proto.mediapipe.InputStreamHandlerConfig.serializeBinaryToWriter=function(i,n){var p=void 0;(p=e.Message.getField(i,1))!=null&&n.writeString(1,p),(p=i.getOptions())!=null&&n.writeMessage(3,p,o.MediaPipeOptions.serializeBinaryToWriter)},proto.mediapipe.InputStreamHandlerConfig.prototype.getInputStreamHandler=function(){return e.Message.getFieldWithDefault(this,1,"DefaultInputStreamHandler")},proto.mediapipe.InputStreamHandlerConfig.prototype.setInputStreamHandler=function(i){return e.Message.setField(this,1,i)},proto.mediapipe.InputStreamHandlerConfig.prototype.clearInputStreamHandler=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.InputStreamHandlerConfig.prototype.hasInputStreamHandler=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.InputStreamHandlerConfig.prototype.getOptions=function(){return e.Message.getWrapperField(this,o.MediaPipeOptions,3)},proto.mediapipe.InputStreamHandlerConfig.prototype.setOptions=function(i){return e.Message.setWrapperField(this,3,i)},proto.mediapipe.InputStreamHandlerConfig.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.InputStreamHandlerConfig.prototype.hasOptions=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.OutputStreamHandlerConfig.repeatedFields_=[2],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.OutputStreamHandlerConfig.prototype.toObject=function(i){return proto.mediapipe.OutputStreamHandlerConfig.toObject(i,this)},proto.mediapipe.OutputStreamHandlerConfig.toObject=function(i,n){var p,d={outputStreamHandler:e.Message.getFieldWithDefault(n,1,"InOrderOutputStreamHandler"),inputSidePacketList:(p=e.Message.getRepeatedField(n,2))==null?void 0:p,options:(p=n.getOptions())&&o.MediaPipeOptions.toObject(i,p)};return i&&(d.$jspbMessageInstance=n),d}),proto.mediapipe.OutputStreamHandlerConfig.deserializeBinary=function(i){var n=new e.BinaryReader(i),p=new proto.mediapipe.OutputStreamHandlerConfig;return proto.mediapipe.OutputStreamHandlerConfig.deserializeBinaryFromReader(p,n)},proto.mediapipe.OutputStreamHandlerConfig.deserializeBinaryFromReader=function(i,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:var p=n.readString();i.setOutputStreamHandler(p);break;case 2:p=n.readString(),i.addInputSidePacket(p);break;case 3:p=new o.MediaPipeOptions,n.readMessage(p,o.MediaPipeOptions.deserializeBinaryFromReader),i.setOptions(p);break;default:n.skipField()}return i},proto.mediapipe.OutputStreamHandlerConfig.prototype.serializeBinary=function(){var i=new e.BinaryWriter;return proto.mediapipe.OutputStreamHandlerConfig.serializeBinaryToWriter(this,i),i.getResultBuffer()},proto.mediapipe.OutputStreamHandlerConfig.serializeBinaryToWriter=function(i,n){var p=void 0;(p=e.Message.getField(i,1))!=null&&n.writeString(1,p),(p=i.getInputSidePacketList()).length>0&&n.writeRepeatedString(2,p),(p=i.getOptions())!=null&&n.writeMessage(3,p,o.MediaPipeOptions.serializeBinaryToWriter)},proto.mediapipe.OutputStreamHandlerConfig.prototype.getOutputStreamHandler=function(){return e.Message.getFieldWithDefault(this,1,"InOrderOutputStreamHandler")},proto.mediapipe.OutputStreamHandlerConfig.prototype.setOutputStreamHandler=function(i){return e.Message.setField(this,1,i)},proto.mediapipe.OutputStreamHandlerConfig.prototype.clearOutputStreamHandler=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.OutputStreamHandlerConfig.prototype.hasOutputStreamHandler=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.OutputStreamHandlerConfig.prototype.getInputSidePacketList=function(){return e.Message.getRepeatedField(this,2)},proto.mediapipe.OutputStreamHandlerConfig.prototype.setInputSidePacketList=function(i){return e.Message.setField(this,2,i||[])},proto.mediapipe.OutputStreamHandlerConfig.prototype.addInputSidePacket=function(i,n){return e.Message.addToRepeatedField(this,2,i,n)},proto.mediapipe.OutputStreamHandlerConfig.prototype.clearInputSidePacketList=function(){return this.setInputSidePacketList([])},proto.mediapipe.OutputStreamHandlerConfig.prototype.getOptions=function(){return e.Message.getWrapperField(this,o.MediaPipeOptions,3)},proto.mediapipe.OutputStreamHandlerConfig.prototype.setOptions=function(i){return e.Message.setWrapperField(this,3,i)},proto.mediapipe.OutputStreamHandlerConfig.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.OutputStreamHandlerConfig.prototype.hasOptions=function(){return e.Message.getField(this,3)!=null},r.object.extend(t,proto.mediapipe)})(stream_handler_pb),function(t){var e=googleProtobuf,r=e,s=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||s!==void 0&&s||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_options_pb;r.object.extend(proto,o);var i=any_pb;r.object.extend(proto,i);var n=mediapipe_options_pb;r.object.extend(proto,n);var p=packet_factory_pb;r.object.extend(proto,p);var d=packet_generator_pb;r.object.extend(proto,d);var l=status_handler_pb;r.object.extend(proto,l);var u=stream_handler_pb;r.object.extend(proto,u),r.exportSymbol("proto.mediapipe.CalculatorGraphConfig",null,s),r.exportSymbol("proto.mediapipe.CalculatorGraphConfig.Node",null,s),r.exportSymbol("proto.mediapipe.ExecutorConfig",null,s),r.exportSymbol("proto.mediapipe.InputCollection",null,s),r.exportSymbol("proto.mediapipe.InputCollection.InputType",null,s),r.exportSymbol("proto.mediapipe.InputCollectionSet",null,s),r.exportSymbol("proto.mediapipe.InputStreamInfo",null,s),r.exportSymbol("proto.mediapipe.ProfilerConfig",null,s),proto.mediapipe.ExecutorConfig=function(c){e.Message.initialize(this,c,0,-1,null,null)},r.inherits(proto.mediapipe.ExecutorConfig,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.ExecutorConfig.displayName="proto.mediapipe.ExecutorConfig"),proto.mediapipe.InputCollection=function(c){e.Message.initialize(this,c,0,500,proto.mediapipe.InputCollection.repeatedFields_,null)},r.inherits(proto.mediapipe.InputCollection,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.InputCollection.displayName="proto.mediapipe.InputCollection"),proto.mediapipe.InputCollectionSet=function(c){e.Message.initialize(this,c,0,-1,proto.mediapipe.InputCollectionSet.repeatedFields_,null)},r.inherits(proto.mediapipe.InputCollectionSet,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.InputCollectionSet.displayName="proto.mediapipe.InputCollectionSet"),proto.mediapipe.InputStreamInfo=function(c){e.Message.initialize(this,c,0,-1,null,null)},r.inherits(proto.mediapipe.InputStreamInfo,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.InputStreamInfo.displayName="proto.mediapipe.InputStreamInfo"),proto.mediapipe.ProfilerConfig=function(c){e.Message.initialize(this,c,0,-1,proto.mediapipe.ProfilerConfig.repeatedFields_,null)},r.inherits(proto.mediapipe.ProfilerConfig,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.ProfilerConfig.displayName="proto.mediapipe.ProfilerConfig"),proto.mediapipe.CalculatorGraphConfig=function(c){e.Message.initialize(this,c,0,500,proto.mediapipe.CalculatorGraphConfig.repeatedFields_,null)},r.inherits(proto.mediapipe.CalculatorGraphConfig,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.CalculatorGraphConfig.displayName="proto.mediapipe.CalculatorGraphConfig"),proto.mediapipe.CalculatorGraphConfig.Node=function(c){e.Message.initialize(this,c,0,500,proto.mediapipe.CalculatorGraphConfig.Node.repeatedFields_,null)},r.inherits(proto.mediapipe.CalculatorGraphConfig.Node,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.CalculatorGraphConfig.Node.displayName="proto.mediapipe.CalculatorGraphConfig.Node"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.ExecutorConfig.prototype.toObject=function(c){return proto.mediapipe.ExecutorConfig.toObject(c,this)},proto.mediapipe.ExecutorConfig.toObject=function(c,g){var f,y={name:e.Message.getFieldWithDefault(g,1,""),type:e.Message.getFieldWithDefault(g,2,""),options:(f=g.getOptions())&&n.MediaPipeOptions.toObject(c,f)};return c&&(y.$jspbMessageInstance=g),y}),proto.mediapipe.ExecutorConfig.deserializeBinary=function(c){var g=new e.BinaryReader(c),f=new proto.mediapipe.ExecutorConfig;return proto.mediapipe.ExecutorConfig.deserializeBinaryFromReader(f,g)},proto.mediapipe.ExecutorConfig.deserializeBinaryFromReader=function(c,g){for(;g.nextField()&&!g.isEndGroup();)switch(g.getFieldNumber()){case 1:var f=g.readString();c.setName(f);break;case 2:f=g.readString(),c.setType(f);break;case 3:f=new n.MediaPipeOptions,g.readMessage(f,n.MediaPipeOptions.deserializeBinaryFromReader),c.setOptions(f);break;default:g.skipField()}return c},proto.mediapipe.ExecutorConfig.prototype.serializeBinary=function(){var c=new e.BinaryWriter;return proto.mediapipe.ExecutorConfig.serializeBinaryToWriter(this,c),c.getResultBuffer()},proto.mediapipe.ExecutorConfig.serializeBinaryToWriter=function(c,g){var f=void 0;(f=c.getName()).length>0&&g.writeString(1,f),(f=c.getType()).length>0&&g.writeString(2,f),(f=c.getOptions())!=null&&g.writeMessage(3,f,n.MediaPipeOptions.serializeBinaryToWriter)},proto.mediapipe.ExecutorConfig.prototype.getName=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.ExecutorConfig.prototype.setName=function(c){return e.Message.setProto3StringField(this,1,c)},proto.mediapipe.ExecutorConfig.prototype.getType=function(){return e.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.ExecutorConfig.prototype.setType=function(c){return e.Message.setProto3StringField(this,2,c)},proto.mediapipe.ExecutorConfig.prototype.getOptions=function(){return e.Message.getWrapperField(this,n.MediaPipeOptions,3)},proto.mediapipe.ExecutorConfig.prototype.setOptions=function(c){return e.Message.setWrapperField(this,3,c)},proto.mediapipe.ExecutorConfig.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.ExecutorConfig.prototype.hasOptions=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.InputCollection.repeatedFields_=[2,1002],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InputCollection.prototype.toObject=function(c){return proto.mediapipe.InputCollection.toObject(c,this)},proto.mediapipe.InputCollection.toObject=function(c,g){var f,y={name:e.Message.getFieldWithDefault(g,1,""),sidePacketNameList:(f=e.Message.getRepeatedField(g,2))==null?void 0:f,externalInputNameList:(f=e.Message.getRepeatedField(g,1002))==null?void 0:f,inputType:e.Message.getFieldWithDefault(g,3,0),fileName:e.Message.getFieldWithDefault(g,4,"")};return c&&(y.$jspbMessageInstance=g),y}),proto.mediapipe.InputCollection.deserializeBinary=function(c){var g=new e.BinaryReader(c),f=new proto.mediapipe.InputCollection;return proto.mediapipe.InputCollection.deserializeBinaryFromReader(f,g)},proto.mediapipe.InputCollection.deserializeBinaryFromReader=function(c,g){for(;g.nextField()&&!g.isEndGroup();)switch(g.getFieldNumber()){case 1:var f=g.readString();c.setName(f);break;case 2:f=g.readString(),c.addSidePacketName(f);break;case 1002:f=g.readString(),c.addExternalInputName(f);break;case 3:f=g.readEnum(),c.setInputType(f);break;case 4:f=g.readString(),c.setFileName(f);break;default:g.skipField()}return c},proto.mediapipe.InputCollection.prototype.serializeBinary=function(){var c=new e.BinaryWriter;return proto.mediapipe.InputCollection.serializeBinaryToWriter(this,c),c.getResultBuffer()},proto.mediapipe.InputCollection.serializeBinaryToWriter=function(c,g){var f=void 0;(f=c.getName()).length>0&&g.writeString(1,f),(f=c.getSidePacketNameList()).length>0&&g.writeRepeatedString(2,f),(f=c.getExternalInputNameList()).length>0&&g.writeRepeatedString(1002,f),(f=c.getInputType())!==0&&g.writeEnum(3,f),(f=c.getFileName()).length>0&&g.writeString(4,f)},proto.mediapipe.InputCollection.InputType={UNKNOWN:0,RECORDIO:1,FOREIGN_RECORDIO:2,FOREIGN_CSV_TEXT:3,INVALID_UPPER_BOUND:4},proto.mediapipe.InputCollection.prototype.getName=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.InputCollection.prototype.setName=function(c){return e.Message.setProto3StringField(this,1,c)},proto.mediapipe.InputCollection.prototype.getSidePacketNameList=function(){return e.Message.getRepeatedField(this,2)},proto.mediapipe.InputCollection.prototype.setSidePacketNameList=function(c){return e.Message.setField(this,2,c||[])},proto.mediapipe.InputCollection.prototype.addSidePacketName=function(c,g){return e.Message.addToRepeatedField(this,2,c,g)},proto.mediapipe.InputCollection.prototype.clearSidePacketNameList=function(){return this.setSidePacketNameList([])},proto.mediapipe.InputCollection.prototype.getExternalInputNameList=function(){return e.Message.getRepeatedField(this,1002)},proto.mediapipe.InputCollection.prototype.setExternalInputNameList=function(c){return e.Message.setField(this,1002,c||[])},proto.mediapipe.InputCollection.prototype.addExternalInputName=function(c,g){return e.Message.addToRepeatedField(this,1002,c,g)},proto.mediapipe.InputCollection.prototype.clearExternalInputNameList=function(){return this.setExternalInputNameList([])},proto.mediapipe.InputCollection.prototype.getInputType=function(){return e.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.InputCollection.prototype.setInputType=function(c){return e.Message.setProto3EnumField(this,3,c)},proto.mediapipe.InputCollection.prototype.getFileName=function(){return e.Message.getFieldWithDefault(this,4,"")},proto.mediapipe.InputCollection.prototype.setFileName=function(c){return e.Message.setProto3StringField(this,4,c)},proto.mediapipe.InputCollectionSet.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InputCollectionSet.prototype.toObject=function(c){return proto.mediapipe.InputCollectionSet.toObject(c,this)},proto.mediapipe.InputCollectionSet.toObject=function(c,g){var f={inputCollectionList:e.Message.toObjectList(g.getInputCollectionList(),proto.mediapipe.InputCollection.toObject,c)};return c&&(f.$jspbMessageInstance=g),f}),proto.mediapipe.InputCollectionSet.deserializeBinary=function(c){var g=new e.BinaryReader(c),f=new proto.mediapipe.InputCollectionSet;return proto.mediapipe.InputCollectionSet.deserializeBinaryFromReader(f,g)},proto.mediapipe.InputCollectionSet.deserializeBinaryFromReader=function(c,g){for(;g.nextField()&&!g.isEndGroup();)if(g.getFieldNumber()===1){var f=new proto.mediapipe.InputCollection;g.readMessage(f,proto.mediapipe.InputCollection.deserializeBinaryFromReader),c.addInputCollection(f)}else g.skipField();return c},proto.mediapipe.InputCollectionSet.prototype.serializeBinary=function(){var c=new e.BinaryWriter;return proto.mediapipe.InputCollectionSet.serializeBinaryToWriter(this,c),c.getResultBuffer()},proto.mediapipe.InputCollectionSet.serializeBinaryToWriter=function(c,g){var f;(f=c.getInputCollectionList()).length>0&&g.writeRepeatedMessage(1,f,proto.mediapipe.InputCollection.serializeBinaryToWriter)},proto.mediapipe.InputCollectionSet.prototype.getInputCollectionList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.InputCollection,1)},proto.mediapipe.InputCollectionSet.prototype.setInputCollectionList=function(c){return e.Message.setRepeatedWrapperField(this,1,c)},proto.mediapipe.InputCollectionSet.prototype.addInputCollection=function(c,g){return e.Message.addToRepeatedWrapperField(this,1,c,proto.mediapipe.InputCollection,g)},proto.mediapipe.InputCollectionSet.prototype.clearInputCollectionList=function(){return this.setInputCollectionList([])},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InputStreamInfo.prototype.toObject=function(c){return proto.mediapipe.InputStreamInfo.toObject(c,this)},proto.mediapipe.InputStreamInfo.toObject=function(c,g){var f={tagIndex:e.Message.getFieldWithDefault(g,1,""),backEdge:e.Message.getBooleanFieldWithDefault(g,2,!1)};return c&&(f.$jspbMessageInstance=g),f}),proto.mediapipe.InputStreamInfo.deserializeBinary=function(c){var g=new e.BinaryReader(c),f=new proto.mediapipe.InputStreamInfo;return proto.mediapipe.InputStreamInfo.deserializeBinaryFromReader(f,g)},proto.mediapipe.InputStreamInfo.deserializeBinaryFromReader=function(c,g){for(;g.nextField()&&!g.isEndGroup();)switch(g.getFieldNumber()){case 1:var f=g.readString();c.setTagIndex(f);break;case 2:f=g.readBool(),c.setBackEdge(f);break;default:g.skipField()}return c},proto.mediapipe.InputStreamInfo.prototype.serializeBinary=function(){var c=new e.BinaryWriter;return proto.mediapipe.InputStreamInfo.serializeBinaryToWriter(this,c),c.getResultBuffer()},proto.mediapipe.InputStreamInfo.serializeBinaryToWriter=function(c,g){var f=void 0;(f=c.getTagIndex()).length>0&&g.writeString(1,f),(f=c.getBackEdge())&&g.writeBool(2,f)},proto.mediapipe.InputStreamInfo.prototype.getTagIndex=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.InputStreamInfo.prototype.setTagIndex=function(c){return e.Message.setProto3StringField(this,1,c)},proto.mediapipe.InputStreamInfo.prototype.getBackEdge=function(){return e.Message.getBooleanFieldWithDefault(this,2,!1)},proto.mediapipe.InputStreamInfo.prototype.setBackEdge=function(c){return e.Message.setProto3BooleanField(this,2,c)},proto.mediapipe.ProfilerConfig.repeatedFields_=[8],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.ProfilerConfig.prototype.toObject=function(c){return proto.mediapipe.ProfilerConfig.toObject(c,this)},proto.mediapipe.ProfilerConfig.toObject=function(c,g){var f,y={histogramIntervalSizeUsec:e.Message.getFieldWithDefault(g,1,0),numHistogramIntervals:e.Message.getFieldWithDefault(g,2,0),enableInputOutputLatency:e.Message.getBooleanFieldWithDefault(g,3,!1),enableProfiler:e.Message.getBooleanFieldWithDefault(g,4,!1),enableStreamLatency:e.Message.getBooleanFieldWithDefault(g,5,!1),usePacketTimestampForAddedPacket:e.Message.getBooleanFieldWithDefault(g,6,!1),traceLogCapacity:e.Message.getFieldWithDefault(g,7,0),traceEventTypesDisabledList:(f=e.Message.getRepeatedField(g,8))==null?void 0:f,traceLogPath:e.Message.getFieldWithDefault(g,9,""),traceLogCount:e.Message.getFieldWithDefault(g,10,0),traceLogIntervalUsec:e.Message.getFieldWithDefault(g,11,0),traceLogMarginUsec:e.Message.getFieldWithDefault(g,12,0),traceLogDurationEvents:e.Message.getBooleanFieldWithDefault(g,13,!1),traceLogIntervalCount:e.Message.getFieldWithDefault(g,14,0),traceLogDisabled:e.Message.getBooleanFieldWithDefault(g,15,!1),traceEnabled:e.Message.getBooleanFieldWithDefault(g,16,!1),traceLogInstantEvents:e.Message.getBooleanFieldWithDefault(g,17,!1),calculatorFilter:e.Message.getFieldWithDefault(g,18,"")};return c&&(y.$jspbMessageInstance=g),y}),proto.mediapipe.ProfilerConfig.deserializeBinary=function(c){var g=new e.BinaryReader(c),f=new proto.mediapipe.ProfilerConfig;return proto.mediapipe.ProfilerConfig.deserializeBinaryFromReader(f,g)},proto.mediapipe.ProfilerConfig.deserializeBinaryFromReader=function(c,g){for(;g.nextField()&&!g.isEndGroup();)switch(g.getFieldNumber()){case 1:var f=g.readInt64();c.setHistogramIntervalSizeUsec(f);break;case 2:f=g.readInt64(),c.setNumHistogramIntervals(f);break;case 3:f=g.readBool(),c.setEnableInputOutputLatency(f);break;case 4:f=g.readBool(),c.setEnableProfiler(f);break;case 5:f=g.readBool(),c.setEnableStreamLatency(f);break;case 6:f=g.readBool(),c.setUsePacketTimestampForAddedPacket(f);break;case 7:f=g.readInt64(),c.setTraceLogCapacity(f);break;case 8:for(var y=g.isDelimited()?g.readPackedInt32():[g.readInt32()],_=0;_<y.length;_++)c.addTraceEventTypesDisabled(y[_]);break;case 9:f=g.readString(),c.setTraceLogPath(f);break;case 10:f=g.readInt32(),c.setTraceLogCount(f);break;case 11:f=g.readInt64(),c.setTraceLogIntervalUsec(f);break;case 12:f=g.readInt64(),c.setTraceLogMarginUsec(f);break;case 13:f=g.readBool(),c.setTraceLogDurationEvents(f);break;case 14:f=g.readInt32(),c.setTraceLogIntervalCount(f);break;case 15:f=g.readBool(),c.setTraceLogDisabled(f);break;case 16:f=g.readBool(),c.setTraceEnabled(f);break;case 17:f=g.readBool(),c.setTraceLogInstantEvents(f);break;case 18:f=g.readString(),c.setCalculatorFilter(f);break;default:g.skipField()}return c},proto.mediapipe.ProfilerConfig.prototype.serializeBinary=function(){var c=new e.BinaryWriter;return proto.mediapipe.ProfilerConfig.serializeBinaryToWriter(this,c),c.getResultBuffer()},proto.mediapipe.ProfilerConfig.serializeBinaryToWriter=function(c,g){var f=void 0;(f=c.getHistogramIntervalSizeUsec())!==0&&g.writeInt64(1,f),(f=c.getNumHistogramIntervals())!==0&&g.writeInt64(2,f),(f=c.getEnableInputOutputLatency())&&g.writeBool(3,f),(f=c.getEnableProfiler())&&g.writeBool(4,f),(f=c.getEnableStreamLatency())&&g.writeBool(5,f),(f=c.getUsePacketTimestampForAddedPacket())&&g.writeBool(6,f),(f=c.getTraceLogCapacity())!==0&&g.writeInt64(7,f),(f=c.getTraceEventTypesDisabledList()).length>0&&g.writePackedInt32(8,f),(f=c.getTraceLogPath()).length>0&&g.writeString(9,f),(f=c.getTraceLogCount())!==0&&g.writeInt32(10,f),(f=c.getTraceLogIntervalUsec())!==0&&g.writeInt64(11,f),(f=c.getTraceLogMarginUsec())!==0&&g.writeInt64(12,f),(f=c.getTraceLogDurationEvents())&&g.writeBool(13,f),(f=c.getTraceLogIntervalCount())!==0&&g.writeInt32(14,f),(f=c.getTraceLogDisabled())&&g.writeBool(15,f),(f=c.getTraceEnabled())&&g.writeBool(16,f),(f=c.getTraceLogInstantEvents())&&g.writeBool(17,f),(f=c.getCalculatorFilter()).length>0&&g.writeString(18,f)},proto.mediapipe.ProfilerConfig.prototype.getHistogramIntervalSizeUsec=function(){return e.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.ProfilerConfig.prototype.setHistogramIntervalSizeUsec=function(c){return e.Message.setProto3IntField(this,1,c)},proto.mediapipe.ProfilerConfig.prototype.getNumHistogramIntervals=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.ProfilerConfig.prototype.setNumHistogramIntervals=function(c){return e.Message.setProto3IntField(this,2,c)},proto.mediapipe.ProfilerConfig.prototype.getEnableInputOutputLatency=function(){return e.Message.getBooleanFieldWithDefault(this,3,!1)},proto.mediapipe.ProfilerConfig.prototype.setEnableInputOutputLatency=function(c){return e.Message.setProto3BooleanField(this,3,c)},proto.mediapipe.ProfilerConfig.prototype.getEnableProfiler=function(){return e.Message.getBooleanFieldWithDefault(this,4,!1)},proto.mediapipe.ProfilerConfig.prototype.setEnableProfiler=function(c){return e.Message.setProto3BooleanField(this,4,c)},proto.mediapipe.ProfilerConfig.prototype.getEnableStreamLatency=function(){return e.Message.getBooleanFieldWithDefault(this,5,!1)},proto.mediapipe.ProfilerConfig.prototype.setEnableStreamLatency=function(c){return e.Message.setProto3BooleanField(this,5,c)},proto.mediapipe.ProfilerConfig.prototype.getUsePacketTimestampForAddedPacket=function(){return e.Message.getBooleanFieldWithDefault(this,6,!1)},proto.mediapipe.ProfilerConfig.prototype.setUsePacketTimestampForAddedPacket=function(c){return e.Message.setProto3BooleanField(this,6,c)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogCapacity=function(){return e.Message.getFieldWithDefault(this,7,0)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogCapacity=function(c){return e.Message.setProto3IntField(this,7,c)},proto.mediapipe.ProfilerConfig.prototype.getTraceEventTypesDisabledList=function(){return e.Message.getRepeatedField(this,8)},proto.mediapipe.ProfilerConfig.prototype.setTraceEventTypesDisabledList=function(c){return e.Message.setField(this,8,c||[])},proto.mediapipe.ProfilerConfig.prototype.addTraceEventTypesDisabled=function(c,g){return e.Message.addToRepeatedField(this,8,c,g)},proto.mediapipe.ProfilerConfig.prototype.clearTraceEventTypesDisabledList=function(){return this.setTraceEventTypesDisabledList([])},proto.mediapipe.ProfilerConfig.prototype.getTraceLogPath=function(){return e.Message.getFieldWithDefault(this,9,"")},proto.mediapipe.ProfilerConfig.prototype.setTraceLogPath=function(c){return e.Message.setProto3StringField(this,9,c)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogCount=function(){return e.Message.getFieldWithDefault(this,10,0)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogCount=function(c){return e.Message.setProto3IntField(this,10,c)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogIntervalUsec=function(){return e.Message.getFieldWithDefault(this,11,0)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogIntervalUsec=function(c){return e.Message.setProto3IntField(this,11,c)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogMarginUsec=function(){return e.Message.getFieldWithDefault(this,12,0)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogMarginUsec=function(c){return e.Message.setProto3IntField(this,12,c)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogDurationEvents=function(){return e.Message.getBooleanFieldWithDefault(this,13,!1)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogDurationEvents=function(c){return e.Message.setProto3BooleanField(this,13,c)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogIntervalCount=function(){return e.Message.getFieldWithDefault(this,14,0)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogIntervalCount=function(c){return e.Message.setProto3IntField(this,14,c)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogDisabled=function(){return e.Message.getBooleanFieldWithDefault(this,15,!1)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogDisabled=function(c){return e.Message.setProto3BooleanField(this,15,c)},proto.mediapipe.ProfilerConfig.prototype.getTraceEnabled=function(){return e.Message.getBooleanFieldWithDefault(this,16,!1)},proto.mediapipe.ProfilerConfig.prototype.setTraceEnabled=function(c){return e.Message.setProto3BooleanField(this,16,c)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogInstantEvents=function(){return e.Message.getBooleanFieldWithDefault(this,17,!1)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogInstantEvents=function(c){return e.Message.setProto3BooleanField(this,17,c)},proto.mediapipe.ProfilerConfig.prototype.getCalculatorFilter=function(){return e.Message.getFieldWithDefault(this,18,"")},proto.mediapipe.ProfilerConfig.prototype.setCalculatorFilter=function(c){return e.Message.setProto3StringField(this,18,c)},proto.mediapipe.CalculatorGraphConfig.repeatedFields_=[1,6,7,9,10,15,16,17,14,1002],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.CalculatorGraphConfig.prototype.toObject=function(c){return proto.mediapipe.CalculatorGraphConfig.toObject(c,this)},proto.mediapipe.CalculatorGraphConfig.toObject=function(c,g){var f,y={nodeList:e.Message.toObjectList(g.getNodeList(),proto.mediapipe.CalculatorGraphConfig.Node.toObject,c),packetFactoryList:e.Message.toObjectList(g.getPacketFactoryList(),p.PacketFactoryConfig.toObject,c),packetGeneratorList:e.Message.toObjectList(g.getPacketGeneratorList(),d.PacketGeneratorConfig.toObject,c),numThreads:e.Message.getFieldWithDefault(g,8,0),statusHandlerList:e.Message.toObjectList(g.getStatusHandlerList(),l.StatusHandlerConfig.toObject,c),inputStreamList:(f=e.Message.getRepeatedField(g,10))==null?void 0:f,outputStreamList:(f=e.Message.getRepeatedField(g,15))==null?void 0:f,inputSidePacketList:(f=e.Message.getRepeatedField(g,16))==null?void 0:f,outputSidePacketList:(f=e.Message.getRepeatedField(g,17))==null?void 0:f,maxQueueSize:e.Message.getFieldWithDefault(g,11,0),reportDeadlock:e.Message.getBooleanFieldWithDefault(g,21,!1),inputStreamHandler:(f=g.getInputStreamHandler())&&u.InputStreamHandlerConfig.toObject(c,f),outputStreamHandler:(f=g.getOutputStreamHandler())&&u.OutputStreamHandlerConfig.toObject(c,f),executorList:e.Message.toObjectList(g.getExecutorList(),proto.mediapipe.ExecutorConfig.toObject,c),profilerConfig:(f=g.getProfilerConfig())&&proto.mediapipe.ProfilerConfig.toObject(c,f),pb_package:e.Message.getFieldWithDefault(g,19,""),type:e.Message.getFieldWithDefault(g,20,""),options:(f=g.getOptions())&&n.MediaPipeOptions.toObject(c,f),graphOptionsList:e.Message.toObjectList(g.getGraphOptionsList(),i.Any.toObject,c)};return c&&(y.$jspbMessageInstance=g),y}),proto.mediapipe.CalculatorGraphConfig.deserializeBinary=function(c){var g=new e.BinaryReader(c),f=new proto.mediapipe.CalculatorGraphConfig;return proto.mediapipe.CalculatorGraphConfig.deserializeBinaryFromReader(f,g)},proto.mediapipe.CalculatorGraphConfig.deserializeBinaryFromReader=function(c,g){for(;g.nextField()&&!g.isEndGroup();)switch(g.getFieldNumber()){case 1:var f=new proto.mediapipe.CalculatorGraphConfig.Node;g.readMessage(f,proto.mediapipe.CalculatorGraphConfig.Node.deserializeBinaryFromReader),c.addNode(f);break;case 6:f=new p.PacketFactoryConfig,g.readMessage(f,p.PacketFactoryConfig.deserializeBinaryFromReader),c.addPacketFactory(f);break;case 7:f=new d.PacketGeneratorConfig,g.readMessage(f,d.PacketGeneratorConfig.deserializeBinaryFromReader),c.addPacketGenerator(f);break;case 8:f=g.readInt32(),c.setNumThreads(f);break;case 9:f=new l.StatusHandlerConfig,g.readMessage(f,l.StatusHandlerConfig.deserializeBinaryFromReader),c.addStatusHandler(f);break;case 10:f=g.readString(),c.addInputStream(f);break;case 15:f=g.readString(),c.addOutputStream(f);break;case 16:f=g.readString(),c.addInputSidePacket(f);break;case 17:f=g.readString(),c.addOutputSidePacket(f);break;case 11:f=g.readInt32(),c.setMaxQueueSize(f);break;case 21:f=g.readBool(),c.setReportDeadlock(f);break;case 12:f=new u.InputStreamHandlerConfig,g.readMessage(f,u.InputStreamHandlerConfig.deserializeBinaryFromReader),c.setInputStreamHandler(f);break;case 13:f=new u.OutputStreamHandlerConfig,g.readMessage(f,u.OutputStreamHandlerConfig.deserializeBinaryFromReader),c.setOutputStreamHandler(f);break;case 14:f=new proto.mediapipe.ExecutorConfig,g.readMessage(f,proto.mediapipe.ExecutorConfig.deserializeBinaryFromReader),c.addExecutor(f);break;case 18:f=new proto.mediapipe.ProfilerConfig,g.readMessage(f,proto.mediapipe.ProfilerConfig.deserializeBinaryFromReader),c.setProfilerConfig(f);break;case 19:f=g.readString(),c.setPackage(f);break;case 20:f=g.readString(),c.setType(f);break;case 1001:f=new n.MediaPipeOptions,g.readMessage(f,n.MediaPipeOptions.deserializeBinaryFromReader),c.setOptions(f);break;case 1002:f=new i.Any,g.readMessage(f,i.Any.deserializeBinaryFromReader),c.addGraphOptions(f);break;default:g.skipField()}return c},proto.mediapipe.CalculatorGraphConfig.prototype.serializeBinary=function(){var c=new e.BinaryWriter;return proto.mediapipe.CalculatorGraphConfig.serializeBinaryToWriter(this,c),c.getResultBuffer()},proto.mediapipe.CalculatorGraphConfig.serializeBinaryToWriter=function(c,g){var f=void 0;(f=c.getNodeList()).length>0&&g.writeRepeatedMessage(1,f,proto.mediapipe.CalculatorGraphConfig.Node.serializeBinaryToWriter),(f=c.getPacketFactoryList()).length>0&&g.writeRepeatedMessage(6,f,p.PacketFactoryConfig.serializeBinaryToWriter),(f=c.getPacketGeneratorList()).length>0&&g.writeRepeatedMessage(7,f,d.PacketGeneratorConfig.serializeBinaryToWriter),(f=c.getNumThreads())!==0&&g.writeInt32(8,f),(f=c.getStatusHandlerList()).length>0&&g.writeRepeatedMessage(9,f,l.StatusHandlerConfig.serializeBinaryToWriter),(f=c.getInputStreamList()).length>0&&g.writeRepeatedString(10,f),(f=c.getOutputStreamList()).length>0&&g.writeRepeatedString(15,f),(f=c.getInputSidePacketList()).length>0&&g.writeRepeatedString(16,f),(f=c.getOutputSidePacketList()).length>0&&g.writeRepeatedString(17,f),(f=c.getMaxQueueSize())!==0&&g.writeInt32(11,f),(f=c.getReportDeadlock())&&g.writeBool(21,f),(f=c.getInputStreamHandler())!=null&&g.writeMessage(12,f,u.InputStreamHandlerConfig.serializeBinaryToWriter),(f=c.getOutputStreamHandler())!=null&&g.writeMessage(13,f,u.OutputStreamHandlerConfig.serializeBinaryToWriter),(f=c.getExecutorList()).length>0&&g.writeRepeatedMessage(14,f,proto.mediapipe.ExecutorConfig.serializeBinaryToWriter),(f=c.getProfilerConfig())!=null&&g.writeMessage(18,f,proto.mediapipe.ProfilerConfig.serializeBinaryToWriter),(f=c.getPackage()).length>0&&g.writeString(19,f),(f=c.getType()).length>0&&g.writeString(20,f),(f=c.getOptions())!=null&&g.writeMessage(1001,f,n.MediaPipeOptions.serializeBinaryToWriter),(f=c.getGraphOptionsList()).length>0&&g.writeRepeatedMessage(1002,f,i.Any.serializeBinaryToWriter)},proto.mediapipe.CalculatorGraphConfig.Node.repeatedFields_=[3,4,5,6,8,13,17,1005],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.CalculatorGraphConfig.Node.prototype.toObject=function(c){return proto.mediapipe.CalculatorGraphConfig.Node.toObject(c,this)},proto.mediapipe.CalculatorGraphConfig.Node.toObject=function(c,g){var f,y={name:e.Message.getFieldWithDefault(g,1,""),calculator:e.Message.getFieldWithDefault(g,2,""),inputStreamList:(f=e.Message.getRepeatedField(g,3))==null?void 0:f,outputStreamList:(f=e.Message.getRepeatedField(g,4))==null?void 0:f,inputSidePacketList:(f=e.Message.getRepeatedField(g,5))==null?void 0:f,outputSidePacketList:(f=e.Message.getRepeatedField(g,6))==null?void 0:f,options:(f=g.getOptions())&&o.CalculatorOptions.toObject(c,f),nodeOptionsList:e.Message.toObjectList(g.getNodeOptionsList(),i.Any.toObject,c),sourceLayer:e.Message.getFieldWithDefault(g,9,0),bufferSizeHint:e.Message.getFieldWithDefault(g,10,0),inputStreamHandler:(f=g.getInputStreamHandler())&&u.InputStreamHandlerConfig.toObject(c,f),outputStreamHandler:(f=g.getOutputStreamHandler())&&u.OutputStreamHandlerConfig.toObject(c,f),inputStreamInfoList:e.Message.toObjectList(g.getInputStreamInfoList(),proto.mediapipe.InputStreamInfo.toObject,c),executor:e.Message.getFieldWithDefault(g,14,""),profilerConfig:(f=g.getProfilerConfig())&&proto.mediapipe.ProfilerConfig.toObject(c,f),maxInFlight:e.Message.getFieldWithDefault(g,16,0),optionValueList:(f=e.Message.getRepeatedField(g,17))==null?void 0:f,externalInputList:(f=e.Message.getRepeatedField(g,1005))==null?void 0:f};return c&&(y.$jspbMessageInstance=g),y}),proto.mediapipe.CalculatorGraphConfig.Node.deserializeBinary=function(c){var g=new e.BinaryReader(c),f=new proto.mediapipe.CalculatorGraphConfig.Node;return proto.mediapipe.CalculatorGraphConfig.Node.deserializeBinaryFromReader(f,g)},proto.mediapipe.CalculatorGraphConfig.Node.deserializeBinaryFromReader=function(c,g){for(;g.nextField()&&!g.isEndGroup();)switch(g.getFieldNumber()){case 1:var f=g.readString();c.setName(f);break;case 2:f=g.readString(),c.setCalculator(f);break;case 3:f=g.readString(),c.addInputStream(f);break;case 4:f=g.readString(),c.addOutputStream(f);break;case 5:f=g.readString(),c.addInputSidePacket(f);break;case 6:f=g.readString(),c.addOutputSidePacket(f);break;case 7:f=new o.CalculatorOptions,g.readMessage(f,o.CalculatorOptions.deserializeBinaryFromReader),c.setOptions(f);break;case 8:f=new i.Any,g.readMessage(f,i.Any.deserializeBinaryFromReader),c.addNodeOptions(f);break;case 9:f=g.readInt32(),c.setSourceLayer(f);break;case 10:f=g.readInt32(),c.setBufferSizeHint(f);break;case 11:f=new u.InputStreamHandlerConfig,g.readMessage(f,u.InputStreamHandlerConfig.deserializeBinaryFromReader),c.setInputStreamHandler(f);break;case 12:f=new u.OutputStreamHandlerConfig,g.readMessage(f,u.OutputStreamHandlerConfig.deserializeBinaryFromReader),c.setOutputStreamHandler(f);break;case 13:f=new proto.mediapipe.InputStreamInfo,g.readMessage(f,proto.mediapipe.InputStreamInfo.deserializeBinaryFromReader),c.addInputStreamInfo(f);break;case 14:f=g.readString(),c.setExecutor(f);break;case 15:f=new proto.mediapipe.ProfilerConfig,g.readMessage(f,proto.mediapipe.ProfilerConfig.deserializeBinaryFromReader),c.setProfilerConfig(f);break;case 16:f=g.readInt32(),c.setMaxInFlight(f);break;case 17:f=g.readString(),c.addOptionValue(f);break;case 1005:f=g.readString(),c.addExternalInput(f);break;default:g.skipField()}return c},proto.mediapipe.CalculatorGraphConfig.Node.prototype.serializeBinary=function(){var c=new e.BinaryWriter;return proto.mediapipe.CalculatorGraphConfig.Node.serializeBinaryToWriter(this,c),c.getResultBuffer()},proto.mediapipe.CalculatorGraphConfig.Node.serializeBinaryToWriter=function(c,g){var f=void 0;(f=c.getName()).length>0&&g.writeString(1,f),(f=c.getCalculator()).length>0&&g.writeString(2,f),(f=c.getInputStreamList()).length>0&&g.writeRepeatedString(3,f),(f=c.getOutputStreamList()).length>0&&g.writeRepeatedString(4,f),(f=c.getInputSidePacketList()).length>0&&g.writeRepeatedString(5,f),(f=c.getOutputSidePacketList()).length>0&&g.writeRepeatedString(6,f),(f=c.getOptions())!=null&&g.writeMessage(7,f,o.CalculatorOptions.serializeBinaryToWriter),(f=c.getNodeOptionsList()).length>0&&g.writeRepeatedMessage(8,f,i.Any.serializeBinaryToWriter),(f=c.getSourceLayer())!==0&&g.writeInt32(9,f),(f=c.getBufferSizeHint())!==0&&g.writeInt32(10,f),(f=c.getInputStreamHandler())!=null&&g.writeMessage(11,f,u.InputStreamHandlerConfig.serializeBinaryToWriter),(f=c.getOutputStreamHandler())!=null&&g.writeMessage(12,f,u.OutputStreamHandlerConfig.serializeBinaryToWriter),(f=c.getInputStreamInfoList()).length>0&&g.writeRepeatedMessage(13,f,proto.mediapipe.InputStreamInfo.serializeBinaryToWriter),(f=c.getExecutor()).length>0&&g.writeString(14,f),(f=c.getProfilerConfig())!=null&&g.writeMessage(15,f,proto.mediapipe.ProfilerConfig.serializeBinaryToWriter),(f=c.getMaxInFlight())!==0&&g.writeInt32(16,f),(f=c.getOptionValueList()).length>0&&g.writeRepeatedString(17,f),(f=c.getExternalInputList()).length>0&&g.writeRepeatedString(1005,f)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getName=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setName=function(c){return e.Message.setProto3StringField(this,1,c)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getCalculator=function(){return e.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setCalculator=function(c){return e.Message.setProto3StringField(this,2,c)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getInputStreamList=function(){return e.Message.getRepeatedField(this,3)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setInputStreamList=function(c){return e.Message.setField(this,3,c||[])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addInputStream=function(c,g){return e.Message.addToRepeatedField(this,3,c,g)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearInputStreamList=function(){return this.setInputStreamList([])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getOutputStreamList=function(){return e.Message.getRepeatedField(this,4)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setOutputStreamList=function(c){return e.Message.setField(this,4,c||[])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addOutputStream=function(c,g){return e.Message.addToRepeatedField(this,4,c,g)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearOutputStreamList=function(){return this.setOutputStreamList([])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getInputSidePacketList=function(){return e.Message.getRepeatedField(this,5)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setInputSidePacketList=function(c){return e.Message.setField(this,5,c||[])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addInputSidePacket=function(c,g){return e.Message.addToRepeatedField(this,5,c,g)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearInputSidePacketList=function(){return this.setInputSidePacketList([])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getOutputSidePacketList=function(){return e.Message.getRepeatedField(this,6)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setOutputSidePacketList=function(c){return e.Message.setField(this,6,c||[])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addOutputSidePacket=function(c,g){return e.Message.addToRepeatedField(this,6,c,g)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearOutputSidePacketList=function(){return this.setOutputSidePacketList([])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getOptions=function(){return e.Message.getWrapperField(this,o.CalculatorOptions,7)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setOptions=function(c){return e.Message.setWrapperField(this,7,c)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.hasOptions=function(){return e.Message.getField(this,7)!=null},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getNodeOptionsList=function(){return e.Message.getRepeatedWrapperField(this,i.Any,8)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setNodeOptionsList=function(c){return e.Message.setRepeatedWrapperField(this,8,c)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addNodeOptions=function(c,g){return e.Message.addToRepeatedWrapperField(this,8,c,proto.google.protobuf.Any,g)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearNodeOptionsList=function(){return this.setNodeOptionsList([])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getSourceLayer=function(){return e.Message.getFieldWithDefault(this,9,0)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setSourceLayer=function(c){return e.Message.setProto3IntField(this,9,c)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getBufferSizeHint=function(){return e.Message.getFieldWithDefault(this,10,0)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setBufferSizeHint=function(c){return e.Message.setProto3IntField(this,10,c)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getInputStreamHandler=function(){return e.Message.getWrapperField(this,u.InputStreamHandlerConfig,11)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setInputStreamHandler=function(c){return e.Message.setWrapperField(this,11,c)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearInputStreamHandler=function(){return this.setInputStreamHandler(void 0)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.hasInputStreamHandler=function(){return e.Message.getField(this,11)!=null},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getOutputStreamHandler=function(){return e.Message.getWrapperField(this,u.OutputStreamHandlerConfig,12)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setOutputStreamHandler=function(c){return e.Message.setWrapperField(this,12,c)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearOutputStreamHandler=function(){return this.setOutputStreamHandler(void 0)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.hasOutputStreamHandler=function(){return e.Message.getField(this,12)!=null},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getInputStreamInfoList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.InputStreamInfo,13)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setInputStreamInfoList=function(c){return e.Message.setRepeatedWrapperField(this,13,c)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addInputStreamInfo=function(c,g){return e.Message.addToRepeatedWrapperField(this,13,c,proto.mediapipe.InputStreamInfo,g)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearInputStreamInfoList=function(){return this.setInputStreamInfoList([])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getExecutor=function(){return e.Message.getFieldWithDefault(this,14,"")},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setExecutor=function(c){return e.Message.setProto3StringField(this,14,c)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getProfilerConfig=function(){return e.Message.getWrapperField(this,proto.mediapipe.ProfilerConfig,15)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setProfilerConfig=function(c){return e.Message.setWrapperField(this,15,c)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearProfilerConfig=function(){return this.setProfilerConfig(void 0)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.hasProfilerConfig=function(){return e.Message.getField(this,15)!=null},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getMaxInFlight=function(){return e.Message.getFieldWithDefault(this,16,0)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setMaxInFlight=function(c){return e.Message.setProto3IntField(this,16,c)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getOptionValueList=function(){return e.Message.getRepeatedField(this,17)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setOptionValueList=function(c){return e.Message.setField(this,17,c||[])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addOptionValue=function(c,g){return e.Message.addToRepeatedField(this,17,c,g)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearOptionValueList=function(){return this.setOptionValueList([])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getExternalInputList=function(){return e.Message.getRepeatedField(this,1005)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setExternalInputList=function(c){return e.Message.setField(this,1005,c||[])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addExternalInput=function(c,g){return e.Message.addToRepeatedField(this,1005,c,g)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearExternalInputList=function(){return this.setExternalInputList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getNodeList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.CalculatorGraphConfig.Node,1)},proto.mediapipe.CalculatorGraphConfig.prototype.setNodeList=function(c){return e.Message.setRepeatedWrapperField(this,1,c)},proto.mediapipe.CalculatorGraphConfig.prototype.addNode=function(c,g){return e.Message.addToRepeatedWrapperField(this,1,c,proto.mediapipe.CalculatorGraphConfig.Node,g)},proto.mediapipe.CalculatorGraphConfig.prototype.clearNodeList=function(){return this.setNodeList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getPacketFactoryList=function(){return e.Message.getRepeatedWrapperField(this,p.PacketFactoryConfig,6)},proto.mediapipe.CalculatorGraphConfig.prototype.setPacketFactoryList=function(c){return e.Message.setRepeatedWrapperField(this,6,c)},proto.mediapipe.CalculatorGraphConfig.prototype.addPacketFactory=function(c,g){return e.Message.addToRepeatedWrapperField(this,6,c,proto.mediapipe.PacketFactoryConfig,g)},proto.mediapipe.CalculatorGraphConfig.prototype.clearPacketFactoryList=function(){return this.setPacketFactoryList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getPacketGeneratorList=function(){return e.Message.getRepeatedWrapperField(this,d.PacketGeneratorConfig,7)},proto.mediapipe.CalculatorGraphConfig.prototype.setPacketGeneratorList=function(c){return e.Message.setRepeatedWrapperField(this,7,c)},proto.mediapipe.CalculatorGraphConfig.prototype.addPacketGenerator=function(c,g){return e.Message.addToRepeatedWrapperField(this,7,c,proto.mediapipe.PacketGeneratorConfig,g)},proto.mediapipe.CalculatorGraphConfig.prototype.clearPacketGeneratorList=function(){return this.setPacketGeneratorList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getNumThreads=function(){return e.Message.getFieldWithDefault(this,8,0)},proto.mediapipe.CalculatorGraphConfig.prototype.setNumThreads=function(c){return e.Message.setProto3IntField(this,8,c)},proto.mediapipe.CalculatorGraphConfig.prototype.getStatusHandlerList=function(){return e.Message.getRepeatedWrapperField(this,l.StatusHandlerConfig,9)},proto.mediapipe.CalculatorGraphConfig.prototype.setStatusHandlerList=function(c){return e.Message.setRepeatedWrapperField(this,9,c)},proto.mediapipe.CalculatorGraphConfig.prototype.addStatusHandler=function(c,g){return e.Message.addToRepeatedWrapperField(this,9,c,proto.mediapipe.StatusHandlerConfig,g)},proto.mediapipe.CalculatorGraphConfig.prototype.clearStatusHandlerList=function(){return this.setStatusHandlerList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getInputStreamList=function(){return e.Message.getRepeatedField(this,10)},proto.mediapipe.CalculatorGraphConfig.prototype.setInputStreamList=function(c){return e.Message.setField(this,10,c||[])},proto.mediapipe.CalculatorGraphConfig.prototype.addInputStream=function(c,g){return e.Message.addToRepeatedField(this,10,c,g)},proto.mediapipe.CalculatorGraphConfig.prototype.clearInputStreamList=function(){return this.setInputStreamList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getOutputStreamList=function(){return e.Message.getRepeatedField(this,15)},proto.mediapipe.CalculatorGraphConfig.prototype.setOutputStreamList=function(c){return e.Message.setField(this,15,c||[])},proto.mediapipe.CalculatorGraphConfig.prototype.addOutputStream=function(c,g){return e.Message.addToRepeatedField(this,15,c,g)},proto.mediapipe.CalculatorGraphConfig.prototype.clearOutputStreamList=function(){return this.setOutputStreamList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getInputSidePacketList=function(){return e.Message.getRepeatedField(this,16)},proto.mediapipe.CalculatorGraphConfig.prototype.setInputSidePacketList=function(c){return e.Message.setField(this,16,c||[])},proto.mediapipe.CalculatorGraphConfig.prototype.addInputSidePacket=function(c,g){return e.Message.addToRepeatedField(this,16,c,g)},proto.mediapipe.CalculatorGraphConfig.prototype.clearInputSidePacketList=function(){return this.setInputSidePacketList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getOutputSidePacketList=function(){return e.Message.getRepeatedField(this,17)},proto.mediapipe.CalculatorGraphConfig.prototype.setOutputSidePacketList=function(c){return e.Message.setField(this,17,c||[])},proto.mediapipe.CalculatorGraphConfig.prototype.addOutputSidePacket=function(c,g){return e.Message.addToRepeatedField(this,17,c,g)},proto.mediapipe.CalculatorGraphConfig.prototype.clearOutputSidePacketList=function(){return this.setOutputSidePacketList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getMaxQueueSize=function(){return e.Message.getFieldWithDefault(this,11,0)},proto.mediapipe.CalculatorGraphConfig.prototype.setMaxQueueSize=function(c){return e.Message.setProto3IntField(this,11,c)},proto.mediapipe.CalculatorGraphConfig.prototype.getReportDeadlock=function(){return e.Message.getBooleanFieldWithDefault(this,21,!1)},proto.mediapipe.CalculatorGraphConfig.prototype.setReportDeadlock=function(c){return e.Message.setProto3BooleanField(this,21,c)},proto.mediapipe.CalculatorGraphConfig.prototype.getInputStreamHandler=function(){return e.Message.getWrapperField(this,u.InputStreamHandlerConfig,12)},proto.mediapipe.CalculatorGraphConfig.prototype.setInputStreamHandler=function(c){return e.Message.setWrapperField(this,12,c)},proto.mediapipe.CalculatorGraphConfig.prototype.clearInputStreamHandler=function(){return this.setInputStreamHandler(void 0)},proto.mediapipe.CalculatorGraphConfig.prototype.hasInputStreamHandler=function(){return e.Message.getField(this,12)!=null},proto.mediapipe.CalculatorGraphConfig.prototype.getOutputStreamHandler=function(){return e.Message.getWrapperField(this,u.OutputStreamHandlerConfig,13)},proto.mediapipe.CalculatorGraphConfig.prototype.setOutputStreamHandler=function(c){return e.Message.setWrapperField(this,13,c)},proto.mediapipe.CalculatorGraphConfig.prototype.clearOutputStreamHandler=function(){return this.setOutputStreamHandler(void 0)},proto.mediapipe.CalculatorGraphConfig.prototype.hasOutputStreamHandler=function(){return e.Message.getField(this,13)!=null},proto.mediapipe.CalculatorGraphConfig.prototype.getExecutorList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.ExecutorConfig,14)},proto.mediapipe.CalculatorGraphConfig.prototype.setExecutorList=function(c){return e.Message.setRepeatedWrapperField(this,14,c)},proto.mediapipe.CalculatorGraphConfig.prototype.addExecutor=function(c,g){return e.Message.addToRepeatedWrapperField(this,14,c,proto.mediapipe.ExecutorConfig,g)},proto.mediapipe.CalculatorGraphConfig.prototype.clearExecutorList=function(){return this.setExecutorList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getProfilerConfig=function(){return e.Message.getWrapperField(this,proto.mediapipe.ProfilerConfig,18)},proto.mediapipe.CalculatorGraphConfig.prototype.setProfilerConfig=function(c){return e.Message.setWrapperField(this,18,c)},proto.mediapipe.CalculatorGraphConfig.prototype.clearProfilerConfig=function(){return this.setProfilerConfig(void 0)},proto.mediapipe.CalculatorGraphConfig.prototype.hasProfilerConfig=function(){return e.Message.getField(this,18)!=null},proto.mediapipe.CalculatorGraphConfig.prototype.getPackage=function(){return e.Message.getFieldWithDefault(this,19,"")},proto.mediapipe.CalculatorGraphConfig.prototype.setPackage=function(c){return e.Message.setProto3StringField(this,19,c)},proto.mediapipe.CalculatorGraphConfig.prototype.getType=function(){return e.Message.getFieldWithDefault(this,20,"")},proto.mediapipe.CalculatorGraphConfig.prototype.setType=function(c){return e.Message.setProto3StringField(this,20,c)},proto.mediapipe.CalculatorGraphConfig.prototype.getOptions=function(){return e.Message.getWrapperField(this,n.MediaPipeOptions,1001)},proto.mediapipe.CalculatorGraphConfig.prototype.setOptions=function(c){return e.Message.setWrapperField(this,1001,c)},proto.mediapipe.CalculatorGraphConfig.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.CalculatorGraphConfig.prototype.hasOptions=function(){return e.Message.getField(this,1001)!=null},proto.mediapipe.CalculatorGraphConfig.prototype.getGraphOptionsList=function(){return e.Message.getRepeatedWrapperField(this,i.Any,1002)},proto.mediapipe.CalculatorGraphConfig.prototype.setGraphOptionsList=function(c){return e.Message.setRepeatedWrapperField(this,1002,c)},proto.mediapipe.CalculatorGraphConfig.prototype.addGraphOptions=function(c,g){return e.Message.addToRepeatedWrapperField(this,1002,c,proto.google.protobuf.Any,g)},proto.mediapipe.CalculatorGraphConfig.prototype.clearGraphOptionsList=function(){return this.setGraphOptionsList([])},r.object.extend(t,proto.mediapipe)}(calculator_pb);var detection_pb={},location_data_pb={},rasterization_pb={};(function(t){var e=googleProtobuf,r=e,s=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||s!==void 0&&s||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.Rasterization",null,s),r.exportSymbol("proto.mediapipe.Rasterization.Interval",null,s),proto.mediapipe.Rasterization=function(o){e.Message.initialize(this,o,0,-1,proto.mediapipe.Rasterization.repeatedFields_,null)},r.inherits(proto.mediapipe.Rasterization,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.Rasterization.displayName="proto.mediapipe.Rasterization"),proto.mediapipe.Rasterization.Interval=function(o){e.Message.initialize(this,o,0,-1,null,null)},r.inherits(proto.mediapipe.Rasterization.Interval,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.Rasterization.Interval.displayName="proto.mediapipe.Rasterization.Interval"),proto.mediapipe.Rasterization.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Rasterization.prototype.toObject=function(o){return proto.mediapipe.Rasterization.toObject(o,this)},proto.mediapipe.Rasterization.toObject=function(o,i){var n={intervalList:e.Message.toObjectList(i.getIntervalList(),proto.mediapipe.Rasterization.Interval.toObject,o)};return o&&(n.$jspbMessageInstance=i),n}),proto.mediapipe.Rasterization.deserializeBinary=function(o){var i=new e.BinaryReader(o),n=new proto.mediapipe.Rasterization;return proto.mediapipe.Rasterization.deserializeBinaryFromReader(n,i)},proto.mediapipe.Rasterization.deserializeBinaryFromReader=function(o,i){for(;i.nextField()&&!i.isEndGroup();)if(i.getFieldNumber()===1){var n=new proto.mediapipe.Rasterization.Interval;i.readMessage(n,proto.mediapipe.Rasterization.Interval.deserializeBinaryFromReader),o.addInterval(n)}else i.skipField();return o},proto.mediapipe.Rasterization.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.Rasterization.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.Rasterization.serializeBinaryToWriter=function(o,i){var n;(n=o.getIntervalList()).length>0&&i.writeRepeatedMessage(1,n,proto.mediapipe.Rasterization.Interval.serializeBinaryToWriter)},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Rasterization.Interval.prototype.toObject=function(o){return proto.mediapipe.Rasterization.Interval.toObject(o,this)},proto.mediapipe.Rasterization.Interval.toObject=function(o,i){var n,p={y:(n=e.Message.getField(i,1))==null?void 0:n,leftX:(n=e.Message.getField(i,2))==null?void 0:n,rightX:(n=e.Message.getField(i,3))==null?void 0:n};return o&&(p.$jspbMessageInstance=i),p}),proto.mediapipe.Rasterization.Interval.deserializeBinary=function(o){var i=new e.BinaryReader(o),n=new proto.mediapipe.Rasterization.Interval;return proto.mediapipe.Rasterization.Interval.deserializeBinaryFromReader(n,i)},proto.mediapipe.Rasterization.Interval.deserializeBinaryFromReader=function(o,i){for(;i.nextField()&&!i.isEndGroup();)switch(i.getFieldNumber()){case 1:var n=i.readInt32();o.setY(n);break;case 2:n=i.readInt32(),o.setLeftX(n);break;case 3:n=i.readInt32(),o.setRightX(n);break;default:i.skipField()}return o},proto.mediapipe.Rasterization.Interval.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.Rasterization.Interval.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.Rasterization.Interval.serializeBinaryToWriter=function(o,i){var n=void 0;(n=e.Message.getField(o,1))!=null&&i.writeInt32(1,n),(n=e.Message.getField(o,2))!=null&&i.writeInt32(2,n),(n=e.Message.getField(o,3))!=null&&i.writeInt32(3,n)},proto.mediapipe.Rasterization.Interval.prototype.getY=function(){return e.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.Rasterization.Interval.prototype.setY=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.Rasterization.Interval.prototype.clearY=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.Rasterization.Interval.prototype.hasY=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.Rasterization.Interval.prototype.getLeftX=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.Rasterization.Interval.prototype.setLeftX=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.Rasterization.Interval.prototype.clearLeftX=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.Rasterization.Interval.prototype.hasLeftX=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.Rasterization.Interval.prototype.getRightX=function(){return e.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.Rasterization.Interval.prototype.setRightX=function(o){return e.Message.setField(this,3,o)},proto.mediapipe.Rasterization.Interval.prototype.clearRightX=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.Rasterization.Interval.prototype.hasRightX=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.Rasterization.prototype.getIntervalList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.Rasterization.Interval,1)},proto.mediapipe.Rasterization.prototype.setIntervalList=function(o){return e.Message.setRepeatedWrapperField(this,1,o)},proto.mediapipe.Rasterization.prototype.addInterval=function(o,i){return e.Message.addToRepeatedWrapperField(this,1,o,proto.mediapipe.Rasterization.Interval,i)},proto.mediapipe.Rasterization.prototype.clearIntervalList=function(){return this.setIntervalList([])},r.object.extend(t,proto.mediapipe)})(rasterization_pb),function(t){var e=googleProtobuf,r=e,s=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||s!==void 0&&s||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=rasterization_pb;r.object.extend(proto,o),r.exportSymbol("proto.mediapipe.LocationData",null,s),r.exportSymbol("proto.mediapipe.LocationData.BinaryMask",null,s),r.exportSymbol("proto.mediapipe.LocationData.BoundingBox",null,s),r.exportSymbol("proto.mediapipe.LocationData.Format",null,s),r.exportSymbol("proto.mediapipe.LocationData.RelativeBoundingBox",null,s),r.exportSymbol("proto.mediapipe.LocationData.RelativeKeypoint",null,s),proto.mediapipe.LocationData=function(i){e.Message.initialize(this,i,0,-1,proto.mediapipe.LocationData.repeatedFields_,null)},r.inherits(proto.mediapipe.LocationData,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.LocationData.displayName="proto.mediapipe.LocationData"),proto.mediapipe.LocationData.BoundingBox=function(i){e.Message.initialize(this,i,0,-1,null,null)},r.inherits(proto.mediapipe.LocationData.BoundingBox,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.LocationData.BoundingBox.displayName="proto.mediapipe.LocationData.BoundingBox"),proto.mediapipe.LocationData.RelativeBoundingBox=function(i){e.Message.initialize(this,i,0,-1,null,null)},r.inherits(proto.mediapipe.LocationData.RelativeBoundingBox,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.LocationData.RelativeBoundingBox.displayName="proto.mediapipe.LocationData.RelativeBoundingBox"),proto.mediapipe.LocationData.BinaryMask=function(i){e.Message.initialize(this,i,0,-1,null,null)},r.inherits(proto.mediapipe.LocationData.BinaryMask,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.LocationData.BinaryMask.displayName="proto.mediapipe.LocationData.BinaryMask"),proto.mediapipe.LocationData.RelativeKeypoint=function(i){e.Message.initialize(this,i,0,-1,null,null)},r.inherits(proto.mediapipe.LocationData.RelativeKeypoint,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.LocationData.RelativeKeypoint.displayName="proto.mediapipe.LocationData.RelativeKeypoint"),proto.mediapipe.LocationData.repeatedFields_=[5],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LocationData.prototype.toObject=function(i){return proto.mediapipe.LocationData.toObject(i,this)},proto.mediapipe.LocationData.toObject=function(i,n){var p,d={format:(p=e.Message.getField(n,1))==null?void 0:p,boundingBox:(p=n.getBoundingBox())&&proto.mediapipe.LocationData.BoundingBox.toObject(i,p),relativeBoundingBox:(p=n.getRelativeBoundingBox())&&proto.mediapipe.LocationData.RelativeBoundingBox.toObject(i,p),mask:(p=n.getMask())&&proto.mediapipe.LocationData.BinaryMask.toObject(i,p),relativeKeypointsList:e.Message.toObjectList(n.getRelativeKeypointsList(),proto.mediapipe.LocationData.RelativeKeypoint.toObject,i)};return i&&(d.$jspbMessageInstance=n),d}),proto.mediapipe.LocationData.deserializeBinary=function(i){var n=new e.BinaryReader(i),p=new proto.mediapipe.LocationData;return proto.mediapipe.LocationData.deserializeBinaryFromReader(p,n)},proto.mediapipe.LocationData.deserializeBinaryFromReader=function(i,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:var p=n.readEnum();i.setFormat(p);break;case 2:p=new proto.mediapipe.LocationData.BoundingBox,n.readMessage(p,proto.mediapipe.LocationData.BoundingBox.deserializeBinaryFromReader),i.setBoundingBox(p);break;case 3:p=new proto.mediapipe.LocationData.RelativeBoundingBox,n.readMessage(p,proto.mediapipe.LocationData.RelativeBoundingBox.deserializeBinaryFromReader),i.setRelativeBoundingBox(p);break;case 4:p=new proto.mediapipe.LocationData.BinaryMask,n.readMessage(p,proto.mediapipe.LocationData.BinaryMask.deserializeBinaryFromReader),i.setMask(p);break;case 5:p=new proto.mediapipe.LocationData.RelativeKeypoint,n.readMessage(p,proto.mediapipe.LocationData.RelativeKeypoint.deserializeBinaryFromReader),i.addRelativeKeypoints(p);break;default:n.skipField()}return i},proto.mediapipe.LocationData.prototype.serializeBinary=function(){var i=new e.BinaryWriter;return proto.mediapipe.LocationData.serializeBinaryToWriter(this,i),i.getResultBuffer()},proto.mediapipe.LocationData.serializeBinaryToWriter=function(i,n){var p=void 0;(p=e.Message.getField(i,1))!=null&&n.writeEnum(1,p),(p=i.getBoundingBox())!=null&&n.writeMessage(2,p,proto.mediapipe.LocationData.BoundingBox.serializeBinaryToWriter),(p=i.getRelativeBoundingBox())!=null&&n.writeMessage(3,p,proto.mediapipe.LocationData.RelativeBoundingBox.serializeBinaryToWriter),(p=i.getMask())!=null&&n.writeMessage(4,p,proto.mediapipe.LocationData.BinaryMask.serializeBinaryToWriter),(p=i.getRelativeKeypointsList()).length>0&&n.writeRepeatedMessage(5,p,proto.mediapipe.LocationData.RelativeKeypoint.serializeBinaryToWriter)},proto.mediapipe.LocationData.Format={GLOBAL:0,BOUNDING_BOX:1,RELATIVE_BOUNDING_BOX:2,MASK:3},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LocationData.BoundingBox.prototype.toObject=function(i){return proto.mediapipe.LocationData.BoundingBox.toObject(i,this)},proto.mediapipe.LocationData.BoundingBox.toObject=function(i,n){var p,d={xmin:(p=e.Message.getField(n,1))==null?void 0:p,ymin:(p=e.Message.getField(n,2))==null?void 0:p,width:(p=e.Message.getField(n,3))==null?void 0:p,height:(p=e.Message.getField(n,4))==null?void 0:p};return i&&(d.$jspbMessageInstance=n),d}),proto.mediapipe.LocationData.BoundingBox.deserializeBinary=function(i){var n=new e.BinaryReader(i),p=new proto.mediapipe.LocationData.BoundingBox;return proto.mediapipe.LocationData.BoundingBox.deserializeBinaryFromReader(p,n)},proto.mediapipe.LocationData.BoundingBox.deserializeBinaryFromReader=function(i,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:var p=n.readInt32();i.setXmin(p);break;case 2:p=n.readInt32(),i.setYmin(p);break;case 3:p=n.readInt32(),i.setWidth(p);break;case 4:p=n.readInt32(),i.setHeight(p);break;default:n.skipField()}return i},proto.mediapipe.LocationData.BoundingBox.prototype.serializeBinary=function(){var i=new e.BinaryWriter;return proto.mediapipe.LocationData.BoundingBox.serializeBinaryToWriter(this,i),i.getResultBuffer()},proto.mediapipe.LocationData.BoundingBox.serializeBinaryToWriter=function(i,n){var p=void 0;(p=e.Message.getField(i,1))!=null&&n.writeInt32(1,p),(p=e.Message.getField(i,2))!=null&&n.writeInt32(2,p),(p=e.Message.getField(i,3))!=null&&n.writeInt32(3,p),(p=e.Message.getField(i,4))!=null&&n.writeInt32(4,p)},proto.mediapipe.LocationData.BoundingBox.prototype.getXmin=function(){return e.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.LocationData.BoundingBox.prototype.setXmin=function(i){return e.Message.setField(this,1,i)},proto.mediapipe.LocationData.BoundingBox.prototype.clearXmin=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.LocationData.BoundingBox.prototype.hasXmin=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.LocationData.BoundingBox.prototype.getYmin=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.LocationData.BoundingBox.prototype.setYmin=function(i){return e.Message.setField(this,2,i)},proto.mediapipe.LocationData.BoundingBox.prototype.clearYmin=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.LocationData.BoundingBox.prototype.hasYmin=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.LocationData.BoundingBox.prototype.getWidth=function(){return e.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.LocationData.BoundingBox.prototype.setWidth=function(i){return e.Message.setField(this,3,i)},proto.mediapipe.LocationData.BoundingBox.prototype.clearWidth=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.LocationData.BoundingBox.prototype.hasWidth=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.LocationData.BoundingBox.prototype.getHeight=function(){return e.Message.getFieldWithDefault(this,4,0)},proto.mediapipe.LocationData.BoundingBox.prototype.setHeight=function(i){return e.Message.setField(this,4,i)},proto.mediapipe.LocationData.BoundingBox.prototype.clearHeight=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.LocationData.BoundingBox.prototype.hasHeight=function(){return e.Message.getField(this,4)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LocationData.RelativeBoundingBox.prototype.toObject=function(i){return proto.mediapipe.LocationData.RelativeBoundingBox.toObject(i,this)},proto.mediapipe.LocationData.RelativeBoundingBox.toObject=function(i,n){var p,d={xmin:(p=e.Message.getOptionalFloatingPointField(n,1))==null?void 0:p,ymin:(p=e.Message.getOptionalFloatingPointField(n,2))==null?void 0:p,width:(p=e.Message.getOptionalFloatingPointField(n,3))==null?void 0:p,height:(p=e.Message.getOptionalFloatingPointField(n,4))==null?void 0:p};return i&&(d.$jspbMessageInstance=n),d}),proto.mediapipe.LocationData.RelativeBoundingBox.deserializeBinary=function(i){var n=new e.BinaryReader(i),p=new proto.mediapipe.LocationData.RelativeBoundingBox;return proto.mediapipe.LocationData.RelativeBoundingBox.deserializeBinaryFromReader(p,n)},proto.mediapipe.LocationData.RelativeBoundingBox.deserializeBinaryFromReader=function(i,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:var p=n.readFloat();i.setXmin(p);break;case 2:p=n.readFloat(),i.setYmin(p);break;case 3:p=n.readFloat(),i.setWidth(p);break;case 4:p=n.readFloat(),i.setHeight(p);break;default:n.skipField()}return i},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.serializeBinary=function(){var i=new e.BinaryWriter;return proto.mediapipe.LocationData.RelativeBoundingBox.serializeBinaryToWriter(this,i),i.getResultBuffer()},proto.mediapipe.LocationData.RelativeBoundingBox.serializeBinaryToWriter=function(i,n){var p=void 0;(p=e.Message.getField(i,1))!=null&&n.writeFloat(1,p),(p=e.Message.getField(i,2))!=null&&n.writeFloat(2,p),(p=e.Message.getField(i,3))!=null&&n.writeFloat(3,p),(p=e.Message.getField(i,4))!=null&&n.writeFloat(4,p)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.getXmin=function(){return e.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.setXmin=function(i){return e.Message.setField(this,1,i)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.clearXmin=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.hasXmin=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.getYmin=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.setYmin=function(i){return e.Message.setField(this,2,i)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.clearYmin=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.hasYmin=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.getWidth=function(){return e.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.setWidth=function(i){return e.Message.setField(this,3,i)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.clearWidth=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.hasWidth=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.getHeight=function(){return e.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.setHeight=function(i){return e.Message.setField(this,4,i)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.clearHeight=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.hasHeight=function(){return e.Message.getField(this,4)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LocationData.BinaryMask.prototype.toObject=function(i){return proto.mediapipe.LocationData.BinaryMask.toObject(i,this)},proto.mediapipe.LocationData.BinaryMask.toObject=function(i,n){var p,d={width:(p=e.Message.getField(n,1))==null?void 0:p,height:(p=e.Message.getField(n,2))==null?void 0:p,rasterization:(p=n.getRasterization())&&o.Rasterization.toObject(i,p)};return i&&(d.$jspbMessageInstance=n),d}),proto.mediapipe.LocationData.BinaryMask.deserializeBinary=function(i){var n=new e.BinaryReader(i),p=new proto.mediapipe.LocationData.BinaryMask;return proto.mediapipe.LocationData.BinaryMask.deserializeBinaryFromReader(p,n)},proto.mediapipe.LocationData.BinaryMask.deserializeBinaryFromReader=function(i,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:var p=n.readInt32();i.setWidth(p);break;case 2:p=n.readInt32(),i.setHeight(p);break;case 3:p=new o.Rasterization,n.readMessage(p,o.Rasterization.deserializeBinaryFromReader),i.setRasterization(p);break;default:n.skipField()}return i},proto.mediapipe.LocationData.BinaryMask.prototype.serializeBinary=function(){var i=new e.BinaryWriter;return proto.mediapipe.LocationData.BinaryMask.serializeBinaryToWriter(this,i),i.getResultBuffer()},proto.mediapipe.LocationData.BinaryMask.serializeBinaryToWriter=function(i,n){var p=void 0;(p=e.Message.getField(i,1))!=null&&n.writeInt32(1,p),(p=e.Message.getField(i,2))!=null&&n.writeInt32(2,p),(p=i.getRasterization())!=null&&n.writeMessage(3,p,o.Rasterization.serializeBinaryToWriter)},proto.mediapipe.LocationData.BinaryMask.prototype.getWidth=function(){return e.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.LocationData.BinaryMask.prototype.setWidth=function(i){return e.Message.setField(this,1,i)},proto.mediapipe.LocationData.BinaryMask.prototype.clearWidth=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.LocationData.BinaryMask.prototype.hasWidth=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.LocationData.BinaryMask.prototype.getHeight=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.LocationData.BinaryMask.prototype.setHeight=function(i){return e.Message.setField(this,2,i)},proto.mediapipe.LocationData.BinaryMask.prototype.clearHeight=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.LocationData.BinaryMask.prototype.hasHeight=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.LocationData.BinaryMask.prototype.getRasterization=function(){return e.Message.getWrapperField(this,o.Rasterization,3)},proto.mediapipe.LocationData.BinaryMask.prototype.setRasterization=function(i){return e.Message.setWrapperField(this,3,i)},proto.mediapipe.LocationData.BinaryMask.prototype.clearRasterization=function(){return this.setRasterization(void 0)},proto.mediapipe.LocationData.BinaryMask.prototype.hasRasterization=function(){return e.Message.getField(this,3)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LocationData.RelativeKeypoint.prototype.toObject=function(i){return proto.mediapipe.LocationData.RelativeKeypoint.toObject(i,this)},proto.mediapipe.LocationData.RelativeKeypoint.toObject=function(i,n){var p,d={x:(p=e.Message.getOptionalFloatingPointField(n,1))==null?void 0:p,y:(p=e.Message.getOptionalFloatingPointField(n,2))==null?void 0:p,keypointLabel:(p=e.Message.getField(n,3))==null?void 0:p,score:(p=e.Message.getOptionalFloatingPointField(n,4))==null?void 0:p};return i&&(d.$jspbMessageInstance=n),d}),proto.mediapipe.LocationData.RelativeKeypoint.deserializeBinary=function(i){var n=new e.BinaryReader(i),p=new proto.mediapipe.LocationData.RelativeKeypoint;return proto.mediapipe.LocationData.RelativeKeypoint.deserializeBinaryFromReader(p,n)},proto.mediapipe.LocationData.RelativeKeypoint.deserializeBinaryFromReader=function(i,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:var p=n.readFloat();i.setX(p);break;case 2:p=n.readFloat(),i.setY(p);break;case 3:p=n.readString(),i.setKeypointLabel(p);break;case 4:p=n.readFloat(),i.setScore(p);break;default:n.skipField()}return i},proto.mediapipe.LocationData.RelativeKeypoint.prototype.serializeBinary=function(){var i=new e.BinaryWriter;return proto.mediapipe.LocationData.RelativeKeypoint.serializeBinaryToWriter(this,i),i.getResultBuffer()},proto.mediapipe.LocationData.RelativeKeypoint.serializeBinaryToWriter=function(i,n){var p=void 0;(p=e.Message.getField(i,1))!=null&&n.writeFloat(1,p),(p=e.Message.getField(i,2))!=null&&n.writeFloat(2,p),(p=e.Message.getField(i,3))!=null&&n.writeString(3,p),(p=e.Message.getField(i,4))!=null&&n.writeFloat(4,p)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.getX=function(){return e.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.setX=function(i){return e.Message.setField(this,1,i)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.clearX=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.hasX=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.LocationData.RelativeKeypoint.prototype.getY=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.setY=function(i){return e.Message.setField(this,2,i)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.clearY=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.hasY=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.LocationData.RelativeKeypoint.prototype.getKeypointLabel=function(){return e.Message.getFieldWithDefault(this,3,"")},proto.mediapipe.LocationData.RelativeKeypoint.prototype.setKeypointLabel=function(i){return e.Message.setField(this,3,i)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.clearKeypointLabel=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.hasKeypointLabel=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.LocationData.RelativeKeypoint.prototype.getScore=function(){return e.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.setScore=function(i){return e.Message.setField(this,4,i)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.clearScore=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.hasScore=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.LocationData.prototype.getFormat=function(){return e.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.LocationData.prototype.setFormat=function(i){return e.Message.setField(this,1,i)},proto.mediapipe.LocationData.prototype.clearFormat=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.LocationData.prototype.hasFormat=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.LocationData.prototype.getBoundingBox=function(){return e.Message.getWrapperField(this,proto.mediapipe.LocationData.BoundingBox,2)},proto.mediapipe.LocationData.prototype.setBoundingBox=function(i){return e.Message.setWrapperField(this,2,i)},proto.mediapipe.LocationData.prototype.clearBoundingBox=function(){return this.setBoundingBox(void 0)},proto.mediapipe.LocationData.prototype.hasBoundingBox=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.LocationData.prototype.getRelativeBoundingBox=function(){return e.Message.getWrapperField(this,proto.mediapipe.LocationData.RelativeBoundingBox,3)},proto.mediapipe.LocationData.prototype.setRelativeBoundingBox=function(i){return e.Message.setWrapperField(this,3,i)},proto.mediapipe.LocationData.prototype.clearRelativeBoundingBox=function(){return this.setRelativeBoundingBox(void 0)},proto.mediapipe.LocationData.prototype.hasRelativeBoundingBox=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.LocationData.prototype.getMask=function(){return e.Message.getWrapperField(this,proto.mediapipe.LocationData.BinaryMask,4)},proto.mediapipe.LocationData.prototype.setMask=function(i){return e.Message.setWrapperField(this,4,i)},proto.mediapipe.LocationData.prototype.clearMask=function(){return this.setMask(void 0)},proto.mediapipe.LocationData.prototype.hasMask=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.LocationData.prototype.getRelativeKeypointsList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.LocationData.RelativeKeypoint,5)},proto.mediapipe.LocationData.prototype.setRelativeKeypointsList=function(i){return e.Message.setRepeatedWrapperField(this,5,i)},proto.mediapipe.LocationData.prototype.addRelativeKeypoints=function(i,n){return e.Message.addToRepeatedWrapperField(this,5,i,proto.mediapipe.LocationData.RelativeKeypoint,n)},proto.mediapipe.LocationData.prototype.clearRelativeKeypointsList=function(){return this.setRelativeKeypointsList([])},r.object.extend(t,proto.mediapipe)}(location_data_pb),function(t){var e=googleProtobuf,r=e,s=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||s!==void 0&&s||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=location_data_pb;r.object.extend(proto,o),r.exportSymbol("proto.mediapipe.Detection",null,s),r.exportSymbol("proto.mediapipe.Detection.AssociatedDetection",null,s),r.exportSymbol("proto.mediapipe.DetectionList",null,s),proto.mediapipe.Detection=function(i){e.Message.initialize(this,i,0,-1,proto.mediapipe.Detection.repeatedFields_,null)},r.inherits(proto.mediapipe.Detection,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.Detection.displayName="proto.mediapipe.Detection"),proto.mediapipe.Detection.AssociatedDetection=function(i){e.Message.initialize(this,i,0,-1,null,null)},r.inherits(proto.mediapipe.Detection.AssociatedDetection,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.Detection.AssociatedDetection.displayName="proto.mediapipe.Detection.AssociatedDetection"),proto.mediapipe.DetectionList=function(i){e.Message.initialize(this,i,0,-1,proto.mediapipe.DetectionList.repeatedFields_,null)},r.inherits(proto.mediapipe.DetectionList,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.DetectionList.displayName="proto.mediapipe.DetectionList"),proto.mediapipe.Detection.repeatedFields_=[1,2,3,8,9],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Detection.prototype.toObject=function(i){return proto.mediapipe.Detection.toObject(i,this)},proto.mediapipe.Detection.toObject=function(i,n){var p,d={labelList:(p=e.Message.getRepeatedField(n,1))==null?void 0:p,labelIdList:(p=e.Message.getRepeatedField(n,2))==null?void 0:p,scoreList:(p=e.Message.getRepeatedFloatingPointField(n,3))==null?void 0:p,locationData:(p=n.getLocationData())&&o.LocationData.toObject(i,p),featureTag:(p=e.Message.getField(n,5))==null?void 0:p,trackId:(p=e.Message.getField(n,6))==null?void 0:p,detectionId:(p=e.Message.getField(n,7))==null?void 0:p,associatedDetectionsList:e.Message.toObjectList(n.getAssociatedDetectionsList(),proto.mediapipe.Detection.AssociatedDetection.toObject,i),displayNameList:(p=e.Message.getRepeatedField(n,9))==null?void 0:p,timestampUsec:(p=e.Message.getField(n,10))==null?void 0:p};return i&&(d.$jspbMessageInstance=n),d}),proto.mediapipe.Detection.deserializeBinary=function(i){var n=new e.BinaryReader(i),p=new proto.mediapipe.Detection;return proto.mediapipe.Detection.deserializeBinaryFromReader(p,n)},proto.mediapipe.Detection.deserializeBinaryFromReader=function(i,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:var p=n.readString();i.addLabel(p);break;case 2:for(var d=n.isDelimited()?n.readPackedInt32():[n.readInt32()],l=0;l<d.length;l++)i.addLabelId(d[l]);break;case 3:for(d=n.isDelimited()?n.readPackedFloat():[n.readFloat()],l=0;l<d.length;l++)i.addScore(d[l]);break;case 4:p=new o.LocationData,n.readMessage(p,o.LocationData.deserializeBinaryFromReader),i.setLocationData(p);break;case 5:p=n.readString(),i.setFeatureTag(p);break;case 6:p=n.readString(),i.setTrackId(p);break;case 7:p=n.readInt64(),i.setDetectionId(p);break;case 8:p=new proto.mediapipe.Detection.AssociatedDetection,n.readMessage(p,proto.mediapipe.Detection.AssociatedDetection.deserializeBinaryFromReader),i.addAssociatedDetections(p);break;case 9:p=n.readString(),i.addDisplayName(p);break;case 10:p=n.readInt64(),i.setTimestampUsec(p);break;default:n.skipField()}return i},proto.mediapipe.Detection.prototype.serializeBinary=function(){var i=new e.BinaryWriter;return proto.mediapipe.Detection.serializeBinaryToWriter(this,i),i.getResultBuffer()},proto.mediapipe.Detection.serializeBinaryToWriter=function(i,n){var p=void 0;(p=i.getLabelList()).length>0&&n.writeRepeatedString(1,p),(p=i.getLabelIdList()).length>0&&n.writePackedInt32(2,p),(p=i.getScoreList()).length>0&&n.writePackedFloat(3,p),(p=i.getLocationData())!=null&&n.writeMessage(4,p,o.LocationData.serializeBinaryToWriter),(p=e.Message.getField(i,5))!=null&&n.writeString(5,p),(p=e.Message.getField(i,6))!=null&&n.writeString(6,p),(p=e.Message.getField(i,7))!=null&&n.writeInt64(7,p),(p=i.getAssociatedDetectionsList()).length>0&&n.writeRepeatedMessage(8,p,proto.mediapipe.Detection.AssociatedDetection.serializeBinaryToWriter),(p=i.getDisplayNameList()).length>0&&n.writeRepeatedString(9,p),(p=e.Message.getField(i,10))!=null&&n.writeInt64(10,p)},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Detection.AssociatedDetection.prototype.toObject=function(i){return proto.mediapipe.Detection.AssociatedDetection.toObject(i,this)},proto.mediapipe.Detection.AssociatedDetection.toObject=function(i,n){var p,d={id:(p=e.Message.getField(n,1))==null?void 0:p,confidence:(p=e.Message.getOptionalFloatingPointField(n,2))==null?void 0:p};return i&&(d.$jspbMessageInstance=n),d}),proto.mediapipe.Detection.AssociatedDetection.deserializeBinary=function(i){var n=new e.BinaryReader(i),p=new proto.mediapipe.Detection.AssociatedDetection;return proto.mediapipe.Detection.AssociatedDetection.deserializeBinaryFromReader(p,n)},proto.mediapipe.Detection.AssociatedDetection.deserializeBinaryFromReader=function(i,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:var p=n.readInt32();i.setId(p);break;case 2:p=n.readFloat(),i.setConfidence(p);break;default:n.skipField()}return i},proto.mediapipe.Detection.AssociatedDetection.prototype.serializeBinary=function(){var i=new e.BinaryWriter;return proto.mediapipe.Detection.AssociatedDetection.serializeBinaryToWriter(this,i),i.getResultBuffer()},proto.mediapipe.Detection.AssociatedDetection.serializeBinaryToWriter=function(i,n){var p=void 0;(p=e.Message.getField(i,1))!=null&&n.writeInt32(1,p),(p=e.Message.getField(i,2))!=null&&n.writeFloat(2,p)},proto.mediapipe.Detection.AssociatedDetection.prototype.getId=function(){return e.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.Detection.AssociatedDetection.prototype.setId=function(i){return e.Message.setField(this,1,i)},proto.mediapipe.Detection.AssociatedDetection.prototype.clearId=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.Detection.AssociatedDetection.prototype.hasId=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.Detection.AssociatedDetection.prototype.getConfidence=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.Detection.AssociatedDetection.prototype.setConfidence=function(i){return e.Message.setField(this,2,i)},proto.mediapipe.Detection.AssociatedDetection.prototype.clearConfidence=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.Detection.AssociatedDetection.prototype.hasConfidence=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.Detection.prototype.getLabelList=function(){return e.Message.getRepeatedField(this,1)},proto.mediapipe.Detection.prototype.setLabelList=function(i){return e.Message.setField(this,1,i||[])},proto.mediapipe.Detection.prototype.addLabel=function(i,n){return e.Message.addToRepeatedField(this,1,i,n)},proto.mediapipe.Detection.prototype.clearLabelList=function(){return this.setLabelList([])},proto.mediapipe.Detection.prototype.getLabelIdList=function(){return e.Message.getRepeatedField(this,2)},proto.mediapipe.Detection.prototype.setLabelIdList=function(i){return e.Message.setField(this,2,i||[])},proto.mediapipe.Detection.prototype.addLabelId=function(i,n){return e.Message.addToRepeatedField(this,2,i,n)},proto.mediapipe.Detection.prototype.clearLabelIdList=function(){return this.setLabelIdList([])},proto.mediapipe.Detection.prototype.getScoreList=function(){return e.Message.getRepeatedFloatingPointField(this,3)},proto.mediapipe.Detection.prototype.setScoreList=function(i){return e.Message.setField(this,3,i||[])},proto.mediapipe.Detection.prototype.addScore=function(i,n){return e.Message.addToRepeatedField(this,3,i,n)},proto.mediapipe.Detection.prototype.clearScoreList=function(){return this.setScoreList([])},proto.mediapipe.Detection.prototype.getLocationData=function(){return e.Message.getWrapperField(this,o.LocationData,4)},proto.mediapipe.Detection.prototype.setLocationData=function(i){return e.Message.setWrapperField(this,4,i)},proto.mediapipe.Detection.prototype.clearLocationData=function(){return this.setLocationData(void 0)},proto.mediapipe.Detection.prototype.hasLocationData=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.Detection.prototype.getFeatureTag=function(){return e.Message.getFieldWithDefault(this,5,"")},proto.mediapipe.Detection.prototype.setFeatureTag=function(i){return e.Message.setField(this,5,i)},proto.mediapipe.Detection.prototype.clearFeatureTag=function(){return e.Message.setField(this,5,void 0)},proto.mediapipe.Detection.prototype.hasFeatureTag=function(){return e.Message.getField(this,5)!=null},proto.mediapipe.Detection.prototype.getTrackId=function(){return e.Message.getFieldWithDefault(this,6,"")},proto.mediapipe.Detection.prototype.setTrackId=function(i){return e.Message.setField(this,6,i)},proto.mediapipe.Detection.prototype.clearTrackId=function(){return e.Message.setField(this,6,void 0)},proto.mediapipe.Detection.prototype.hasTrackId=function(){return e.Message.getField(this,6)!=null},proto.mediapipe.Detection.prototype.getDetectionId=function(){return e.Message.getFieldWithDefault(this,7,0)},proto.mediapipe.Detection.prototype.setDetectionId=function(i){return e.Message.setField(this,7,i)},proto.mediapipe.Detection.prototype.clearDetectionId=function(){return e.Message.setField(this,7,void 0)},proto.mediapipe.Detection.prototype.hasDetectionId=function(){return e.Message.getField(this,7)!=null},proto.mediapipe.Detection.prototype.getAssociatedDetectionsList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.Detection.AssociatedDetection,8)},proto.mediapipe.Detection.prototype.setAssociatedDetectionsList=function(i){return e.Message.setRepeatedWrapperField(this,8,i)},proto.mediapipe.Detection.prototype.addAssociatedDetections=function(i,n){return e.Message.addToRepeatedWrapperField(this,8,i,proto.mediapipe.Detection.AssociatedDetection,n)},proto.mediapipe.Detection.prototype.clearAssociatedDetectionsList=function(){return this.setAssociatedDetectionsList([])},proto.mediapipe.Detection.prototype.getDisplayNameList=function(){return e.Message.getRepeatedField(this,9)},proto.mediapipe.Detection.prototype.setDisplayNameList=function(i){return e.Message.setField(this,9,i||[])},proto.mediapipe.Detection.prototype.addDisplayName=function(i,n){return e.Message.addToRepeatedField(this,9,i,n)},proto.mediapipe.Detection.prototype.clearDisplayNameList=function(){return this.setDisplayNameList([])},proto.mediapipe.Detection.prototype.getTimestampUsec=function(){return e.Message.getFieldWithDefault(this,10,0)},proto.mediapipe.Detection.prototype.setTimestampUsec=function(i){return e.Message.setField(this,10,i)},proto.mediapipe.Detection.prototype.clearTimestampUsec=function(){return e.Message.setField(this,10,void 0)},proto.mediapipe.Detection.prototype.hasTimestampUsec=function(){return e.Message.getField(this,10)!=null},proto.mediapipe.DetectionList.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.DetectionList.prototype.toObject=function(i){return proto.mediapipe.DetectionList.toObject(i,this)},proto.mediapipe.DetectionList.toObject=function(i,n){var p={detectionList:e.Message.toObjectList(n.getDetectionList(),proto.mediapipe.Detection.toObject,i)};return i&&(p.$jspbMessageInstance=n),p}),proto.mediapipe.DetectionList.deserializeBinary=function(i){var n=new e.BinaryReader(i),p=new proto.mediapipe.DetectionList;return proto.mediapipe.DetectionList.deserializeBinaryFromReader(p,n)},proto.mediapipe.DetectionList.deserializeBinaryFromReader=function(i,n){for(;n.nextField()&&!n.isEndGroup();)if(n.getFieldNumber()===1){var p=new proto.mediapipe.Detection;n.readMessage(p,proto.mediapipe.Detection.deserializeBinaryFromReader),i.addDetection(p)}else n.skipField();return i},proto.mediapipe.DetectionList.prototype.serializeBinary=function(){var i=new e.BinaryWriter;return proto.mediapipe.DetectionList.serializeBinaryToWriter(this,i),i.getResultBuffer()},proto.mediapipe.DetectionList.serializeBinaryToWriter=function(i,n){var p;(p=i.getDetectionList()).length>0&&n.writeRepeatedMessage(1,p,proto.mediapipe.Detection.serializeBinaryToWriter)},proto.mediapipe.DetectionList.prototype.getDetectionList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.Detection,1)},proto.mediapipe.DetectionList.prototype.setDetectionList=function(i){return e.Message.setRepeatedWrapperField(this,1,i)},proto.mediapipe.DetectionList.prototype.addDetection=function(i,n){return e.Message.addToRepeatedWrapperField(this,1,i,proto.mediapipe.Detection,n)},proto.mediapipe.DetectionList.prototype.clearDetectionList=function(){return this.setDetectionList([])},r.object.extend(t,proto.mediapipe)}(detection_pb);var base_options_pb={},acceleration_pb={},inference_calculator_pb={};(function(t){var e=googleProtobuf,r=e,s=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||s!==void 0&&s||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;r.object.extend(proto,o);var i=calculator_options_pb;r.object.extend(proto,i),r.exportSymbol("proto.mediapipe.InferenceCalculatorOptions",null,s),r.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate",null,s),r.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate.DelegateCase",null,s),r.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu",null,s),r.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.Api",null,s),r.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.InferenceUsage",null,s),r.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi",null,s),r.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite",null,s),r.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack",null,s),proto.mediapipe.InferenceCalculatorOptions=function(n){e.Message.initialize(this,n,0,-1,null,null)},r.inherits(proto.mediapipe.InferenceCalculatorOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.InferenceCalculatorOptions.displayName="proto.mediapipe.InferenceCalculatorOptions"),proto.mediapipe.InferenceCalculatorOptions.Delegate=function(n){e.Message.initialize(this,n,0,-1,null,proto.mediapipe.InferenceCalculatorOptions.Delegate.oneofGroups_)},r.inherits(proto.mediapipe.InferenceCalculatorOptions.Delegate,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.displayName="proto.mediapipe.InferenceCalculatorOptions.Delegate"),proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite=function(n){e.Message.initialize(this,n,0,-1,null,null)},r.inherits(proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.displayName="proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite"),proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu=function(n){e.Message.initialize(this,n,0,-1,null,null)},r.inherits(proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.displayName="proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu"),proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi=function(n){e.Message.initialize(this,n,0,-1,null,null)},r.inherits(proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.displayName="proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi"),proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack=function(n){e.Message.initialize(this,n,0,-1,null,null)},r.inherits(proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.displayName="proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InferenceCalculatorOptions.prototype.toObject=function(n){return proto.mediapipe.InferenceCalculatorOptions.toObject(n,this)},proto.mediapipe.InferenceCalculatorOptions.toObject=function(n,p){var d,l={modelPath:(d=e.Message.getField(p,1))==null?void 0:d,useGpu:e.Message.getBooleanFieldWithDefault(p,2,!1),useNnapi:e.Message.getBooleanFieldWithDefault(p,3,!1),cpuNumThread:e.Message.getFieldWithDefault(p,4,-1),delegate:(d=p.getDelegate())&&proto.mediapipe.InferenceCalculatorOptions.Delegate.toObject(n,d)};return n&&(l.$jspbMessageInstance=p),l}),proto.mediapipe.InferenceCalculatorOptions.deserializeBinary=function(n){var p=new e.BinaryReader(n),d=new proto.mediapipe.InferenceCalculatorOptions;return proto.mediapipe.InferenceCalculatorOptions.deserializeBinaryFromReader(d,p)},proto.mediapipe.InferenceCalculatorOptions.deserializeBinaryFromReader=function(n,p){for(;p.nextField()&&!p.isEndGroup();)switch(p.getFieldNumber()){case 1:var d=p.readString();n.setModelPath(d);break;case 2:d=p.readBool(),n.setUseGpu(d);break;case 3:d=p.readBool(),n.setUseNnapi(d);break;case 4:d=p.readInt32(),n.setCpuNumThread(d);break;case 5:d=new proto.mediapipe.InferenceCalculatorOptions.Delegate,p.readMessage(d,proto.mediapipe.InferenceCalculatorOptions.Delegate.deserializeBinaryFromReader),n.setDelegate(d);break;default:p.skipField()}return n},proto.mediapipe.InferenceCalculatorOptions.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return proto.mediapipe.InferenceCalculatorOptions.serializeBinaryToWriter(this,n),n.getResultBuffer()},proto.mediapipe.InferenceCalculatorOptions.serializeBinaryToWriter=function(n,p){var d=void 0;(d=e.Message.getField(n,1))!=null&&p.writeString(1,d),(d=e.Message.getField(n,2))!=null&&p.writeBool(2,d),(d=e.Message.getField(n,3))!=null&&p.writeBool(3,d),(d=e.Message.getField(n,4))!=null&&p.writeInt32(4,d),(d=n.getDelegate())!=null&&p.writeMessage(5,d,proto.mediapipe.InferenceCalculatorOptions.Delegate.serializeBinaryToWriter)},proto.mediapipe.InferenceCalculatorOptions.Delegate.oneofGroups_=[[1,2,3,4]],proto.mediapipe.InferenceCalculatorOptions.Delegate.DelegateCase={DELEGATE_NOT_SET:0,TFLITE:1,GPU:2,NNAPI:3,XNNPACK:4},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.getDelegateCase=function(){return e.Message.computeOneofCase(this,proto.mediapipe.InferenceCalculatorOptions.Delegate.oneofGroups_[0])},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.toObject=function(n){return proto.mediapipe.InferenceCalculatorOptions.Delegate.toObject(n,this)},proto.mediapipe.InferenceCalculatorOptions.Delegate.toObject=function(n,p){var d,l={tflite:(d=p.getTflite())&&proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.toObject(n,d),gpu:(d=p.getGpu())&&proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.toObject(n,d),nnapi:(d=p.getNnapi())&&proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.toObject(n,d),xnnpack:(d=p.getXnnpack())&&proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.toObject(n,d)};return n&&(l.$jspbMessageInstance=p),l}),proto.mediapipe.InferenceCalculatorOptions.Delegate.deserializeBinary=function(n){var p=new e.BinaryReader(n),d=new proto.mediapipe.InferenceCalculatorOptions.Delegate;return proto.mediapipe.InferenceCalculatorOptions.Delegate.deserializeBinaryFromReader(d,p)},proto.mediapipe.InferenceCalculatorOptions.Delegate.deserializeBinaryFromReader=function(n,p){for(;p.nextField()&&!p.isEndGroup();)switch(p.getFieldNumber()){case 1:var d=new proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite;p.readMessage(d,proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.deserializeBinaryFromReader),n.setTflite(d);break;case 2:d=new proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu,p.readMessage(d,proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.deserializeBinaryFromReader),n.setGpu(d);break;case 3:d=new proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi,p.readMessage(d,proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.deserializeBinaryFromReader),n.setNnapi(d);break;case 4:d=new proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack,p.readMessage(d,proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.deserializeBinaryFromReader),n.setXnnpack(d);break;default:p.skipField()}return n},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return proto.mediapipe.InferenceCalculatorOptions.Delegate.serializeBinaryToWriter(this,n),n.getResultBuffer()},proto.mediapipe.InferenceCalculatorOptions.Delegate.serializeBinaryToWriter=function(n,p){var d=void 0;(d=n.getTflite())!=null&&p.writeMessage(1,d,proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.serializeBinaryToWriter),(d=n.getGpu())!=null&&p.writeMessage(2,d,proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.serializeBinaryToWriter),(d=n.getNnapi())!=null&&p.writeMessage(3,d,proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.serializeBinaryToWriter),(d=n.getXnnpack())!=null&&p.writeMessage(4,d,proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.serializeBinaryToWriter)},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.prototype.toObject=function(n){return proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.toObject(n,this)},proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.toObject=function(n,p){var d={};return n&&(d.$jspbMessageInstance=p),d}),proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.deserializeBinary=function(n){var p=new e.BinaryReader(n),d=new proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite;return proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.deserializeBinaryFromReader(d,p)},proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.deserializeBinaryFromReader=function(n,p){for(;p.nextField()&&!p.isEndGroup();)p.getFieldNumber(),p.skipField();return n},proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.serializeBinaryToWriter(this,n),n.getResultBuffer()},proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.serializeBinaryToWriter=function(n,p){},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.toObject=function(n){return proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.toObject(n,this)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.toObject=function(n,p){var d,l={useAdvancedGpuApi:e.Message.getBooleanFieldWithDefault(p,1,!1),api:e.Message.getFieldWithDefault(p,4,0),allowPrecisionLoss:e.Message.getBooleanFieldWithDefault(p,3,!0),cachedKernelPath:(d=e.Message.getField(p,2))==null?void 0:d,serializedModelDir:(d=e.Message.getField(p,7))==null?void 0:d,modelToken:(d=e.Message.getField(p,8))==null?void 0:d,usage:e.Message.getFieldWithDefault(p,5,2)};return n&&(l.$jspbMessageInstance=p),l}),proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.deserializeBinary=function(n){var p=new e.BinaryReader(n),d=new proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu;return proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.deserializeBinaryFromReader(d,p)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.deserializeBinaryFromReader=function(n,p){for(;p.nextField()&&!p.isEndGroup();)switch(p.getFieldNumber()){case 1:var d=p.readBool();n.setUseAdvancedGpuApi(d);break;case 4:d=p.readEnum(),n.setApi(d);break;case 3:d=p.readBool(),n.setAllowPrecisionLoss(d);break;case 2:d=p.readString(),n.setCachedKernelPath(d);break;case 7:d=p.readString(),n.setSerializedModelDir(d);break;case 8:d=p.readString(),n.setModelToken(d);break;case 5:d=p.readEnum(),n.setUsage(d);break;default:p.skipField()}return n},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.serializeBinaryToWriter(this,n),n.getResultBuffer()},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.serializeBinaryToWriter=function(n,p){var d=void 0;(d=e.Message.getField(n,1))!=null&&p.writeBool(1,d),(d=e.Message.getField(n,4))!=null&&p.writeEnum(4,d),(d=e.Message.getField(n,3))!=null&&p.writeBool(3,d),(d=e.Message.getField(n,2))!=null&&p.writeString(2,d),(d=e.Message.getField(n,7))!=null&&p.writeString(7,d),(d=e.Message.getField(n,8))!=null&&p.writeString(8,d),(d=e.Message.getField(n,5))!=null&&p.writeEnum(5,d)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.Api={ANY:0,OPENGL:1,OPENCL:2},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.InferenceUsage={UNSPECIFIED:0,FAST_SINGLE_ANSWER:1,SUSTAINED_SPEED:2},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.getUseAdvancedGpuApi=function(){return e.Message.getBooleanFieldWithDefault(this,1,!1)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.setUseAdvancedGpuApi=function(n){return e.Message.setField(this,1,n)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.clearUseAdvancedGpuApi=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.hasUseAdvancedGpuApi=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.getApi=function(){return e.Message.getFieldWithDefault(this,4,0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.setApi=function(n){return e.Message.setField(this,4,n)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.clearApi=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.hasApi=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.getAllowPrecisionLoss=function(){return e.Message.getBooleanFieldWithDefault(this,3,!0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.setAllowPrecisionLoss=function(n){return e.Message.setField(this,3,n)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.clearAllowPrecisionLoss=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.hasAllowPrecisionLoss=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.getCachedKernelPath=function(){return e.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.setCachedKernelPath=function(n){return e.Message.setField(this,2,n)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.clearCachedKernelPath=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.hasCachedKernelPath=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.getSerializedModelDir=function(){return e.Message.getFieldWithDefault(this,7,"")},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.setSerializedModelDir=function(n){return e.Message.setField(this,7,n)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.clearSerializedModelDir=function(){return e.Message.setField(this,7,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.hasSerializedModelDir=function(){return e.Message.getField(this,7)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.getModelToken=function(){return e.Message.getFieldWithDefault(this,8,"")},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.setModelToken=function(n){return e.Message.setField(this,8,n)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.clearModelToken=function(){return e.Message.setField(this,8,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.hasModelToken=function(){return e.Message.getField(this,8)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.getUsage=function(){return e.Message.getFieldWithDefault(this,5,2)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.setUsage=function(n){return e.Message.setField(this,5,n)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.clearUsage=function(){return e.Message.setField(this,5,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.hasUsage=function(){return e.Message.getField(this,5)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.toObject=function(n){return proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.toObject(n,this)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.toObject=function(n,p){var d,l={cacheDir:(d=e.Message.getField(p,1))==null?void 0:d,modelToken:(d=e.Message.getField(p,2))==null?void 0:d,acceleratorName:(d=e.Message.getField(p,3))==null?void 0:d};return n&&(l.$jspbMessageInstance=p),l}),proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.deserializeBinary=function(n){var p=new e.BinaryReader(n),d=new proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi;return proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.deserializeBinaryFromReader(d,p)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.deserializeBinaryFromReader=function(n,p){for(;p.nextField()&&!p.isEndGroup();)switch(p.getFieldNumber()){case 1:var d=p.readString();n.setCacheDir(d);break;case 2:d=p.readString(),n.setModelToken(d);break;case 3:d=p.readString(),n.setAcceleratorName(d);break;default:p.skipField()}return n},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.serializeBinaryToWriter(this,n),n.getResultBuffer()},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.serializeBinaryToWriter=function(n,p){var d=void 0;(d=e.Message.getField(n,1))!=null&&p.writeString(1,d),(d=e.Message.getField(n,2))!=null&&p.writeString(2,d),(d=e.Message.getField(n,3))!=null&&p.writeString(3,d)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.getCacheDir=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.setCacheDir=function(n){return e.Message.setField(this,1,n)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.clearCacheDir=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.hasCacheDir=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.getModelToken=function(){return e.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.setModelToken=function(n){return e.Message.setField(this,2,n)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.clearModelToken=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.hasModelToken=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.getAcceleratorName=function(){return e.Message.getFieldWithDefault(this,3,"")},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.setAcceleratorName=function(n){return e.Message.setField(this,3,n)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.clearAcceleratorName=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.hasAcceleratorName=function(){return e.Message.getField(this,3)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.prototype.toObject=function(n){return proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.toObject(n,this)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.toObject=function(n,p){var d={numThreads:e.Message.getFieldWithDefault(p,1,-1)};return n&&(d.$jspbMessageInstance=p),d}),proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.deserializeBinary=function(n){var p=new e.BinaryReader(n),d=new proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack;return proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.deserializeBinaryFromReader(d,p)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.deserializeBinaryFromReader=function(n,p){for(;p.nextField()&&!p.isEndGroup();)if(p.getFieldNumber()===1){var d=p.readInt32();n.setNumThreads(d)}else p.skipField();return n},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.serializeBinaryToWriter(this,n),n.getResultBuffer()},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.serializeBinaryToWriter=function(n,p){var d;(d=e.Message.getField(n,1))!=null&&p.writeInt32(1,d)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.prototype.getNumThreads=function(){return e.Message.getFieldWithDefault(this,1,-1)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.prototype.setNumThreads=function(n){return e.Message.setField(this,1,n)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.prototype.clearNumThreads=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.prototype.hasNumThreads=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.getTflite=function(){return e.Message.getWrapperField(this,proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite,1)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.setTflite=function(n){return e.Message.setOneofWrapperField(this,1,proto.mediapipe.InferenceCalculatorOptions.Delegate.oneofGroups_[0],n)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.clearTflite=function(){return this.setTflite(void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.hasTflite=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.getGpu=function(){return e.Message.getWrapperField(this,proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu,2)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.setGpu=function(n){return e.Message.setOneofWrapperField(this,2,proto.mediapipe.InferenceCalculatorOptions.Delegate.oneofGroups_[0],n)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.clearGpu=function(){return this.setGpu(void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.hasGpu=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.getNnapi=function(){return e.Message.getWrapperField(this,proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi,3)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.setNnapi=function(n){return e.Message.setOneofWrapperField(this,3,proto.mediapipe.InferenceCalculatorOptions.Delegate.oneofGroups_[0],n)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.clearNnapi=function(){return this.setNnapi(void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.hasNnapi=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.getXnnpack=function(){return e.Message.getWrapperField(this,proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack,4)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.setXnnpack=function(n){return e.Message.setOneofWrapperField(this,4,proto.mediapipe.InferenceCalculatorOptions.Delegate.oneofGroups_[0],n)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.clearXnnpack=function(){return this.setXnnpack(void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.hasXnnpack=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.InferenceCalculatorOptions.ext=new e.ExtensionFieldInfo(336783863,{ext:0},proto.mediapipe.InferenceCalculatorOptions,proto.mediapipe.InferenceCalculatorOptions.toObject,0),i.CalculatorOptions.extensionsBinary[336783863]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.InferenceCalculatorOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.InferenceCalculatorOptions.serializeBinaryToWriter,proto.mediapipe.InferenceCalculatorOptions.deserializeBinaryFromReader,!1),i.CalculatorOptions.extensions[336783863]=proto.mediapipe.InferenceCalculatorOptions.ext,proto.mediapipe.InferenceCalculatorOptions.prototype.getModelPath=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.InferenceCalculatorOptions.prototype.setModelPath=function(n){return e.Message.setField(this,1,n)},proto.mediapipe.InferenceCalculatorOptions.prototype.clearModelPath=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.InferenceCalculatorOptions.prototype.hasModelPath=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.InferenceCalculatorOptions.prototype.getUseGpu=function(){return e.Message.getBooleanFieldWithDefault(this,2,!1)},proto.mediapipe.InferenceCalculatorOptions.prototype.setUseGpu=function(n){return e.Message.setField(this,2,n)},proto.mediapipe.InferenceCalculatorOptions.prototype.clearUseGpu=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.InferenceCalculatorOptions.prototype.hasUseGpu=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.InferenceCalculatorOptions.prototype.getUseNnapi=function(){return e.Message.getBooleanFieldWithDefault(this,3,!1)},proto.mediapipe.InferenceCalculatorOptions.prototype.setUseNnapi=function(n){return e.Message.setField(this,3,n)},proto.mediapipe.InferenceCalculatorOptions.prototype.clearUseNnapi=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.InferenceCalculatorOptions.prototype.hasUseNnapi=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.InferenceCalculatorOptions.prototype.getCpuNumThread=function(){return e.Message.getFieldWithDefault(this,4,-1)},proto.mediapipe.InferenceCalculatorOptions.prototype.setCpuNumThread=function(n){return e.Message.setField(this,4,n)},proto.mediapipe.InferenceCalculatorOptions.prototype.clearCpuNumThread=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.InferenceCalculatorOptions.prototype.hasCpuNumThread=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.InferenceCalculatorOptions.prototype.getDelegate=function(){return e.Message.getWrapperField(this,proto.mediapipe.InferenceCalculatorOptions.Delegate,5)},proto.mediapipe.InferenceCalculatorOptions.prototype.setDelegate=function(n){return e.Message.setWrapperField(this,5,n)},proto.mediapipe.InferenceCalculatorOptions.prototype.clearDelegate=function(){return this.setDelegate(void 0)},proto.mediapipe.InferenceCalculatorOptions.prototype.hasDelegate=function(){return e.Message.getField(this,5)!=null},proto.mediapipe.InferenceCalculatorOptions.ext=new e.ExtensionFieldInfo(336783863,{ext:0},proto.mediapipe.InferenceCalculatorOptions,proto.mediapipe.InferenceCalculatorOptions.toObject,0),i.CalculatorOptions.extensionsBinary[336783863]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.InferenceCalculatorOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.InferenceCalculatorOptions.serializeBinaryToWriter,proto.mediapipe.InferenceCalculatorOptions.deserializeBinaryFromReader,!1),i.CalculatorOptions.extensions[336783863]=proto.mediapipe.InferenceCalculatorOptions.ext,r.object.extend(t,proto.mediapipe)})(inference_calculator_pb),function(t){var e=googleProtobuf,r=e,s=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||s!==void 0&&s||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=inference_calculator_pb;r.object.extend(proto,o),r.exportSymbol("proto.mediapipe.tasks.core.proto.Acceleration",null,s),r.exportSymbol("proto.mediapipe.tasks.core.proto.Acceleration.DelegateCase",null,s),proto.mediapipe.tasks.core.proto.Acceleration=function(i){e.Message.initialize(this,i,0,-1,null,proto.mediapipe.tasks.core.proto.Acceleration.oneofGroups_)},r.inherits(proto.mediapipe.tasks.core.proto.Acceleration,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.core.proto.Acceleration.displayName="proto.mediapipe.tasks.core.proto.Acceleration"),proto.mediapipe.tasks.core.proto.Acceleration.oneofGroups_=[[1,2,4,5]],proto.mediapipe.tasks.core.proto.Acceleration.DelegateCase={DELEGATE_NOT_SET:0,XNNPACK:1,GPU:2,TFLITE:4,NNAPI:5},proto.mediapipe.tasks.core.proto.Acceleration.prototype.getDelegateCase=function(){return e.Message.computeOneofCase(this,proto.mediapipe.tasks.core.proto.Acceleration.oneofGroups_[0])},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.core.proto.Acceleration.prototype.toObject=function(i){return proto.mediapipe.tasks.core.proto.Acceleration.toObject(i,this)},proto.mediapipe.tasks.core.proto.Acceleration.toObject=function(i,n){var p,d={xnnpack:(p=n.getXnnpack())&&o.InferenceCalculatorOptions.Delegate.Xnnpack.toObject(i,p),gpu:(p=n.getGpu())&&o.InferenceCalculatorOptions.Delegate.Gpu.toObject(i,p),tflite:(p=n.getTflite())&&o.InferenceCalculatorOptions.Delegate.TfLite.toObject(i,p),nnapi:(p=n.getNnapi())&&o.InferenceCalculatorOptions.Delegate.Nnapi.toObject(i,p)};return i&&(d.$jspbMessageInstance=n),d}),proto.mediapipe.tasks.core.proto.Acceleration.deserializeBinary=function(i){var n=new e.BinaryReader(i),p=new proto.mediapipe.tasks.core.proto.Acceleration;return proto.mediapipe.tasks.core.proto.Acceleration.deserializeBinaryFromReader(p,n)},proto.mediapipe.tasks.core.proto.Acceleration.deserializeBinaryFromReader=function(i,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:var p=new o.InferenceCalculatorOptions.Delegate.Xnnpack;n.readMessage(p,o.InferenceCalculatorOptions.Delegate.Xnnpack.deserializeBinaryFromReader),i.setXnnpack(p);break;case 2:p=new o.InferenceCalculatorOptions.Delegate.Gpu,n.readMessage(p,o.InferenceCalculatorOptions.Delegate.Gpu.deserializeBinaryFromReader),i.setGpu(p);break;case 4:p=new o.InferenceCalculatorOptions.Delegate.TfLite,n.readMessage(p,o.InferenceCalculatorOptions.Delegate.TfLite.deserializeBinaryFromReader),i.setTflite(p);break;case 5:p=new o.InferenceCalculatorOptions.Delegate.Nnapi,n.readMessage(p,o.InferenceCalculatorOptions.Delegate.Nnapi.deserializeBinaryFromReader),i.setNnapi(p);break;default:n.skipField()}return i},proto.mediapipe.tasks.core.proto.Acceleration.prototype.serializeBinary=function(){var i=new e.BinaryWriter;return proto.mediapipe.tasks.core.proto.Acceleration.serializeBinaryToWriter(this,i),i.getResultBuffer()},proto.mediapipe.tasks.core.proto.Acceleration.serializeBinaryToWriter=function(i,n){var p=void 0;(p=i.getXnnpack())!=null&&n.writeMessage(1,p,o.InferenceCalculatorOptions.Delegate.Xnnpack.serializeBinaryToWriter),(p=i.getGpu())!=null&&n.writeMessage(2,p,o.InferenceCalculatorOptions.Delegate.Gpu.serializeBinaryToWriter),(p=i.getTflite())!=null&&n.writeMessage(4,p,o.InferenceCalculatorOptions.Delegate.TfLite.serializeBinaryToWriter),(p=i.getNnapi())!=null&&n.writeMessage(5,p,o.InferenceCalculatorOptions.Delegate.Nnapi.serializeBinaryToWriter)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.getXnnpack=function(){return e.Message.getWrapperField(this,o.InferenceCalculatorOptions.Delegate.Xnnpack,1)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.setXnnpack=function(i){return e.Message.setOneofWrapperField(this,1,proto.mediapipe.tasks.core.proto.Acceleration.oneofGroups_[0],i)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.clearXnnpack=function(){return this.setXnnpack(void 0)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.hasXnnpack=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.core.proto.Acceleration.prototype.getGpu=function(){return e.Message.getWrapperField(this,o.InferenceCalculatorOptions.Delegate.Gpu,2)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.setGpu=function(i){return e.Message.setOneofWrapperField(this,2,proto.mediapipe.tasks.core.proto.Acceleration.oneofGroups_[0],i)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.clearGpu=function(){return this.setGpu(void 0)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.hasGpu=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.core.proto.Acceleration.prototype.getTflite=function(){return e.Message.getWrapperField(this,o.InferenceCalculatorOptions.Delegate.TfLite,4)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.setTflite=function(i){return e.Message.setOneofWrapperField(this,4,proto.mediapipe.tasks.core.proto.Acceleration.oneofGroups_[0],i)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.clearTflite=function(){return this.setTflite(void 0)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.hasTflite=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.tasks.core.proto.Acceleration.prototype.getNnapi=function(){return e.Message.getWrapperField(this,o.InferenceCalculatorOptions.Delegate.Nnapi,5)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.setNnapi=function(i){return e.Message.setOneofWrapperField(this,5,proto.mediapipe.tasks.core.proto.Acceleration.oneofGroups_[0],i)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.clearNnapi=function(){return this.setNnapi(void 0)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.hasNnapi=function(){return e.Message.getField(this,5)!=null},r.object.extend(t,proto.mediapipe.tasks.core.proto)}(acceleration_pb);var external_file_pb={};(function(t){var e=googleProtobuf,r=e,s=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||s!==void 0&&s||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.tasks.core.proto.ExternalFile",null,s),r.exportSymbol("proto.mediapipe.tasks.core.proto.FileDescriptorMeta",null,s),r.exportSymbol("proto.mediapipe.tasks.core.proto.FilePointerMeta",null,s),proto.mediapipe.tasks.core.proto.ExternalFile=function(o){e.Message.initialize(this,o,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.core.proto.ExternalFile,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.core.proto.ExternalFile.displayName="proto.mediapipe.tasks.core.proto.ExternalFile"),proto.mediapipe.tasks.core.proto.FileDescriptorMeta=function(o){e.Message.initialize(this,o,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.core.proto.FileDescriptorMeta,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.core.proto.FileDescriptorMeta.displayName="proto.mediapipe.tasks.core.proto.FileDescriptorMeta"),proto.mediapipe.tasks.core.proto.FilePointerMeta=function(o){e.Message.initialize(this,o,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.core.proto.FilePointerMeta,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.core.proto.FilePointerMeta.displayName="proto.mediapipe.tasks.core.proto.FilePointerMeta"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.core.proto.ExternalFile.prototype.toObject=function(o){return proto.mediapipe.tasks.core.proto.ExternalFile.toObject(o,this)},proto.mediapipe.tasks.core.proto.ExternalFile.toObject=function(o,i){var n,p={fileContent:i.getFileContent_asB64(),fileName:(n=e.Message.getField(i,2))==null?void 0:n,fileDescriptorMeta:(n=i.getFileDescriptorMeta())&&proto.mediapipe.tasks.core.proto.FileDescriptorMeta.toObject(o,n),filePointerMeta:(n=i.getFilePointerMeta())&&proto.mediapipe.tasks.core.proto.FilePointerMeta.toObject(o,n)};return o&&(p.$jspbMessageInstance=i),p}),proto.mediapipe.tasks.core.proto.ExternalFile.deserializeBinary=function(o){var i=new e.BinaryReader(o),n=new proto.mediapipe.tasks.core.proto.ExternalFile;return proto.mediapipe.tasks.core.proto.ExternalFile.deserializeBinaryFromReader(n,i)},proto.mediapipe.tasks.core.proto.ExternalFile.deserializeBinaryFromReader=function(o,i){for(;i.nextField()&&!i.isEndGroup();)switch(i.getFieldNumber()){case 1:var n=i.readBytes();o.setFileContent(n);break;case 2:n=i.readString(),o.setFileName(n);break;case 3:n=new proto.mediapipe.tasks.core.proto.FileDescriptorMeta,i.readMessage(n,proto.mediapipe.tasks.core.proto.FileDescriptorMeta.deserializeBinaryFromReader),o.setFileDescriptorMeta(n);break;case 4:n=new proto.mediapipe.tasks.core.proto.FilePointerMeta,i.readMessage(n,proto.mediapipe.tasks.core.proto.FilePointerMeta.deserializeBinaryFromReader),o.setFilePointerMeta(n);break;default:i.skipField()}return o},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.tasks.core.proto.ExternalFile.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.tasks.core.proto.ExternalFile.serializeBinaryToWriter=function(o,i){var n=void 0;(n=e.Message.getField(o,1))!=null&&i.writeBytes(1,n),(n=e.Message.getField(o,2))!=null&&i.writeString(2,n),(n=o.getFileDescriptorMeta())!=null&&i.writeMessage(3,n,proto.mediapipe.tasks.core.proto.FileDescriptorMeta.serializeBinaryToWriter),(n=o.getFilePointerMeta())!=null&&i.writeMessage(4,n,proto.mediapipe.tasks.core.proto.FilePointerMeta.serializeBinaryToWriter)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.getFileContent=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.getFileContent_asB64=function(){return e.Message.bytesAsB64(this.getFileContent())},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.getFileContent_asU8=function(){return e.Message.bytesAsU8(this.getFileContent())},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.setFileContent=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.clearFileContent=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.hasFileContent=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.getFileName=function(){return e.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.setFileName=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.clearFileName=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.hasFileName=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.getFileDescriptorMeta=function(){return e.Message.getWrapperField(this,proto.mediapipe.tasks.core.proto.FileDescriptorMeta,3)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.setFileDescriptorMeta=function(o){return e.Message.setWrapperField(this,3,o)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.clearFileDescriptorMeta=function(){return this.setFileDescriptorMeta(void 0)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.hasFileDescriptorMeta=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.getFilePointerMeta=function(){return e.Message.getWrapperField(this,proto.mediapipe.tasks.core.proto.FilePointerMeta,4)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.setFilePointerMeta=function(o){return e.Message.setWrapperField(this,4,o)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.clearFilePointerMeta=function(){return this.setFilePointerMeta(void 0)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.hasFilePointerMeta=function(){return e.Message.getField(this,4)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.toObject=function(o){return proto.mediapipe.tasks.core.proto.FileDescriptorMeta.toObject(o,this)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.toObject=function(o,i){var n,p={fd:(n=e.Message.getField(i,1))==null?void 0:n,length:(n=e.Message.getField(i,2))==null?void 0:n,offset:(n=e.Message.getField(i,3))==null?void 0:n};return o&&(p.$jspbMessageInstance=i),p}),proto.mediapipe.tasks.core.proto.FileDescriptorMeta.deserializeBinary=function(o){var i=new e.BinaryReader(o),n=new proto.mediapipe.tasks.core.proto.FileDescriptorMeta;return proto.mediapipe.tasks.core.proto.FileDescriptorMeta.deserializeBinaryFromReader(n,i)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.deserializeBinaryFromReader=function(o,i){for(;i.nextField()&&!i.isEndGroup();)switch(i.getFieldNumber()){case 1:var n=i.readInt32();o.setFd(n);break;case 2:n=i.readInt64(),o.setLength(n);break;case 3:n=i.readInt64(),o.setOffset(n);break;default:i.skipField()}return o},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.tasks.core.proto.FileDescriptorMeta.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.serializeBinaryToWriter=function(o,i){var n=void 0;(n=e.Message.getField(o,1))!=null&&i.writeInt32(1,n),(n=e.Message.getField(o,2))!=null&&i.writeInt64(2,n),(n=e.Message.getField(o,3))!=null&&i.writeInt64(3,n)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.getFd=function(){return e.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.setFd=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.clearFd=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.hasFd=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.getLength=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.setLength=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.clearLength=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.hasLength=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.getOffset=function(){return e.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.setOffset=function(o){return e.Message.setField(this,3,o)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.clearOffset=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.hasOffset=function(){return e.Message.getField(this,3)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.toObject=function(o){return proto.mediapipe.tasks.core.proto.FilePointerMeta.toObject(o,this)},proto.mediapipe.tasks.core.proto.FilePointerMeta.toObject=function(o,i){var n,p={pointer:(n=e.Message.getField(i,1))==null?void 0:n,length:(n=e.Message.getField(i,2))==null?void 0:n};return o&&(p.$jspbMessageInstance=i),p}),proto.mediapipe.tasks.core.proto.FilePointerMeta.deserializeBinary=function(o){var i=new e.BinaryReader(o),n=new proto.mediapipe.tasks.core.proto.FilePointerMeta;return proto.mediapipe.tasks.core.proto.FilePointerMeta.deserializeBinaryFromReader(n,i)},proto.mediapipe.tasks.core.proto.FilePointerMeta.deserializeBinaryFromReader=function(o,i){for(;i.nextField()&&!i.isEndGroup();)switch(i.getFieldNumber()){case 1:var n=i.readUint64();o.setPointer(n);break;case 2:n=i.readInt64(),o.setLength(n);break;default:i.skipField()}return o},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.tasks.core.proto.FilePointerMeta.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.tasks.core.proto.FilePointerMeta.serializeBinaryToWriter=function(o,i){var n=void 0;(n=e.Message.getField(o,1))!=null&&i.writeUint64(1,n),(n=e.Message.getField(o,2))!=null&&i.writeInt64(2,n)},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.getPointer=function(){return e.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.setPointer=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.clearPointer=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.hasPointer=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.getLength=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.setLength=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.clearLength=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.hasLength=function(){return e.Message.getField(this,2)!=null},r.object.extend(t,proto.mediapipe.tasks.core.proto)})(external_file_pb),function(t){var e=googleProtobuf,r=e,s=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||s!==void 0&&s||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=acceleration_pb;r.object.extend(proto,o);var i=external_file_pb;r.object.extend(proto,i),r.exportSymbol("proto.mediapipe.tasks.core.proto.BaseOptions",null,s),proto.mediapipe.tasks.core.proto.BaseOptions=function(n){e.Message.initialize(this,n,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.core.proto.BaseOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.core.proto.BaseOptions.displayName="proto.mediapipe.tasks.core.proto.BaseOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.core.proto.BaseOptions.prototype.toObject=function(n){return proto.mediapipe.tasks.core.proto.BaseOptions.toObject(n,this)},proto.mediapipe.tasks.core.proto.BaseOptions.toObject=function(n,p){var d,l={modelAsset:(d=p.getModelAsset())&&i.ExternalFile.toObject(n,d),useStreamMode:e.Message.getBooleanFieldWithDefault(p,2,!1),acceleration:(d=p.getAcceleration())&&o.Acceleration.toObject(n,d)};return n&&(l.$jspbMessageInstance=p),l}),proto.mediapipe.tasks.core.proto.BaseOptions.deserializeBinary=function(n){var p=new e.BinaryReader(n),d=new proto.mediapipe.tasks.core.proto.BaseOptions;return proto.mediapipe.tasks.core.proto.BaseOptions.deserializeBinaryFromReader(d,p)},proto.mediapipe.tasks.core.proto.BaseOptions.deserializeBinaryFromReader=function(n,p){for(;p.nextField()&&!p.isEndGroup();)switch(p.getFieldNumber()){case 1:var d=new i.ExternalFile;p.readMessage(d,i.ExternalFile.deserializeBinaryFromReader),n.setModelAsset(d);break;case 2:d=p.readBool(),n.setUseStreamMode(d);break;case 3:d=new o.Acceleration,p.readMessage(d,o.Acceleration.deserializeBinaryFromReader),n.setAcceleration(d);break;default:p.skipField()}return n},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return proto.mediapipe.tasks.core.proto.BaseOptions.serializeBinaryToWriter(this,n),n.getResultBuffer()},proto.mediapipe.tasks.core.proto.BaseOptions.serializeBinaryToWriter=function(n,p){var d=void 0;(d=n.getModelAsset())!=null&&p.writeMessage(1,d,i.ExternalFile.serializeBinaryToWriter),(d=e.Message.getField(n,2))!=null&&p.writeBool(2,d),(d=n.getAcceleration())!=null&&p.writeMessage(3,d,o.Acceleration.serializeBinaryToWriter)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.getModelAsset=function(){return e.Message.getWrapperField(this,i.ExternalFile,1)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.setModelAsset=function(n){return e.Message.setWrapperField(this,1,n)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.clearModelAsset=function(){return this.setModelAsset(void 0)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.hasModelAsset=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.getUseStreamMode=function(){return e.Message.getBooleanFieldWithDefault(this,2,!1)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.setUseStreamMode=function(n){return e.Message.setField(this,2,n)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.clearUseStreamMode=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.hasUseStreamMode=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.getAcceleration=function(){return e.Message.getWrapperField(this,o.Acceleration,3)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.setAcceleration=function(n){return e.Message.setWrapperField(this,3,n)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.clearAcceleration=function(){return this.setAcceleration(void 0)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.hasAcceleration=function(){return e.Message.getField(this,3)!=null},r.object.extend(t,proto.mediapipe.tasks.core.proto)}(base_options_pb);var face_detector_graph_options_pb={};(function(t){var e=googleProtobuf,r=e,s=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||s!==void 0&&s||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;r.object.extend(proto,o);var i=calculator_options_pb;r.object.extend(proto,i);var n=base_options_pb;r.object.extend(proto,n),r.exportSymbol("proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions",null,s),proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions=function(p){e.Message.initialize(this,p,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.displayName="proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.toObject=function(p){return proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.toObject(p,this)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.toObject=function(p,d){var l,u={baseOptions:(l=d.getBaseOptions())&&n.BaseOptions.toObject(p,l),minDetectionConfidence:e.Message.getFloatingPointFieldWithDefault(d,2,.5),minSuppressionThreshold:e.Message.getFloatingPointFieldWithDefault(d,3,.5),numFaces:(l=e.Message.getField(d,4))==null?void 0:l};return p&&(u.$jspbMessageInstance=d),u}),proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.deserializeBinary=function(p){var d=new e.BinaryReader(p),l=new proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions;return proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.deserializeBinaryFromReader(l,d)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.deserializeBinaryFromReader=function(p,d){for(;d.nextField()&&!d.isEndGroup();)switch(d.getFieldNumber()){case 1:var l=new n.BaseOptions;d.readMessage(l,n.BaseOptions.deserializeBinaryFromReader),p.setBaseOptions(l);break;case 2:l=d.readFloat(),p.setMinDetectionConfidence(l);break;case 3:l=d.readFloat(),p.setMinSuppressionThreshold(l);break;case 4:l=d.readInt32(),p.setNumFaces(l);break;default:d.skipField()}return p},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.serializeBinary=function(){var p=new e.BinaryWriter;return proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.serializeBinaryToWriter(this,p),p.getResultBuffer()},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.serializeBinaryToWriter=function(p,d){var l=void 0;(l=p.getBaseOptions())!=null&&d.writeMessage(1,l,n.BaseOptions.serializeBinaryToWriter),(l=e.Message.getField(p,2))!=null&&d.writeFloat(2,l),(l=e.Message.getField(p,3))!=null&&d.writeFloat(3,l),(l=e.Message.getField(p,4))!=null&&d.writeInt32(4,l)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.ext=new e.ExtensionFieldInfo(502141897,{ext:0},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions,proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.toObject,0),i.CalculatorOptions.extensionsBinary[502141897]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.deserializeBinaryFromReader,!1),i.CalculatorOptions.extensions[502141897]=proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.ext,proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,n.BaseOptions,1)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.setBaseOptions=function(p){return e.Message.setWrapperField(this,1,p)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.getMinDetectionConfidence=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,.5)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.setMinDetectionConfidence=function(p){return e.Message.setField(this,2,p)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.clearMinDetectionConfidence=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.hasMinDetectionConfidence=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.getMinSuppressionThreshold=function(){return e.Message.getFloatingPointFieldWithDefault(this,3,.5)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.setMinSuppressionThreshold=function(p){return e.Message.setField(this,3,p)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.clearMinSuppressionThreshold=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.hasMinSuppressionThreshold=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.getNumFaces=function(){return e.Message.getFieldWithDefault(this,4,0)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.setNumFaces=function(p){return e.Message.setField(this,4,p)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.clearNumFaces=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.hasNumFaces=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.ext=new e.ExtensionFieldInfo(502141897,{ext:0},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions,proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.toObject,0),i.CalculatorOptions.extensionsBinary[502141897]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.deserializeBinaryFromReader,!1),i.CalculatorOptions.extensions[502141897]=proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.ext,r.object.extend(t,proto.mediapipe.tasks.vision.face_detector.proto)})(face_detector_graph_options_pb);var detection_result={};Object.defineProperty(detection_result,"__esModule",{value:!0}),detection_result.convertFromDetectionProto=void 0;const DEFAULT_CATEGORY_INDEX=-1;function convertFromDetectionProto(t){var e,r,s,o,i,n,p,d,l,u,c,g,f;const y=t.getScoreList(),_=t.getLabelIdList(),m=t.getLabelList(),h=t.getDisplayNameList(),R={categories:[],keypoints:[]};for(let v=0;v<y.length;v++)R.categories.push({score:y[v],index:(e=_[v])!==null&&e!==void 0?e:DEFAULT_CATEGORY_INDEX,categoryName:(r=m[v])!==null&&r!==void 0?r:"",displayName:(s=h[v])!==null&&s!==void 0?s:""});const b=(o=t.getLocationData())===null||o===void 0?void 0:o.getBoundingBox();if(b&&(R.boundingBox={originX:(i=b.getXmin())!==null&&i!==void 0?i:0,originY:(n=b.getYmin())!==null&&n!==void 0?n:0,width:(p=b.getWidth())!==null&&p!==void 0?p:0,height:(d=b.getHeight())!==null&&d!==void 0?d:0}),(l=t.getLocationData())===null||l===void 0?void 0:l.getRelativeKeypointsList().length)for(const v of t.getLocationData().getRelativeKeypointsList())R.keypoints.push({x:(u=v.getX())!==null&&u!==void 0?u:0,y:(c=v.getY())!==null&&c!==void 0?c:0,score:(g=v.getScore())!==null&&g!==void 0?g:0,label:(f=v.getKeypointLabel())!==null&&f!==void 0?f:""});return R}detection_result.convertFromDetectionProto=convertFromDetectionProto;var vision_task_runner={},rect_pb={};(function(t){var e=googleProtobuf,r=e,s=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||s!==void 0&&s||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.NormalizedRect",null,s),r.exportSymbol("proto.mediapipe.Rect",null,s),proto.mediapipe.Rect=function(o){e.Message.initialize(this,o,0,-1,null,null)},r.inherits(proto.mediapipe.Rect,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.Rect.displayName="proto.mediapipe.Rect"),proto.mediapipe.NormalizedRect=function(o){e.Message.initialize(this,o,0,-1,null,null)},r.inherits(proto.mediapipe.NormalizedRect,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.NormalizedRect.displayName="proto.mediapipe.NormalizedRect"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Rect.prototype.toObject=function(o){return proto.mediapipe.Rect.toObject(o,this)},proto.mediapipe.Rect.toObject=function(o,i){var n,p={xCenter:(n=e.Message.getField(i,1))==null?void 0:n,yCenter:(n=e.Message.getField(i,2))==null?void 0:n,height:(n=e.Message.getField(i,3))==null?void 0:n,width:(n=e.Message.getField(i,4))==null?void 0:n,rotation:e.Message.getFloatingPointFieldWithDefault(i,5,0),rectId:(n=e.Message.getField(i,6))==null?void 0:n};return o&&(p.$jspbMessageInstance=i),p}),proto.mediapipe.Rect.deserializeBinary=function(o){var i=new e.BinaryReader(o),n=new proto.mediapipe.Rect;return proto.mediapipe.Rect.deserializeBinaryFromReader(n,i)},proto.mediapipe.Rect.deserializeBinaryFromReader=function(o,i){for(;i.nextField()&&!i.isEndGroup();)switch(i.getFieldNumber()){case 1:var n=i.readInt32();o.setXCenter(n);break;case 2:n=i.readInt32(),o.setYCenter(n);break;case 3:n=i.readInt32(),o.setHeight(n);break;case 4:n=i.readInt32(),o.setWidth(n);break;case 5:n=i.readFloat(),o.setRotation(n);break;case 6:n=i.readInt64(),o.setRectId(n);break;default:i.skipField()}return o},proto.mediapipe.Rect.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.Rect.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.Rect.serializeBinaryToWriter=function(o,i){var n=void 0;(n=e.Message.getField(o,1))!=null&&i.writeInt32(1,n),(n=e.Message.getField(o,2))!=null&&i.writeInt32(2,n),(n=e.Message.getField(o,3))!=null&&i.writeInt32(3,n),(n=e.Message.getField(o,4))!=null&&i.writeInt32(4,n),(n=e.Message.getField(o,5))!=null&&i.writeFloat(5,n),(n=e.Message.getField(o,6))!=null&&i.writeInt64(6,n)},proto.mediapipe.Rect.prototype.getXCenter=function(){return e.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.Rect.prototype.setXCenter=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.Rect.prototype.clearXCenter=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.Rect.prototype.hasXCenter=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.Rect.prototype.getYCenter=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.Rect.prototype.setYCenter=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.Rect.prototype.clearYCenter=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.Rect.prototype.hasYCenter=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.Rect.prototype.getHeight=function(){return e.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.Rect.prototype.setHeight=function(o){return e.Message.setField(this,3,o)},proto.mediapipe.Rect.prototype.clearHeight=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.Rect.prototype.hasHeight=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.Rect.prototype.getWidth=function(){return e.Message.getFieldWithDefault(this,4,0)},proto.mediapipe.Rect.prototype.setWidth=function(o){return e.Message.setField(this,4,o)},proto.mediapipe.Rect.prototype.clearWidth=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.Rect.prototype.hasWidth=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.Rect.prototype.getRotation=function(){return e.Message.getFloatingPointFieldWithDefault(this,5,0)},proto.mediapipe.Rect.prototype.setRotation=function(o){return e.Message.setField(this,5,o)},proto.mediapipe.Rect.prototype.clearRotation=function(){return e.Message.setField(this,5,void 0)},proto.mediapipe.Rect.prototype.hasRotation=function(){return e.Message.getField(this,5)!=null},proto.mediapipe.Rect.prototype.getRectId=function(){return e.Message.getFieldWithDefault(this,6,0)},proto.mediapipe.Rect.prototype.setRectId=function(o){return e.Message.setField(this,6,o)},proto.mediapipe.Rect.prototype.clearRectId=function(){return e.Message.setField(this,6,void 0)},proto.mediapipe.Rect.prototype.hasRectId=function(){return e.Message.getField(this,6)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.NormalizedRect.prototype.toObject=function(o){return proto.mediapipe.NormalizedRect.toObject(o,this)},proto.mediapipe.NormalizedRect.toObject=function(o,i){var n,p={xCenter:(n=e.Message.getOptionalFloatingPointField(i,1))==null?void 0:n,yCenter:(n=e.Message.getOptionalFloatingPointField(i,2))==null?void 0:n,height:(n=e.Message.getOptionalFloatingPointField(i,3))==null?void 0:n,width:(n=e.Message.getOptionalFloatingPointField(i,4))==null?void 0:n,rotation:e.Message.getFloatingPointFieldWithDefault(i,5,0),rectId:(n=e.Message.getField(i,6))==null?void 0:n};return o&&(p.$jspbMessageInstance=i),p}),proto.mediapipe.NormalizedRect.deserializeBinary=function(o){var i=new e.BinaryReader(o),n=new proto.mediapipe.NormalizedRect;return proto.mediapipe.NormalizedRect.deserializeBinaryFromReader(n,i)},proto.mediapipe.NormalizedRect.deserializeBinaryFromReader=function(o,i){for(;i.nextField()&&!i.isEndGroup();)switch(i.getFieldNumber()){case 1:var n=i.readFloat();o.setXCenter(n);break;case 2:n=i.readFloat(),o.setYCenter(n);break;case 3:n=i.readFloat(),o.setHeight(n);break;case 4:n=i.readFloat(),o.setWidth(n);break;case 5:n=i.readFloat(),o.setRotation(n);break;case 6:n=i.readInt64(),o.setRectId(n);break;default:i.skipField()}return o},proto.mediapipe.NormalizedRect.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.NormalizedRect.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.NormalizedRect.serializeBinaryToWriter=function(o,i){var n=void 0;(n=e.Message.getField(o,1))!=null&&i.writeFloat(1,n),(n=e.Message.getField(o,2))!=null&&i.writeFloat(2,n),(n=e.Message.getField(o,3))!=null&&i.writeFloat(3,n),(n=e.Message.getField(o,4))!=null&&i.writeFloat(4,n),(n=e.Message.getField(o,5))!=null&&i.writeFloat(5,n),(n=e.Message.getField(o,6))!=null&&i.writeInt64(6,n)},proto.mediapipe.NormalizedRect.prototype.getXCenter=function(){return e.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.NormalizedRect.prototype.setXCenter=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.NormalizedRect.prototype.clearXCenter=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.NormalizedRect.prototype.hasXCenter=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.NormalizedRect.prototype.getYCenter=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.NormalizedRect.prototype.setYCenter=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.NormalizedRect.prototype.clearYCenter=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.NormalizedRect.prototype.hasYCenter=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.NormalizedRect.prototype.getHeight=function(){return e.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.NormalizedRect.prototype.setHeight=function(o){return e.Message.setField(this,3,o)},proto.mediapipe.NormalizedRect.prototype.clearHeight=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.NormalizedRect.prototype.hasHeight=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.NormalizedRect.prototype.getWidth=function(){return e.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.NormalizedRect.prototype.setWidth=function(o){return e.Message.setField(this,4,o)},proto.mediapipe.NormalizedRect.prototype.clearWidth=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.NormalizedRect.prototype.hasWidth=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.NormalizedRect.prototype.getRotation=function(){return e.Message.getFloatingPointFieldWithDefault(this,5,0)},proto.mediapipe.NormalizedRect.prototype.setRotation=function(o){return e.Message.setField(this,5,o)},proto.mediapipe.NormalizedRect.prototype.clearRotation=function(){return e.Message.setField(this,5,void 0)},proto.mediapipe.NormalizedRect.prototype.hasRotation=function(){return e.Message.getField(this,5)!=null},proto.mediapipe.NormalizedRect.prototype.getRectId=function(){return e.Message.getFieldWithDefault(this,6,0)},proto.mediapipe.NormalizedRect.prototype.setRectId=function(o){return e.Message.setField(this,6,o)},proto.mediapipe.NormalizedRect.prototype.clearRectId=function(){return e.Message.setField(this,6,void 0)},proto.mediapipe.NormalizedRect.prototype.hasRectId=function(){return e.Message.getField(this,6)!=null},r.object.extend(t,proto.mediapipe)})(rect_pb);var task_runner={},graph_runner={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createGraphRunner=t.createMediaPipeLib=t.GraphRunner=t.CALCULATOR_GRAPH_CONFIG_LISTENER_NAME=void 0;const e=platform_utils;t.CALCULATOR_GRAPH_CONFIG_LISTENER_NAME="__graph_config__";class r{constructor(n,p){this.autoResizeCanvas=!0,this.wasmModule=n,this.audioPtr=null,this.audioSize=0,this.hasMultiStreamSupport=typeof this.wasmModule._addIntToInputStream=="function",p!==void 0?this.wasmModule.canvas=p:typeof OffscreenCanvas>"u"||(0,e.isWebKit)()?(console.warn("OffscreenCanvas not supported and GraphRunner constructor glCanvas parameter is undefined. Creating backup canvas."),this.wasmModule.canvas=document.createElement("canvas")):this.wasmModule.canvas=new OffscreenCanvas(1,1)}async initializeGraph(n){const p=await fetch(n),d=await p.arrayBuffer(),l=!(n.endsWith(".pbtxt")||n.endsWith(".textproto"));this.setGraph(new Uint8Array(d),l)}setGraphFromString(n){this.setGraph(new TextEncoder().encode(n),!1)}setGraph(n,p){const d=n.length,l=this.wasmModule._malloc(d);this.wasmModule.HEAPU8.set(n,l),p?this.wasmModule._changeBinaryGraph(d,l):this.wasmModule._changeTextGraph(d,l),this.wasmModule._free(l)}configureAudio(n,p,d,l,u){this.wasmModule._configureAudio||console.warn('Attempting to use configureAudio without support for input audio. Is build dep ":gl_graph_runner_audio" missing?'),l=l||"input_audio",this.wrapStringPtr(l,c=>{u=u||"audio_header",this.wrapStringPtr(u,g=>{this.wasmModule._configureAudio(c,g,n,p,d)})})}setAutoResizeCanvas(n){this.autoResizeCanvas=n}setAutoRenderToScreen(n){this.wasmModule._setAutoRenderToScreen(n)}bindTextureToStream(n,p){if(!this.wasmModule.canvas)throw new Error("No OpenGL canvas configured.");p?this.wasmModule._bindTextureToStream(p):console.assert(this.wasmModule._bindTextureToCanvas());const d=this.wasmModule.canvas.getContext("webgl2")||this.wasmModule.canvas.getContext("webgl");if(!d)throw new Error("Failed to obtain WebGL context from the provided canvas. `getContext()` should only be invoked with `webgl` or `webgl2`.");let l,u;return d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,d.UNSIGNED_BYTE,n),n.videoWidth?(l=n.videoWidth,u=n.videoHeight):n.naturalWidth?(l=n.naturalWidth,u=n.naturalHeight):(l=n.width,u=n.height),!this.autoResizeCanvas||l===this.wasmModule.canvas.width&&u===this.wasmModule.canvas.height||(this.wasmModule.canvas.width=l,this.wasmModule.canvas.height=u),[l,u]}processGl(n,p){const[d,l]=this.bindTextureToStream(n),u=this.wasmModule._malloc(16);this.wasmModule.HEAPU32[u/4]=d,this.wasmModule.HEAPU32[u/4+1]=l,this.wasmModule.HEAPF64[u/8+1]=p,this.wasmModule._processGl(u),this.wasmModule._free(u)}wrapStringPtr(n,p){this.hasMultiStreamSupport||console.error("No wasm multistream support detected: ensure dependency inclusion of :gl_graph_runner_internal_multi_input target");const d=this.wasmModule.stringToNewUTF8(n);p(d),this.wasmModule._free(d)}wrapStringPtrPtr(n,p){this.hasMultiStreamSupport||console.error("No wasm multistream support detected: ensure dependency inclusion of :gl_graph_runner_internal_multi_input target");const d=new Uint32Array(n.length);for(let u=0;u<n.length;u++)d[u]=this.wasmModule.stringToNewUTF8(n[u]);const l=this.wasmModule._malloc(4*d.length);this.wasmModule.HEAPU32.set(d,l>>2),p(l);for(const u of d)this.wasmModule._free(u);this.wasmModule._free(l)}getCalculatorGraphConfig(n,p){const d=t.CALCULATOR_GRAPH_CONFIG_LISTENER_NAME;this.setListener(d,l=>{n(l)}),this.wrapStringPtr(d,l=>{this.wasmModule._getGraphConfig(l,p)}),delete this.wasmModule.simpleListeners[d]}setListener(n,p){this.wasmModule.simpleListeners=this.wasmModule.simpleListeners||{},this.wasmModule.simpleListeners[n]=p}setVectorListener(n,p){let d=[];this.wasmModule.simpleListeners=this.wasmModule.simpleListeners||{},this.wasmModule.simpleListeners[n]=(l,u,c)=>{u?(p(d,c),d=[]):d.push(l)}}attachErrorListener(n){this.wasmModule.errorListener=n}attachEmptyPacketListener(n,p){this.wasmModule.emptyPacketListeners=this.wasmModule.emptyPacketListeners||{},this.wasmModule.emptyPacketListeners[n]=p}addAudioToStream(n,p,d){this.addAudioToStreamWithShape(n,0,0,p,d)}addAudioToStreamWithShape(n,p,d,l,u){const c=4*n.length;this.audioSize!==c&&(this.audioPtr&&this.wasmModule._free(this.audioPtr),this.audioPtr=this.wasmModule._malloc(c),this.audioSize=c),this.wasmModule.HEAPF32.set(n,this.audioPtr/4),this.wrapStringPtr(l,g=>{this.wasmModule._addAudioToInputStream(this.audioPtr,p,d,g,u)})}addGpuBufferToStream(n,p,d){this.wrapStringPtr(p,l=>{const[u,c]=this.bindTextureToStream(n,l);this.wasmModule._addBoundTextureToStream(l,u,c,d)})}addBoolToStream(n,p,d){this.wrapStringPtr(p,l=>{this.wasmModule._addBoolToInputStream(n,l,d)})}addDoubleToStream(n,p,d){this.wrapStringPtr(p,l=>{this.wasmModule._addDoubleToInputStream(n,l,d)})}addFloatToStream(n,p,d){this.wrapStringPtr(p,l=>{this.wasmModule._addFloatToInputStream(n,l,d)})}addIntToStream(n,p,d){this.wrapStringPtr(p,l=>{this.wasmModule._addIntToInputStream(n,l,d)})}addStringToStream(n,p,d){this.wrapStringPtr(p,l=>{this.wrapStringPtr(n,u=>{this.wasmModule._addStringToInputStream(u,l,d)})})}addStringRecordToStream(n,p,d){this.wrapStringPtr(p,l=>{this.wrapStringPtrPtr(Object.keys(n),u=>{this.wrapStringPtrPtr(Object.values(n),c=>{this.wasmModule._addFlatHashMapToInputStream(u,c,Object.keys(n).length,l,d)})})})}addProtoToStream(n,p,d,l){this.wrapStringPtr(d,u=>{this.wrapStringPtr(p,c=>{const g=this.wasmModule._malloc(n.length);this.wasmModule.HEAPU8.set(n,g),this.wasmModule._addProtoToInputStream(g,n.length,c,u,l),this.wasmModule._free(g)})})}addEmptyPacketToStream(n,p){this.wrapStringPtr(n,d=>{this.wasmModule._addEmptyPacketToInputStream(d,p)})}addBoolToInputSidePacket(n,p){this.wrapStringPtr(p,d=>{this.wasmModule._addBoolToInputSidePacket(n,d)})}addDoubleToInputSidePacket(n,p){this.wrapStringPtr(p,d=>{this.wasmModule._addDoubleToInputSidePacket(n,d)})}addFloatToInputSidePacket(n,p){this.wrapStringPtr(p,d=>{this.wasmModule._addFloatToInputSidePacket(n,d)})}addIntToInputSidePacket(n,p){this.wrapStringPtr(p,d=>{this.wasmModule._addIntToInputSidePacket(n,d)})}addStringToInputSidePacket(n,p){this.wrapStringPtr(p,d=>{this.wrapStringPtr(n,l=>{this.wasmModule._addStringToInputSidePacket(l,d)})})}addProtoToInputSidePacket(n,p,d){this.wrapStringPtr(d,l=>{this.wrapStringPtr(p,u=>{const c=this.wasmModule._malloc(n.length);this.wasmModule.HEAPU8.set(n,c),this.wasmModule._addProtoToInputSidePacket(c,n.length,u,l),this.wasmModule._free(c)})})}attachBoolListener(n,p){this.setListener(n,p),this.wrapStringPtr(n,d=>{this.wasmModule._attachBoolListener(d)})}attachBoolVectorListener(n,p){this.setVectorListener(n,p),this.wrapStringPtr(n,d=>{this.wasmModule._attachBoolVectorListener(d)})}attachIntListener(n,p){this.setListener(n,p),this.wrapStringPtr(n,d=>{this.wasmModule._attachIntListener(d)})}attachIntVectorListener(n,p){this.setVectorListener(n,p),this.wrapStringPtr(n,d=>{this.wasmModule._attachIntVectorListener(d)})}attachDoubleListener(n,p){this.setListener(n,p),this.wrapStringPtr(n,d=>{this.wasmModule._attachDoubleListener(d)})}attachDoubleVectorListener(n,p){this.setVectorListener(n,p),this.wrapStringPtr(n,d=>{this.wasmModule._attachDoubleVectorListener(d)})}attachFloatListener(n,p){this.setListener(n,p),this.wrapStringPtr(n,d=>{this.wasmModule._attachFloatListener(d)})}attachFloatVectorListener(n,p){this.setVectorListener(n,p),this.wrapStringPtr(n,d=>{this.wasmModule._attachFloatVectorListener(d)})}attachStringListener(n,p){this.setListener(n,p),this.wrapStringPtr(n,d=>{this.wasmModule._attachStringListener(d)})}attachStringVectorListener(n,p){this.setVectorListener(n,p),this.wrapStringPtr(n,d=>{this.wasmModule._attachStringVectorListener(d)})}attachProtoListener(n,p,d){this.setListener(n,p),this.wrapStringPtr(n,l=>{this.wasmModule._attachProtoListener(l,d||!1)})}attachProtoVectorListener(n,p,d){this.setVectorListener(n,p),this.wrapStringPtr(n,l=>{this.wasmModule._attachProtoVectorListener(l,d||!1)})}attachAudioListener(n,p,d){this.wasmModule._attachAudioListener||console.warn('Attempting to use attachAudioListener without support for output audio. Is build dep ":gl_graph_runner_audio_out" missing?'),this.setListener(n,(l,u)=>{const c=new Float32Array(l.buffer,l.byteOffset,l.length/4);p(c,u)}),this.wrapStringPtr(n,l=>{this.wasmModule._attachAudioListener(l,d||!1)})}finishProcessing(){this.wasmModule._waitUntilIdle()}closeGraph(){this.wasmModule._closeGraph(),this.wasmModule.simpleListeners=void 0,this.wasmModule.emptyPacketListeners=void 0}}async function s(i){if(typeof importScripts!="function"){const n=document.createElement("script");return n.setAttribute("src",i),n.setAttribute("crossorigin","anonymous"),new Promise(p=>{n.addEventListener("load",()=>{p()},!1),n.addEventListener("error",()=>{p()},!1),document.body.appendChild(n)})}importScripts(i.toString())}async function o(i,n,p,d,l){const u=[];if(n&&u.push(n),p&&u.push(p),u.length&&await Promise.all(u.map(s)),!self.ModuleFactory)throw new Error("ModuleFactory not set.");if(self.Module&&l){const g=self.Module;g.locateFile=l.locateFile,l.mainScriptUrlOrBlob&&(g.mainScriptUrlOrBlob=l.mainScriptUrlOrBlob)}const c=await self.ModuleFactory(self.Module||l);return self.ModuleFactory=self.Module=void 0,new i(c,d)}t.GraphRunner=r,t.createMediaPipeLib=o,t.createGraphRunner=async function(i,n,p,d){return o(r,i,n,p,d)}})(graph_runner);var register_model_resources_graph_service={};function SupportModelResourcesGraphService(t){return class extends t{registerModelResourcesGraphService(){this.wasmModule._registerModelResourcesGraphService()}}}Object.defineProperty(register_model_resources_graph_service,"__esModule",{value:!0}),register_model_resources_graph_service.SupportModelResourcesGraphService=void 0,register_model_resources_graph_service.SupportModelResourcesGraphService=SupportModelResourcesGraphService,Object.defineProperty(task_runner,"__esModule",{value:!0}),task_runner.TaskRunner=task_runner.createTaskRunner=task_runner.CachedGraphRunner=void 0;const inference_calculator_pb_1=inference_calculator_pb,calculator_pb_1=calculator_pb,acceleration_pb_1=acceleration_pb,external_file_pb_1=external_file_pb,graph_runner_1$1=graph_runner,register_model_resources_graph_service_1$1=register_model_resources_graph_service,NO_ASSETS=void 0,FREE_MEMORY_STREAM="free_memory",UNUSED_STREAM_SUFFIX="_unused_out",CachedGraphRunnerType=(0,register_model_resources_graph_service_1$1.SupportModelResourcesGraphService)(graph_runner_1$1.GraphRunner);class CachedGraphRunner extends CachedGraphRunnerType{}async function createTaskRunner(t,e,r,s){const o={locateFile:()=>r.wasmBinaryPath.toString()},i=await(0,graph_runner_1$1.createMediaPipeLib)(t,r.wasmLoaderPath,NO_ASSETS,e,o);return await i.setOptions(s),i}task_runner.CachedGraphRunner=CachedGraphRunner,task_runner.createTaskRunner=createTaskRunner;class TaskRunner{static async createInstance(e,r,s,o){return createTaskRunner(e,r,s,o)}constructor(e){this.graphRunner=e,this.processingErrors=[],this.latestOutputTimestamp=0,this.graphRunner.setAutoRenderToScreen(!1)}applyOptions(e){var r,s,o,i,n,p;const d=e.baseOptions||{};if(!((r=e.baseOptions)===null||r===void 0)&&r.modelAssetBuffer&&(!((s=e.baseOptions)===null||s===void 0)&&s.modelAssetPath))throw new Error("Cannot set both baseOptions.modelAssetPath and baseOptions.modelAssetBuffer");if(!(!((o=this.baseOptions.getModelAsset())===null||o===void 0)&&o.hasFileContent()||!((i=this.baseOptions.getModelAsset())===null||i===void 0)&&i.hasFileName()||!((n=e.baseOptions)===null||n===void 0)&&n.modelAssetBuffer||!((p=e.baseOptions)===null||p===void 0)&&p.modelAssetPath))throw new Error("Either baseOptions.modelAssetPath or baseOptions.modelAssetBuffer must be set");return this.setAcceleration(d),d.modelAssetPath?fetch(d.modelAssetPath.toString()).then(l=>{if(l.ok)return l.arrayBuffer();throw new Error(`Failed to fetch model: ${d.modelAssetPath} (${l.status})`)}).then(l=>{try{this.graphRunner.wasmModule.FS_unlink("/model.dat")}catch{}this.graphRunner.wasmModule.FS_createDataFile("/","model.dat",new Uint8Array(l),!0,!1,!1),this.setExternalFile("/model.dat"),this.refreshGraph(),this.onGraphRefreshed()}):(this.setExternalFile(d.modelAssetBuffer),this.refreshGraph(),this.onGraphRefreshed(),Promise.resolve())}onGraphRefreshed(){}getCalculatorGraphConfig(){let e;if(this.graphRunner.getCalculatorGraphConfig(r=>{e=calculator_pb_1.CalculatorGraphConfig.deserializeBinary(r)}),!e)throw new Error("Failed to retrieve CalculatorGraphConfig");return e}setGraph(e,r){this.graphRunner.attachErrorListener((s,o)=>{this.processingErrors.push(new Error(o))}),this.graphRunner.registerModelResourcesGraphService(),this.graphRunner.setGraph(e,r),this.keepaliveNode=void 0,this.handleErrors()}finishProcessing(){this.graphRunner.finishProcessing(),this.handleErrors()}setLatestOutputTimestamp(e){this.latestOutputTimestamp=Math.max(this.latestOutputTimestamp,e)}getSynctheticTimestamp(){return this.latestOutputTimestamp+1}handleErrors(){try{const e=this.processingErrors.length;if(e===1)throw new Error(this.processingErrors[0].message);if(e>1)throw new Error("Encountered multiple errors: "+this.processingErrors.map(r=>r.message).join(", "))}finally{this.processingErrors=[]}}setExternalFile(e){const r=this.baseOptions.getModelAsset()||new external_file_pb_1.ExternalFile;typeof e=="string"?(r.setFileName(e),r.clearFileContent()):e instanceof Uint8Array&&(r.setFileContent(e),r.clearFileName()),this.baseOptions.setModelAsset(r)}setAcceleration(e){let r=this.baseOptions.getAcceleration();r||(r=new acceleration_pb_1.Acceleration,r.setTflite(new inference_calculator_pb_1.InferenceCalculatorOptions.Delegate.TfLite)),"delegate"in e&&(e.delegate==="GPU"?r.setGpu(new inference_calculator_pb_1.InferenceCalculatorOptions.Delegate.Gpu):r.setTflite(new inference_calculator_pb_1.InferenceCalculatorOptions.Delegate.TfLite)),this.baseOptions.setAcceleration(r)}addKeepaliveNode(e){this.keepaliveNode=new calculator_pb_1.CalculatorGraphConfig.Node,this.keepaliveNode.setCalculator("PassThroughCalculator"),this.keepaliveNode.addInputStream(FREE_MEMORY_STREAM),this.keepaliveNode.addOutputStream(FREE_MEMORY_STREAM+UNUSED_STREAM_SUFFIX),e.addInputStream(FREE_MEMORY_STREAM),e.addNode(this.keepaliveNode)}keepStreamAlive(e){this.keepaliveNode.addInputStream(e),this.keepaliveNode.addOutputStream(e+UNUSED_STREAM_SUFFIX)}freeKeepaliveStreams(){this.graphRunner.addBoolToStream(!0,FREE_MEMORY_STREAM,this.latestOutputTimestamp)}close(){this.keepaliveNode=void 0,this.graphRunner.closeGraph()}}task_runner.TaskRunner=TaskRunner;var graph_runner_image_lib={};function SupportImage(t){return class extends t{get wasmImageModule(){return this.wasmModule}addGpuBufferAsImageToStream(e,r,s){this.wrapStringPtr(r,o=>{const[i,n]=this.bindTextureToStream(e,o);this.wasmImageModule._addBoundTextureAsImageToStream(o,i,n,s)})}attachImageListener(e,r){this.setListener(e,r),this.wrapStringPtr(e,s=>{this.wasmImageModule._attachImageListener(s)})}attachImageVectorListener(e,r){this.setVectorListener(e,r),this.wrapStringPtr(e,s=>{this.wasmImageModule._attachImageVectorListener(s)})}}}Object.defineProperty(graph_runner_image_lib,"__esModule",{value:!0}),graph_runner_image_lib.SupportImage=void 0,graph_runner_image_lib.SupportImage=SupportImage,Object.defineProperty(vision_task_runner,"__esModule",{value:!0}),vision_task_runner.VisionTaskRunner=vision_task_runner.VisionGraphRunner=void 0;const rect_pb_1=rect_pb,task_runner_1=task_runner,image_1$1=image,image_shader_context_1=image_shader_context,mask_1$1=mask,graph_runner_1=graph_runner,graph_runner_image_lib_1=graph_runner_image_lib,platform_utils_1=platform_utils,register_model_resources_graph_service_1=register_model_resources_graph_service,GraphRunnerVisionType=(0,register_model_resources_graph_service_1.SupportModelResourcesGraphService)((0,graph_runner_image_lib_1.SupportImage)(graph_runner_1.GraphRunner));class VisionGraphRunner extends GraphRunnerVisionType{}function createCanvas(){return typeof OffscreenCanvas<"u"&&!(0,platform_utils_1.isWebKit)()?void 0:document.createElement("canvas")}vision_task_runner.VisionGraphRunner=VisionGraphRunner;class VisionTaskRunner extends task_runner_1.TaskRunner{static async createVisionInstance(e,r,s){var o;const i=(o=s.canvas)!==null&&o!==void 0?o:createCanvas();return task_runner_1.TaskRunner.createInstance(e,i,r,s)}constructor(e,r,s,o){super(e),this.graphRunner=e,this.imageStreamName=r,this.normRectStreamName=s,this.roiAllowed=o,this.shaderContext=new image_shader_context_1.MPImageShaderContext}applyOptions(e){if("runningMode"in e){const r=!!e.runningMode&&e.runningMode!=="IMAGE";this.baseOptions.setUseStreamMode(r)}if(e.canvas!==void 0&&this.graphRunner.wasmModule.canvas!==e.canvas)throw new Error("You must create a new task to reset the canvas.");return super.applyOptions(e)}processImageData(e,r){var s;if(!((s=this.baseOptions)===null||s===void 0)&&s.getUseStreamMode())throw new Error("Task is not initialized with image mode. 'runningMode' must be set to 'IMAGE'.");this.process(e,r,this.getSynctheticTimestamp())}processVideoData(e,r,s){var o;if(!(!((o=this.baseOptions)===null||o===void 0)&&o.getUseStreamMode()))throw new Error("Task is not initialized with video mode. 'runningMode' must be set to 'VIDEO'.");this.process(e,r,s)}getImageSourceSize(e){return e.videoWidth!==void 0?[e.videoWidth,e.videoHeight]:e.naturalWidth!==void 0?[e.naturalWidth,e.naturalHeight]:[e.width,e.height]}convertToNormalizedRect(e,r){const s=new rect_pb_1.NormalizedRect;if(r!=null&&r.regionOfInterest){if(!this.roiAllowed)throw new Error("This task doesn't support region-of-interest.");const o=r.regionOfInterest;if(o.left>=o.right||o.top>=o.bottom)throw new Error("Expected RectF with left < right and top < bottom.");if(o.left<0||o.top<0||o.right>1||o.bottom>1)throw new Error("Expected RectF values to be in [0,1].");s.setXCenter((o.left+o.right)/2),s.setYCenter((o.top+o.bottom)/2),s.setWidth(o.right-o.left),s.setHeight(o.bottom-o.top)}else s.setXCenter(.5),s.setYCenter(.5),s.setWidth(1),s.setHeight(1);if(r!=null&&r.rotationDegrees){if((r==null?void 0:r.rotationDegrees)%90!=0)throw new Error("Expected rotation to be a multiple of 90.");if(s.setRotation(-Math.PI*r.rotationDegrees/180),(r==null?void 0:r.rotationDegrees)%180!=0){const[o,i]=this.getImageSourceSize(e),n=s.getHeight()*i/o,p=s.getWidth()*o/i;s.setWidth(n),s.setHeight(p)}}return s}process(e,r,s){const o=this.convertToNormalizedRect(e,r);this.graphRunner.addProtoToStream(o.serializeBinary(),"mediapipe.NormalizedRect",this.normRectStreamName,s),this.graphRunner.addGpuBufferAsImageToStream(e,this.imageStreamName,s??performance.now()),this.finishProcessing()}convertToMPImage(e,r){const{data:s,width:o,height:i}=e,n=o*i;let p;if(s instanceof Uint8Array)if(s.length===3*n){const l=new Uint8ClampedArray(4*n);for(let u=0;u<n;++u)l[4*u]=s[3*u],l[4*u+1]=s[3*u+1],l[4*u+2]=s[3*u+2],l[4*u+3]=255;p=new ImageData(l,o,i)}else{if(s.length!==4*n)throw new Error("Unsupported channel count: "+s.length/n);p=new ImageData(new Uint8ClampedArray(s.buffer,s.byteOffset,s.length),o,i)}else{if(!(s instanceof WebGLTexture))throw new Error(`Unsupported format: ${s.constructor.name}`);p=s}const d=new image_1$1.MPImage([p],!1,!1,this.graphRunner.wasmModule.canvas,this.shaderContext,o,i);return r?d.clone():d}convertToMPMask(e,r){const{data:s,width:o,height:i}=e,n=o*i;let p;if(s instanceof Uint8Array||s instanceof Float32Array){if(s.length!==n)throw new Error("Unsupported channel count: "+s.length/n);p=s}else p=s;const d=new mask_1$1.MPMask([p],!1,this.graphRunner.wasmModule.canvas,this.shaderContext,o,i);return r?d.clone():d}close(){this.shaderContext.close(),super.close()}}vision_task_runner.VisionTaskRunner=VisionTaskRunner;var face_detector_options={};Object.defineProperty(face_detector_options,"__esModule",{value:!0});var face_detector_result={};Object.defineProperty(face_detector_result,"__esModule",{value:!0}),function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(y,_,m,h){h===void 0&&(h=m);var R=Object.getOwnPropertyDescriptor(_,m);R&&!("get"in R?!_.__esModule:R.writable||R.configurable)||(R={enumerable:!0,get:function(){return _[m]}}),Object.defineProperty(y,h,R)}:function(y,_,m,h){h===void 0&&(h=m),y[h]=_[m]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(y,_){for(var m in y)m==="default"||Object.prototype.hasOwnProperty.call(_,m)||e(_,y,m)};Object.defineProperty(t,"__esModule",{value:!0}),t.FaceDetector=void 0;const s=calculator_pb,o=calculator_options_pb,i=detection_pb,n=base_options_pb,p=face_detector_graph_options_pb,d=detection_result,l=vision_task_runner,u="image_in",c="norm_rect_in",g="detections";r(face_detector_options,t),r(face_detector_result,t);class f extends l.VisionTaskRunner{static createFromOptions(_,m){return l.VisionTaskRunner.createVisionInstance(f,_,m)}static createFromModelBuffer(_,m){return l.VisionTaskRunner.createVisionInstance(f,_,{baseOptions:{modelAssetBuffer:m}})}static async createFromModelPath(_,m){return l.VisionTaskRunner.createVisionInstance(f,_,{baseOptions:{modelAssetPath:m}})}constructor(_,m){super(new l.VisionGraphRunner(_,m),u,c,!1),this.result={detections:[]},this.options=new p.FaceDetectorGraphOptions,this.options.setBaseOptions(new n.BaseOptions),this.options.setMinDetectionConfidence(.5),this.options.setMinSuppressionThreshold(.3)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(_){this.options.setBaseOptions(_)}setOptions(_){var m,h;return"minDetectionConfidence"in _&&this.options.setMinDetectionConfidence((m=_.minDetectionConfidence)!==null&&m!==void 0?m:.5),"minSuppressionThreshold"in _&&this.options.setMinSuppressionThreshold((h=_.minSuppressionThreshold)!==null&&h!==void 0?h:.3),this.applyOptions(_)}detect(_,m){return this.result={detections:[]},this.processImageData(_,m),this.result}detectForVideo(_,m,h){return this.result={detections:[]},this.processVideoData(_,h,m),this.result}addJsFaceDetections(_){for(const m of _){const h=i.Detection.deserializeBinary(m);this.result.detections.push((0,d.convertFromDetectionProto)(h))}}refreshGraph(){const _=new s.CalculatorGraphConfig;_.addInputStream(u),_.addInputStream(c),_.addOutputStream(g);const m=new o.CalculatorOptions;m.setExtension(p.FaceDetectorGraphOptions.ext,this.options);const h=new s.CalculatorGraphConfig.Node;h.setCalculator("mediapipe.tasks.vision.face_detector.FaceDetectorGraph"),h.addInputStream("IMAGE:"+u),h.addInputStream("NORM_RECT:"+c),h.addOutputStream("DETECTIONS:"+g),h.setOptions(m),_.addNode(h),this.graphRunner.attachProtoVectorListener(g,(b,v)=>{this.addJsFaceDetections(b),this.setLatestOutputTimestamp(v)}),this.graphRunner.attachEmptyPacketListener(g,b=>{this.setLatestOutputTimestamp(b)});const R=_.serializeBinary();this.setGraph(new Uint8Array(R),!0)}}t.FaceDetector=f}(face_detector);var face_landmarker={},classification_pb={};(function(t){var e=googleProtobuf,r=e,s=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||s!==void 0&&s||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.Classification",null,s),r.exportSymbol("proto.mediapipe.ClassificationList",null,s),r.exportSymbol("proto.mediapipe.ClassificationListCollection",null,s),proto.mediapipe.Classification=function(o){e.Message.initialize(this,o,0,-1,null,null)},r.inherits(proto.mediapipe.Classification,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.Classification.displayName="proto.mediapipe.Classification"),proto.mediapipe.ClassificationList=function(o){e.Message.initialize(this,o,0,-1,proto.mediapipe.ClassificationList.repeatedFields_,null)},r.inherits(proto.mediapipe.ClassificationList,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.ClassificationList.displayName="proto.mediapipe.ClassificationList"),proto.mediapipe.ClassificationListCollection=function(o){e.Message.initialize(this,o,0,-1,proto.mediapipe.ClassificationListCollection.repeatedFields_,null)},r.inherits(proto.mediapipe.ClassificationListCollection,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.ClassificationListCollection.displayName="proto.mediapipe.ClassificationListCollection"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Classification.prototype.toObject=function(o){return proto.mediapipe.Classification.toObject(o,this)},proto.mediapipe.Classification.toObject=function(o,i){var n,p={index:(n=e.Message.getField(i,1))==null?void 0:n,score:(n=e.Message.getOptionalFloatingPointField(i,2))==null?void 0:n,label:(n=e.Message.getField(i,3))==null?void 0:n,displayName:(n=e.Message.getField(i,4))==null?void 0:n};return o&&(p.$jspbMessageInstance=i),p}),proto.mediapipe.Classification.deserializeBinary=function(o){var i=new e.BinaryReader(o),n=new proto.mediapipe.Classification;return proto.mediapipe.Classification.deserializeBinaryFromReader(n,i)},proto.mediapipe.Classification.deserializeBinaryFromReader=function(o,i){for(;i.nextField()&&!i.isEndGroup();)switch(i.getFieldNumber()){case 1:var n=i.readInt32();o.setIndex(n);break;case 2:n=i.readFloat(),o.setScore(n);break;case 3:n=i.readString(),o.setLabel(n);break;case 4:n=i.readString(),o.setDisplayName(n);break;default:i.skipField()}return o},proto.mediapipe.Classification.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.Classification.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.Classification.serializeBinaryToWriter=function(o,i){var n=void 0;(n=e.Message.getField(o,1))!=null&&i.writeInt32(1,n),(n=e.Message.getField(o,2))!=null&&i.writeFloat(2,n),(n=e.Message.getField(o,3))!=null&&i.writeString(3,n),(n=e.Message.getField(o,4))!=null&&i.writeString(4,n)},proto.mediapipe.Classification.prototype.getIndex=function(){return e.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.Classification.prototype.setIndex=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.Classification.prototype.clearIndex=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.Classification.prototype.hasIndex=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.Classification.prototype.getScore=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.Classification.prototype.setScore=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.Classification.prototype.clearScore=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.Classification.prototype.hasScore=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.Classification.prototype.getLabel=function(){return e.Message.getFieldWithDefault(this,3,"")},proto.mediapipe.Classification.prototype.setLabel=function(o){return e.Message.setField(this,3,o)},proto.mediapipe.Classification.prototype.clearLabel=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.Classification.prototype.hasLabel=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.Classification.prototype.getDisplayName=function(){return e.Message.getFieldWithDefault(this,4,"")},proto.mediapipe.Classification.prototype.setDisplayName=function(o){return e.Message.setField(this,4,o)},proto.mediapipe.Classification.prototype.clearDisplayName=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.Classification.prototype.hasDisplayName=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.ClassificationList.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.ClassificationList.prototype.toObject=function(o){return proto.mediapipe.ClassificationList.toObject(o,this)},proto.mediapipe.ClassificationList.toObject=function(o,i){var n={classificationList:e.Message.toObjectList(i.getClassificationList(),proto.mediapipe.Classification.toObject,o)};return o&&(n.$jspbMessageInstance=i),n}),proto.mediapipe.ClassificationList.deserializeBinary=function(o){var i=new e.BinaryReader(o),n=new proto.mediapipe.ClassificationList;return proto.mediapipe.ClassificationList.deserializeBinaryFromReader(n,i)},proto.mediapipe.ClassificationList.deserializeBinaryFromReader=function(o,i){for(;i.nextField()&&!i.isEndGroup();)if(i.getFieldNumber()===1){var n=new proto.mediapipe.Classification;i.readMessage(n,proto.mediapipe.Classification.deserializeBinaryFromReader),o.addClassification(n)}else i.skipField();return o},proto.mediapipe.ClassificationList.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.ClassificationList.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.ClassificationList.serializeBinaryToWriter=function(o,i){var n;(n=o.getClassificationList()).length>0&&i.writeRepeatedMessage(1,n,proto.mediapipe.Classification.serializeBinaryToWriter)},proto.mediapipe.ClassificationList.prototype.getClassificationList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.Classification,1)},proto.mediapipe.ClassificationList.prototype.setClassificationList=function(o){return e.Message.setRepeatedWrapperField(this,1,o)},proto.mediapipe.ClassificationList.prototype.addClassification=function(o,i){return e.Message.addToRepeatedWrapperField(this,1,o,proto.mediapipe.Classification,i)},proto.mediapipe.ClassificationList.prototype.clearClassificationList=function(){return this.setClassificationList([])},proto.mediapipe.ClassificationListCollection.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.ClassificationListCollection.prototype.toObject=function(o){return proto.mediapipe.ClassificationListCollection.toObject(o,this)},proto.mediapipe.ClassificationListCollection.toObject=function(o,i){var n={classificationListList:e.Message.toObjectList(i.getClassificationListList(),proto.mediapipe.ClassificationList.toObject,o)};return o&&(n.$jspbMessageInstance=i),n}),proto.mediapipe.ClassificationListCollection.deserializeBinary=function(o){var i=new e.BinaryReader(o),n=new proto.mediapipe.ClassificationListCollection;return proto.mediapipe.ClassificationListCollection.deserializeBinaryFromReader(n,i)},proto.mediapipe.ClassificationListCollection.deserializeBinaryFromReader=function(o,i){for(;i.nextField()&&!i.isEndGroup();)if(i.getFieldNumber()===1){var n=new proto.mediapipe.ClassificationList;i.readMessage(n,proto.mediapipe.ClassificationList.deserializeBinaryFromReader),o.addClassificationList(n)}else i.skipField();return o},proto.mediapipe.ClassificationListCollection.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.ClassificationListCollection.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.ClassificationListCollection.serializeBinaryToWriter=function(o,i){var n;(n=o.getClassificationListList()).length>0&&i.writeRepeatedMessage(1,n,proto.mediapipe.ClassificationList.serializeBinaryToWriter)},proto.mediapipe.ClassificationListCollection.prototype.getClassificationListList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.ClassificationList,1)},proto.mediapipe.ClassificationListCollection.prototype.setClassificationListList=function(o){return e.Message.setRepeatedWrapperField(this,1,o)},proto.mediapipe.ClassificationListCollection.prototype.addClassificationList=function(o,i){return e.Message.addToRepeatedWrapperField(this,1,o,proto.mediapipe.ClassificationList,i)},proto.mediapipe.ClassificationListCollection.prototype.clearClassificationListList=function(){return this.setClassificationListList([])},r.object.extend(t,proto.mediapipe)})(classification_pb);var landmark_pb={};(function(t){var e=googleProtobuf,r=e,s=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||s!==void 0&&s||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.Landmark",null,s),r.exportSymbol("proto.mediapipe.LandmarkList",null,s),r.exportSymbol("proto.mediapipe.LandmarkListCollection",null,s),r.exportSymbol("proto.mediapipe.NormalizedLandmark",null,s),r.exportSymbol("proto.mediapipe.NormalizedLandmarkList",null,s),r.exportSymbol("proto.mediapipe.NormalizedLandmarkListCollection",null,s),proto.mediapipe.Landmark=function(o){e.Message.initialize(this,o,0,-1,null,null)},r.inherits(proto.mediapipe.Landmark,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.Landmark.displayName="proto.mediapipe.Landmark"),proto.mediapipe.LandmarkList=function(o){e.Message.initialize(this,o,0,-1,proto.mediapipe.LandmarkList.repeatedFields_,null)},r.inherits(proto.mediapipe.LandmarkList,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.LandmarkList.displayName="proto.mediapipe.LandmarkList"),proto.mediapipe.LandmarkListCollection=function(o){e.Message.initialize(this,o,0,-1,proto.mediapipe.LandmarkListCollection.repeatedFields_,null)},r.inherits(proto.mediapipe.LandmarkListCollection,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.LandmarkListCollection.displayName="proto.mediapipe.LandmarkListCollection"),proto.mediapipe.NormalizedLandmark=function(o){e.Message.initialize(this,o,0,-1,null,null)},r.inherits(proto.mediapipe.NormalizedLandmark,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.NormalizedLandmark.displayName="proto.mediapipe.NormalizedLandmark"),proto.mediapipe.NormalizedLandmarkList=function(o){e.Message.initialize(this,o,0,-1,proto.mediapipe.NormalizedLandmarkList.repeatedFields_,null)},r.inherits(proto.mediapipe.NormalizedLandmarkList,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.NormalizedLandmarkList.displayName="proto.mediapipe.NormalizedLandmarkList"),proto.mediapipe.NormalizedLandmarkListCollection=function(o){e.Message.initialize(this,o,0,-1,proto.mediapipe.NormalizedLandmarkListCollection.repeatedFields_,null)},r.inherits(proto.mediapipe.NormalizedLandmarkListCollection,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.NormalizedLandmarkListCollection.displayName="proto.mediapipe.NormalizedLandmarkListCollection"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Landmark.prototype.toObject=function(o){return proto.mediapipe.Landmark.toObject(o,this)},proto.mediapipe.Landmark.toObject=function(o,i){var n,p={x:(n=e.Message.getOptionalFloatingPointField(i,1))==null?void 0:n,y:(n=e.Message.getOptionalFloatingPointField(i,2))==null?void 0:n,z:(n=e.Message.getOptionalFloatingPointField(i,3))==null?void 0:n,visibility:(n=e.Message.getOptionalFloatingPointField(i,4))==null?void 0:n,presence:(n=e.Message.getOptionalFloatingPointField(i,5))==null?void 0:n};return o&&(p.$jspbMessageInstance=i),p}),proto.mediapipe.Landmark.deserializeBinary=function(o){var i=new e.BinaryReader(o),n=new proto.mediapipe.Landmark;return proto.mediapipe.Landmark.deserializeBinaryFromReader(n,i)},proto.mediapipe.Landmark.deserializeBinaryFromReader=function(o,i){for(;i.nextField()&&!i.isEndGroup();)switch(i.getFieldNumber()){case 1:var n=i.readFloat();o.setX(n);break;case 2:n=i.readFloat(),o.setY(n);break;case 3:n=i.readFloat(),o.setZ(n);break;case 4:n=i.readFloat(),o.setVisibility(n);break;case 5:n=i.readFloat(),o.setPresence(n);break;default:i.skipField()}return o},proto.mediapipe.Landmark.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.Landmark.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.Landmark.serializeBinaryToWriter=function(o,i){var n=void 0;(n=e.Message.getField(o,1))!=null&&i.writeFloat(1,n),(n=e.Message.getField(o,2))!=null&&i.writeFloat(2,n),(n=e.Message.getField(o,3))!=null&&i.writeFloat(3,n),(n=e.Message.getField(o,4))!=null&&i.writeFloat(4,n),(n=e.Message.getField(o,5))!=null&&i.writeFloat(5,n)},proto.mediapipe.Landmark.prototype.getX=function(){return e.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.Landmark.prototype.setX=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.Landmark.prototype.clearX=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.Landmark.prototype.hasX=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.Landmark.prototype.getY=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.Landmark.prototype.setY=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.Landmark.prototype.clearY=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.Landmark.prototype.hasY=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.Landmark.prototype.getZ=function(){return e.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.Landmark.prototype.setZ=function(o){return e.Message.setField(this,3,o)},proto.mediapipe.Landmark.prototype.clearZ=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.Landmark.prototype.hasZ=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.Landmark.prototype.getVisibility=function(){return e.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.Landmark.prototype.setVisibility=function(o){return e.Message.setField(this,4,o)},proto.mediapipe.Landmark.prototype.clearVisibility=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.Landmark.prototype.hasVisibility=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.Landmark.prototype.getPresence=function(){return e.Message.getFloatingPointFieldWithDefault(this,5,0)},proto.mediapipe.Landmark.prototype.setPresence=function(o){return e.Message.setField(this,5,o)},proto.mediapipe.Landmark.prototype.clearPresence=function(){return e.Message.setField(this,5,void 0)},proto.mediapipe.Landmark.prototype.hasPresence=function(){return e.Message.getField(this,5)!=null},proto.mediapipe.LandmarkList.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LandmarkList.prototype.toObject=function(o){return proto.mediapipe.LandmarkList.toObject(o,this)},proto.mediapipe.LandmarkList.toObject=function(o,i){var n={landmarkList:e.Message.toObjectList(i.getLandmarkList(),proto.mediapipe.Landmark.toObject,o)};return o&&(n.$jspbMessageInstance=i),n}),proto.mediapipe.LandmarkList.deserializeBinary=function(o){var i=new e.BinaryReader(o),n=new proto.mediapipe.LandmarkList;return proto.mediapipe.LandmarkList.deserializeBinaryFromReader(n,i)},proto.mediapipe.LandmarkList.deserializeBinaryFromReader=function(o,i){for(;i.nextField()&&!i.isEndGroup();)if(i.getFieldNumber()===1){var n=new proto.mediapipe.Landmark;i.readMessage(n,proto.mediapipe.Landmark.deserializeBinaryFromReader),o.addLandmark(n)}else i.skipField();return o},proto.mediapipe.LandmarkList.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.LandmarkList.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.LandmarkList.serializeBinaryToWriter=function(o,i){var n;(n=o.getLandmarkList()).length>0&&i.writeRepeatedMessage(1,n,proto.mediapipe.Landmark.serializeBinaryToWriter)},proto.mediapipe.LandmarkList.prototype.getLandmarkList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.Landmark,1)},proto.mediapipe.LandmarkList.prototype.setLandmarkList=function(o){return e.Message.setRepeatedWrapperField(this,1,o)},proto.mediapipe.LandmarkList.prototype.addLandmark=function(o,i){return e.Message.addToRepeatedWrapperField(this,1,o,proto.mediapipe.Landmark,i)},proto.mediapipe.LandmarkList.prototype.clearLandmarkList=function(){return this.setLandmarkList([])},proto.mediapipe.LandmarkListCollection.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LandmarkListCollection.prototype.toObject=function(o){return proto.mediapipe.LandmarkListCollection.toObject(o,this)},proto.mediapipe.LandmarkListCollection.toObject=function(o,i){var n={landmarkListList:e.Message.toObjectList(i.getLandmarkListList(),proto.mediapipe.LandmarkList.toObject,o)};return o&&(n.$jspbMessageInstance=i),n}),proto.mediapipe.LandmarkListCollection.deserializeBinary=function(o){var i=new e.BinaryReader(o),n=new proto.mediapipe.LandmarkListCollection;return proto.mediapipe.LandmarkListCollection.deserializeBinaryFromReader(n,i)},proto.mediapipe.LandmarkListCollection.deserializeBinaryFromReader=function(o,i){for(;i.nextField()&&!i.isEndGroup();)if(i.getFieldNumber()===1){var n=new proto.mediapipe.LandmarkList;i.readMessage(n,proto.mediapipe.LandmarkList.deserializeBinaryFromReader),o.addLandmarkList(n)}else i.skipField();return o},proto.mediapipe.LandmarkListCollection.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.LandmarkListCollection.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.LandmarkListCollection.serializeBinaryToWriter=function(o,i){var n;(n=o.getLandmarkListList()).length>0&&i.writeRepeatedMessage(1,n,proto.mediapipe.LandmarkList.serializeBinaryToWriter)},proto.mediapipe.LandmarkListCollection.prototype.getLandmarkListList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.LandmarkList,1)},proto.mediapipe.LandmarkListCollection.prototype.setLandmarkListList=function(o){return e.Message.setRepeatedWrapperField(this,1,o)},proto.mediapipe.LandmarkListCollection.prototype.addLandmarkList=function(o,i){return e.Message.addToRepeatedWrapperField(this,1,o,proto.mediapipe.LandmarkList,i)},proto.mediapipe.LandmarkListCollection.prototype.clearLandmarkListList=function(){return this.setLandmarkListList([])},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.NormalizedLandmark.prototype.toObject=function(o){return proto.mediapipe.NormalizedLandmark.toObject(o,this)},proto.mediapipe.NormalizedLandmark.toObject=function(o,i){var n,p={x:(n=e.Message.getOptionalFloatingPointField(i,1))==null?void 0:n,y:(n=e.Message.getOptionalFloatingPointField(i,2))==null?void 0:n,z:(n=e.Message.getOptionalFloatingPointField(i,3))==null?void 0:n,visibility:(n=e.Message.getOptionalFloatingPointField(i,4))==null?void 0:n,presence:(n=e.Message.getOptionalFloatingPointField(i,5))==null?void 0:n};return o&&(p.$jspbMessageInstance=i),p}),proto.mediapipe.NormalizedLandmark.deserializeBinary=function(o){var i=new e.BinaryReader(o),n=new proto.mediapipe.NormalizedLandmark;return proto.mediapipe.NormalizedLandmark.deserializeBinaryFromReader(n,i)},proto.mediapipe.NormalizedLandmark.deserializeBinaryFromReader=function(o,i){for(;i.nextField()&&!i.isEndGroup();)switch(i.getFieldNumber()){case 1:var n=i.readFloat();o.setX(n);break;case 2:n=i.readFloat(),o.setY(n);break;case 3:n=i.readFloat(),o.setZ(n);break;case 4:n=i.readFloat(),o.setVisibility(n);break;case 5:n=i.readFloat(),o.setPresence(n);break;default:i.skipField()}return o},proto.mediapipe.NormalizedLandmark.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.NormalizedLandmark.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.NormalizedLandmark.serializeBinaryToWriter=function(o,i){var n=void 0;(n=e.Message.getField(o,1))!=null&&i.writeFloat(1,n),(n=e.Message.getField(o,2))!=null&&i.writeFloat(2,n),(n=e.Message.getField(o,3))!=null&&i.writeFloat(3,n),(n=e.Message.getField(o,4))!=null&&i.writeFloat(4,n),(n=e.Message.getField(o,5))!=null&&i.writeFloat(5,n)},proto.mediapipe.NormalizedLandmark.prototype.getX=function(){return e.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.NormalizedLandmark.prototype.setX=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.NormalizedLandmark.prototype.clearX=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.NormalizedLandmark.prototype.hasX=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.NormalizedLandmark.prototype.getY=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.NormalizedLandmark.prototype.setY=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.NormalizedLandmark.prototype.clearY=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.NormalizedLandmark.prototype.hasY=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.NormalizedLandmark.prototype.getZ=function(){return e.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.NormalizedLandmark.prototype.setZ=function(o){return e.Message.setField(this,3,o)},proto.mediapipe.NormalizedLandmark.prototype.clearZ=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.NormalizedLandmark.prototype.hasZ=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.NormalizedLandmark.prototype.getVisibility=function(){return e.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.NormalizedLandmark.prototype.setVisibility=function(o){return e.Message.setField(this,4,o)},proto.mediapipe.NormalizedLandmark.prototype.clearVisibility=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.NormalizedLandmark.prototype.hasVisibility=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.NormalizedLandmark.prototype.getPresence=function(){return e.Message.getFloatingPointFieldWithDefault(this,5,0)},proto.mediapipe.NormalizedLandmark.prototype.setPresence=function(o){return e.Message.setField(this,5,o)},proto.mediapipe.NormalizedLandmark.prototype.clearPresence=function(){return e.Message.setField(this,5,void 0)},proto.mediapipe.NormalizedLandmark.prototype.hasPresence=function(){return e.Message.getField(this,5)!=null},proto.mediapipe.NormalizedLandmarkList.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.NormalizedLandmarkList.prototype.toObject=function(o){return proto.mediapipe.NormalizedLandmarkList.toObject(o,this)},proto.mediapipe.NormalizedLandmarkList.toObject=function(o,i){var n={landmarkList:e.Message.toObjectList(i.getLandmarkList(),proto.mediapipe.NormalizedLandmark.toObject,o)};return o&&(n.$jspbMessageInstance=i),n}),proto.mediapipe.NormalizedLandmarkList.deserializeBinary=function(o){var i=new e.BinaryReader(o),n=new proto.mediapipe.NormalizedLandmarkList;return proto.mediapipe.NormalizedLandmarkList.deserializeBinaryFromReader(n,i)},proto.mediapipe.NormalizedLandmarkList.deserializeBinaryFromReader=function(o,i){for(;i.nextField()&&!i.isEndGroup();)if(i.getFieldNumber()===1){var n=new proto.mediapipe.NormalizedLandmark;i.readMessage(n,proto.mediapipe.NormalizedLandmark.deserializeBinaryFromReader),o.addLandmark(n)}else i.skipField();return o},proto.mediapipe.NormalizedLandmarkList.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.NormalizedLandmarkList.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.NormalizedLandmarkList.serializeBinaryToWriter=function(o,i){var n;(n=o.getLandmarkList()).length>0&&i.writeRepeatedMessage(1,n,proto.mediapipe.NormalizedLandmark.serializeBinaryToWriter)},proto.mediapipe.NormalizedLandmarkList.prototype.getLandmarkList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.NormalizedLandmark,1)},proto.mediapipe.NormalizedLandmarkList.prototype.setLandmarkList=function(o){return e.Message.setRepeatedWrapperField(this,1,o)},proto.mediapipe.NormalizedLandmarkList.prototype.addLandmark=function(o,i){return e.Message.addToRepeatedWrapperField(this,1,o,proto.mediapipe.NormalizedLandmark,i)},proto.mediapipe.NormalizedLandmarkList.prototype.clearLandmarkList=function(){return this.setLandmarkList([])},proto.mediapipe.NormalizedLandmarkListCollection.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.NormalizedLandmarkListCollection.prototype.toObject=function(o){return proto.mediapipe.NormalizedLandmarkListCollection.toObject(o,this)},proto.mediapipe.NormalizedLandmarkListCollection.toObject=function(o,i){var n={landmarkListList:e.Message.toObjectList(i.getLandmarkListList(),proto.mediapipe.NormalizedLandmarkList.toObject,o)};return o&&(n.$jspbMessageInstance=i),n}),proto.mediapipe.NormalizedLandmarkListCollection.deserializeBinary=function(o){var i=new e.BinaryReader(o),n=new proto.mediapipe.NormalizedLandmarkListCollection;return proto.mediapipe.NormalizedLandmarkListCollection.deserializeBinaryFromReader(n,i)},proto.mediapipe.NormalizedLandmarkListCollection.deserializeBinaryFromReader=function(o,i){for(;i.nextField()&&!i.isEndGroup();)if(i.getFieldNumber()===1){var n=new proto.mediapipe.NormalizedLandmarkList;i.readMessage(n,proto.mediapipe.NormalizedLandmarkList.deserializeBinaryFromReader),o.addLandmarkList(n)}else i.skipField();return o},proto.mediapipe.NormalizedLandmarkListCollection.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.NormalizedLandmarkListCollection.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.NormalizedLandmarkListCollection.serializeBinaryToWriter=function(o,i){var n;(n=o.getLandmarkListList()).length>0&&i.writeRepeatedMessage(1,n,proto.mediapipe.NormalizedLandmarkList.serializeBinaryToWriter)},proto.mediapipe.NormalizedLandmarkListCollection.prototype.getLandmarkListList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.NormalizedLandmarkList,1)},proto.mediapipe.NormalizedLandmarkListCollection.prototype.setLandmarkListList=function(o){return e.Message.setRepeatedWrapperField(this,1,o)},proto.mediapipe.NormalizedLandmarkListCollection.prototype.addLandmarkList=function(o,i){return e.Message.addToRepeatedWrapperField(this,1,o,proto.mediapipe.NormalizedLandmarkList,i)},proto.mediapipe.NormalizedLandmarkListCollection.prototype.clearLandmarkListList=function(){return this.setLandmarkListList([])},r.object.extend(t,proto.mediapipe)})(landmark_pb);var face_geometry_pb={},matrix_data_pb={};(function(t){var e=googleProtobuf,r=e,s=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||s!==void 0&&s||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.MatrixData",null,s),r.exportSymbol("proto.mediapipe.MatrixData.Layout",null,s),proto.mediapipe.MatrixData=function(o){e.Message.initialize(this,o,0,-1,proto.mediapipe.MatrixData.repeatedFields_,null)},r.inherits(proto.mediapipe.MatrixData,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.MatrixData.displayName="proto.mediapipe.MatrixData"),proto.mediapipe.MatrixData.repeatedFields_=[3],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.MatrixData.prototype.toObject=function(o){return proto.mediapipe.MatrixData.toObject(o,this)},proto.mediapipe.MatrixData.toObject=function(o,i){var n,p={rows:(n=e.Message.getField(i,1))==null?void 0:n,cols:(n=e.Message.getField(i,2))==null?void 0:n,packedDataList:(n=e.Message.getRepeatedFloatingPointField(i,3))==null?void 0:n,layout:e.Message.getFieldWithDefault(i,4,0)};return o&&(p.$jspbMessageInstance=i),p}),proto.mediapipe.MatrixData.deserializeBinary=function(o){var i=new e.BinaryReader(o),n=new proto.mediapipe.MatrixData;return proto.mediapipe.MatrixData.deserializeBinaryFromReader(n,i)},proto.mediapipe.MatrixData.deserializeBinaryFromReader=function(o,i){for(;i.nextField()&&!i.isEndGroup();)switch(i.getFieldNumber()){case 1:var n=i.readInt32();o.setRows(n);break;case 2:n=i.readInt32(),o.setCols(n);break;case 3:for(var p=i.isDelimited()?i.readPackedFloat():[i.readFloat()],d=0;d<p.length;d++)o.addPackedData(p[d]);break;case 4:n=i.readEnum(),o.setLayout(n);break;default:i.skipField()}return o},proto.mediapipe.MatrixData.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.MatrixData.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.MatrixData.serializeBinaryToWriter=function(o,i){var n=void 0;(n=e.Message.getField(o,1))!=null&&i.writeInt32(1,n),(n=e.Message.getField(o,2))!=null&&i.writeInt32(2,n),(n=o.getPackedDataList()).length>0&&i.writePackedFloat(3,n),(n=e.Message.getField(o,4))!=null&&i.writeEnum(4,n)},proto.mediapipe.MatrixData.Layout={COLUMN_MAJOR:0,ROW_MAJOR:1},proto.mediapipe.MatrixData.prototype.getRows=function(){return e.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.MatrixData.prototype.setRows=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.MatrixData.prototype.clearRows=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.MatrixData.prototype.hasRows=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.MatrixData.prototype.getCols=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.MatrixData.prototype.setCols=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.MatrixData.prototype.clearCols=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.MatrixData.prototype.hasCols=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.MatrixData.prototype.getPackedDataList=function(){return e.Message.getRepeatedFloatingPointField(this,3)},proto.mediapipe.MatrixData.prototype.setPackedDataList=function(o){return e.Message.setField(this,3,o||[])},proto.mediapipe.MatrixData.prototype.addPackedData=function(o,i){return e.Message.addToRepeatedField(this,3,o,i)},proto.mediapipe.MatrixData.prototype.clearPackedDataList=function(){return this.setPackedDataList([])},proto.mediapipe.MatrixData.prototype.getLayout=function(){return e.Message.getFieldWithDefault(this,4,0)},proto.mediapipe.MatrixData.prototype.setLayout=function(o){return e.Message.setField(this,4,o)},proto.mediapipe.MatrixData.prototype.clearLayout=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.MatrixData.prototype.hasLayout=function(){return e.Message.getField(this,4)!=null},r.object.extend(t,proto.mediapipe)})(matrix_data_pb);var mesh_3d_pb={};(function(t){var e=googleProtobuf,r=e,s=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||s!==void 0&&s||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d",null,s),r.exportSymbol("proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.PrimitiveType",null,s),r.exportSymbol("proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.VertexType",null,s),proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d=function(o){e.Message.initialize(this,o,0,-1,proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.repeatedFields_,null)},r.inherits(proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.displayName="proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d"),proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.repeatedFields_=[3,4],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.toObject=function(o){return proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.toObject(o,this)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.toObject=function(o,i){var n,p={vertexType:(n=e.Message.getField(i,1))==null?void 0:n,primitiveType:(n=e.Message.getField(i,2))==null?void 0:n,vertexBufferList:(n=e.Message.getRepeatedFloatingPointField(i,3))==null?void 0:n,indexBufferList:(n=e.Message.getRepeatedField(i,4))==null?void 0:n};return o&&(p.$jspbMessageInstance=i),p}),proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.deserializeBinary=function(o){var i=new e.BinaryReader(o),n=new proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d;return proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.deserializeBinaryFromReader(n,i)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.deserializeBinaryFromReader=function(o,i){for(;i.nextField()&&!i.isEndGroup();)switch(i.getFieldNumber()){case 1:var n=i.readEnum();o.setVertexType(n);break;case 2:n=i.readEnum(),o.setPrimitiveType(n);break;case 3:for(var p=i.isDelimited()?i.readPackedFloat():[i.readFloat()],d=0;d<p.length;d++)o.addVertexBuffer(p[d]);break;case 4:for(p=i.isDelimited()?i.readPackedUint32():[i.readUint32()],d=0;d<p.length;d++)o.addIndexBuffer(p[d]);break;default:i.skipField()}return o},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.serializeBinaryToWriter=function(o,i){var n=void 0;(n=e.Message.getField(o,1))!=null&&i.writeEnum(1,n),(n=e.Message.getField(o,2))!=null&&i.writeEnum(2,n),(n=o.getVertexBufferList()).length>0&&i.writeRepeatedFloat(3,n),(n=o.getIndexBufferList()).length>0&&i.writeRepeatedUint32(4,n)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.VertexType={VERTEX_PT:0},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.PrimitiveType={TRIANGLE:0},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.getVertexType=function(){return e.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.setVertexType=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.clearVertexType=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.hasVertexType=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.getPrimitiveType=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.setPrimitiveType=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.clearPrimitiveType=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.hasPrimitiveType=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.getVertexBufferList=function(){return e.Message.getRepeatedFloatingPointField(this,3)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.setVertexBufferList=function(o){return e.Message.setField(this,3,o||[])},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.addVertexBuffer=function(o,i){return e.Message.addToRepeatedField(this,3,o,i)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.clearVertexBufferList=function(){return this.setVertexBufferList([])},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.getIndexBufferList=function(){return e.Message.getRepeatedField(this,4)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.setIndexBufferList=function(o){return e.Message.setField(this,4,o||[])},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.addIndexBuffer=function(o,i){return e.Message.addToRepeatedField(this,4,o,i)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.clearIndexBufferList=function(){return this.setIndexBufferList([])},r.object.extend(t,proto.mediapipe.tasks.vision.face_geometry.proto)})(mesh_3d_pb),function(t){var e=googleProtobuf,r=e,s=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||s!==void 0&&s||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=matrix_data_pb;r.object.extend(proto,o);var i=mesh_3d_pb;r.object.extend(proto,i),r.exportSymbol("proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry",null,s),proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry=function(n){e.Message.initialize(this,n,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.displayName="proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.toObject=function(n){return proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.toObject(n,this)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.toObject=function(n,p){var d,l={mesh:(d=p.getMesh())&&i.Mesh3d.toObject(n,d),poseTransformMatrix:(d=p.getPoseTransformMatrix())&&o.MatrixData.toObject(n,d)};return n&&(l.$jspbMessageInstance=p),l}),proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.deserializeBinary=function(n){var p=new e.BinaryReader(n),d=new proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry;return proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.deserializeBinaryFromReader(d,p)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.deserializeBinaryFromReader=function(n,p){for(;p.nextField()&&!p.isEndGroup();)switch(p.getFieldNumber()){case 1:var d=new i.Mesh3d;p.readMessage(d,i.Mesh3d.deserializeBinaryFromReader),n.setMesh(d);break;case 2:d=new o.MatrixData,p.readMessage(d,o.MatrixData.deserializeBinaryFromReader),n.setPoseTransformMatrix(d);break;default:p.skipField()}return n},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.serializeBinaryToWriter(this,n),n.getResultBuffer()},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.serializeBinaryToWriter=function(n,p){var d=void 0;(d=n.getMesh())!=null&&p.writeMessage(1,d,i.Mesh3d.serializeBinaryToWriter),(d=n.getPoseTransformMatrix())!=null&&p.writeMessage(2,d,o.MatrixData.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.getMesh=function(){return e.Message.getWrapperField(this,i.Mesh3d,1)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.setMesh=function(n){return e.Message.setWrapperField(this,1,n)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.clearMesh=function(){return this.setMesh(void 0)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.hasMesh=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.getPoseTransformMatrix=function(){return e.Message.getWrapperField(this,o.MatrixData,2)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.setPoseTransformMatrix=function(n){return e.Message.setWrapperField(this,2,n)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.clearPoseTransformMatrix=function(){return this.setPoseTransformMatrix(void 0)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.hasPoseTransformMatrix=function(){return e.Message.getField(this,2)!=null},r.object.extend(t,proto.mediapipe.tasks.vision.face_geometry.proto)}(face_geometry_pb);var face_landmarker_graph_options_pb={},face_geometry_graph_options_pb={},geometry_pipeline_calculator_pb={};(function(t){var e=googleProtobuf,r=e,s=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||s!==void 0&&s||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_options_pb;r.object.extend(proto,o);var i=external_file_pb;r.object.extend(proto,i),r.exportSymbol("proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions",null,s),proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions=function(n){e.Message.initialize(this,n,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.displayName="proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.prototype.toObject=function(n){return proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.toObject(n,this)},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.toObject=function(n,p){var d,l={metadataFile:(d=p.getMetadataFile())&&i.ExternalFile.toObject(n,d)};return n&&(l.$jspbMessageInstance=p),l}),proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.deserializeBinary=function(n){var p=new e.BinaryReader(n),d=new proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions;return proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.deserializeBinaryFromReader(d,p)},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.deserializeBinaryFromReader=function(n,p){for(;p.nextField()&&!p.isEndGroup();)if(p.getFieldNumber()===1){var d=new i.ExternalFile;p.readMessage(d,i.ExternalFile.deserializeBinaryFromReader),n.setMetadataFile(d)}else p.skipField();return n},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.serializeBinaryToWriter(this,n),n.getResultBuffer()},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.serializeBinaryToWriter=function(n,p){var d;(d=n.getMetadataFile())!=null&&p.writeMessage(1,d,i.ExternalFile.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.ext=new e.ExtensionFieldInfo(512499200,{ext:0},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions,proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.toObject,0),o.CalculatorOptions.extensionsBinary[512499200]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[512499200]=proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.ext,proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.prototype.getMetadataFile=function(){return e.Message.getWrapperField(this,i.ExternalFile,1)},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.prototype.setMetadataFile=function(n){return e.Message.setWrapperField(this,1,n)},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.prototype.clearMetadataFile=function(){return this.setMetadataFile(void 0)},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.prototype.hasMetadataFile=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.ext=new e.ExtensionFieldInfo(512499200,{ext:0},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions,proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.toObject,0),o.CalculatorOptions.extensionsBinary[512499200]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[512499200]=proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.ext,r.object.extend(t,proto.mediapipe.tasks.vision.face_geometry)})(geometry_pipeline_calculator_pb),function(t){var e=googleProtobuf,r=e,s=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||s!==void 0&&s||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_options_pb;r.object.extend(proto,o);var i=geometry_pipeline_calculator_pb;r.object.extend(proto,i),r.exportSymbol("proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions",null,s),proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions=function(n){e.Message.initialize(this,n,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.displayName="proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.prototype.toObject=function(n){return proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.toObject(n,this)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.toObject=function(n,p){var d,l={geometryPipelineOptions:(d=p.getGeometryPipelineOptions())&&i.FaceGeometryPipelineCalculatorOptions.toObject(n,d)};return n&&(l.$jspbMessageInstance=p),l}),proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.deserializeBinary=function(n){var p=new e.BinaryReader(n),d=new proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions;return proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.deserializeBinaryFromReader(d,p)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.deserializeBinaryFromReader=function(n,p){for(;p.nextField()&&!p.isEndGroup();)if(p.getFieldNumber()===1){var d=new i.FaceGeometryPipelineCalculatorOptions;p.readMessage(d,i.FaceGeometryPipelineCalculatorOptions.deserializeBinaryFromReader),n.setGeometryPipelineOptions(d)}else p.skipField();return n},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.prototype.serializeBinary=function(){var n=new e.BinaryWriter;return proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.serializeBinaryToWriter(this,n),n.getResultBuffer()},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.serializeBinaryToWriter=function(n,p){var d;(d=n.getGeometryPipelineOptions())!=null&&p.writeMessage(1,d,i.FaceGeometryPipelineCalculatorOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.ext=new e.ExtensionFieldInfo(515723506,{ext:0},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions,proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.toObject,0),o.CalculatorOptions.extensionsBinary[515723506]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[515723506]=proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.ext,proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.prototype.getGeometryPipelineOptions=function(){return e.Message.getWrapperField(this,i.FaceGeometryPipelineCalculatorOptions,1)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.prototype.setGeometryPipelineOptions=function(n){return e.Message.setWrapperField(this,1,n)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.prototype.clearGeometryPipelineOptions=function(){return this.setGeometryPipelineOptions(void 0)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.prototype.hasGeometryPipelineOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.ext=new e.ExtensionFieldInfo(515723506,{ext:0},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions,proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.toObject,0),o.CalculatorOptions.extensionsBinary[515723506]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[515723506]=proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.ext,r.object.extend(t,proto.mediapipe.tasks.vision.face_geometry.proto)}(face_geometry_graph_options_pb);var face_landmarks_detector_graph_options_pb={},face_blendshapes_graph_options_pb={};(function(t){var e=googleProtobuf,r=e,s=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||s!==void 0&&s||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;r.object.extend(proto,o);var i=calculator_options_pb;r.object.extend(proto,i);var n=base_options_pb;r.object.extend(proto,n),r.exportSymbol("proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions",null,s),proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions=function(p){e.Message.initialize(this,p,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.displayName="proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.prototype.toObject=function(p){return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.toObject(p,this)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.toObject=function(p,d){var l,u={baseOptions:(l=d.getBaseOptions())&&n.BaseOptions.toObject(p,l)};return p&&(u.$jspbMessageInstance=d),u}),proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.deserializeBinary=function(p){var d=new e.BinaryReader(p),l=new proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions;return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.deserializeBinaryFromReader(l,d)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.deserializeBinaryFromReader=function(p,d){for(;d.nextField()&&!d.isEndGroup();)if(d.getFieldNumber()===1){var l=new n.BaseOptions;d.readMessage(l,n.BaseOptions.deserializeBinaryFromReader),p.setBaseOptions(l)}else d.skipField();return p},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.prototype.serializeBinary=function(){var p=new e.BinaryWriter;return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.serializeBinaryToWriter(this,p),p.getResultBuffer()},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.serializeBinaryToWriter=function(p,d){var l;(l=p.getBaseOptions())!=null&&d.writeMessage(1,l,n.BaseOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.ext=new e.ExtensionFieldInfo(508981768,{ext:0},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.toObject,0),i.CalculatorOptions.extensionsBinary[508981768]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.deserializeBinaryFromReader,!1),i.CalculatorOptions.extensions[508981768]=proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.ext,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,n.BaseOptions,1)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.prototype.setBaseOptions=function(p){return e.Message.setWrapperField(this,1,p)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.ext=new e.ExtensionFieldInfo(508981768,{ext:0},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.toObject,0),i.CalculatorOptions.extensionsBinary[508981768]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.deserializeBinaryFromReader,!1),i.CalculatorOptions.extensions[508981768]=proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.ext,r.object.extend(t,proto.mediapipe.tasks.vision.face_landmarker.proto)})(face_blendshapes_graph_options_pb),function(t){var e=googleProtobuf,r=e,s=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||s!==void 0&&s||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;r.object.extend(proto,o);var i=calculator_options_pb;r.object.extend(proto,i);var n=base_options_pb;r.object.extend(proto,n);var p=face_blendshapes_graph_options_pb;r.object.extend(proto,p),r.exportSymbol("proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions",null,s),proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions=function(d){e.Message.initialize(this,d,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.displayName="proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.toObject=function(d){return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.toObject(d,this)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.toObject=function(d,l){var u,c={baseOptions:(u=l.getBaseOptions())&&n.BaseOptions.toObject(d,u),minDetectionConfidence:e.Message.getFloatingPointFieldWithDefault(l,2,.5),smoothLandmarks:(u=e.Message.getBooleanField(l,4))==null?void 0:u,faceBlendshapesGraphOptions:(u=l.getFaceBlendshapesGraphOptions())&&p.FaceBlendshapesGraphOptions.toObject(d,u)};return d&&(c.$jspbMessageInstance=l),c}),proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.deserializeBinary=function(d){var l=new e.BinaryReader(d),u=new proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions;return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.deserializeBinaryFromReader(u,l)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.deserializeBinaryFromReader=function(d,l){for(;l.nextField()&&!l.isEndGroup();)switch(l.getFieldNumber()){case 1:var u=new n.BaseOptions;l.readMessage(u,n.BaseOptions.deserializeBinaryFromReader),d.setBaseOptions(u);break;case 2:u=l.readFloat(),d.setMinDetectionConfidence(u);break;case 4:u=l.readBool(),d.setSmoothLandmarks(u);break;case 3:u=new p.FaceBlendshapesGraphOptions,l.readMessage(u,p.FaceBlendshapesGraphOptions.deserializeBinaryFromReader),d.setFaceBlendshapesGraphOptions(u);break;default:l.skipField()}return d},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.serializeBinary=function(){var d=new e.BinaryWriter;return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.serializeBinaryToWriter(this,d),d.getResultBuffer()},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.serializeBinaryToWriter=function(d,l){var u=void 0;(u=d.getBaseOptions())!=null&&l.writeMessage(1,u,n.BaseOptions.serializeBinaryToWriter),(u=e.Message.getField(d,2))!=null&&l.writeFloat(2,u),(u=e.Message.getField(d,4))!=null&&l.writeBool(4,u),(u=d.getFaceBlendshapesGraphOptions())!=null&&l.writeMessage(3,u,p.FaceBlendshapesGraphOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.ext=new e.ExtensionFieldInfo(508968149,{ext:0},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.toObject,0),i.CalculatorOptions.extensionsBinary[508968149]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.deserializeBinaryFromReader,!1),i.CalculatorOptions.extensions[508968149]=proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.ext,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,n.BaseOptions,1)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.setBaseOptions=function(d){return e.Message.setWrapperField(this,1,d)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.getMinDetectionConfidence=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,.5)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.setMinDetectionConfidence=function(d){return e.Message.setField(this,2,d)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.clearMinDetectionConfidence=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.hasMinDetectionConfidence=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.getSmoothLandmarks=function(){return e.Message.getBooleanFieldWithDefault(this,4,!1)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.setSmoothLandmarks=function(d){return e.Message.setField(this,4,d)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.clearSmoothLandmarks=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.hasSmoothLandmarks=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.getFaceBlendshapesGraphOptions=function(){return e.Message.getWrapperField(this,p.FaceBlendshapesGraphOptions,3)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.setFaceBlendshapesGraphOptions=function(d){return e.Message.setWrapperField(this,3,d)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.clearFaceBlendshapesGraphOptions=function(){return this.setFaceBlendshapesGraphOptions(void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.hasFaceBlendshapesGraphOptions=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.ext=new e.ExtensionFieldInfo(508968149,{ext:0},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.toObject,0),i.CalculatorOptions.extensionsBinary[508968149]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.deserializeBinaryFromReader,!1),i.CalculatorOptions.extensions[508968149]=proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.ext,r.object.extend(t,proto.mediapipe.tasks.vision.face_landmarker.proto)}(face_landmarks_detector_graph_options_pb),function(t){var e=googleProtobuf,r=e,s=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||s!==void 0&&s||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;r.object.extend(proto,o);var i=calculator_options_pb;r.object.extend(proto,i);var n=base_options_pb;r.object.extend(proto,n);var p=face_detector_graph_options_pb;r.object.extend(proto,p);var d=face_geometry_graph_options_pb;r.object.extend(proto,d);var l=face_landmarks_detector_graph_options_pb;r.object.extend(proto,l),r.exportSymbol("proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions",null,s),proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions=function(u){e.Message.initialize(this,u,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.displayName="proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.toObject=function(u){return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.toObject(u,this)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.toObject=function(u,c){var g,f={baseOptions:(g=c.getBaseOptions())&&n.BaseOptions.toObject(u,g),faceDetectorGraphOptions:(g=c.getFaceDetectorGraphOptions())&&p.FaceDetectorGraphOptions.toObject(u,g),faceLandmarksDetectorGraphOptions:(g=c.getFaceLandmarksDetectorGraphOptions())&&l.FaceLandmarksDetectorGraphOptions.toObject(u,g),minTrackingConfidence:e.Message.getFloatingPointFieldWithDefault(c,4,.5),faceGeometryGraphOptions:(g=c.getFaceGeometryGraphOptions())&&d.FaceGeometryGraphOptions.toObject(u,g)};return u&&(f.$jspbMessageInstance=c),f}),proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.deserializeBinary=function(u){var c=new e.BinaryReader(u),g=new proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions;return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.deserializeBinaryFromReader(g,c)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.deserializeBinaryFromReader=function(u,c){for(;c.nextField()&&!c.isEndGroup();)switch(c.getFieldNumber()){case 1:var g=new n.BaseOptions;c.readMessage(g,n.BaseOptions.deserializeBinaryFromReader),u.setBaseOptions(g);break;case 2:g=new p.FaceDetectorGraphOptions,c.readMessage(g,p.FaceDetectorGraphOptions.deserializeBinaryFromReader),u.setFaceDetectorGraphOptions(g);break;case 3:g=new l.FaceLandmarksDetectorGraphOptions,c.readMessage(g,l.FaceLandmarksDetectorGraphOptions.deserializeBinaryFromReader),u.setFaceLandmarksDetectorGraphOptions(g);break;case 4:g=c.readFloat(),u.setMinTrackingConfidence(g);break;case 5:g=new d.FaceGeometryGraphOptions,c.readMessage(g,d.FaceGeometryGraphOptions.deserializeBinaryFromReader),u.setFaceGeometryGraphOptions(g);break;default:c.skipField()}return u},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.serializeBinary=function(){var u=new e.BinaryWriter;return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.serializeBinaryToWriter(this,u),u.getResultBuffer()},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.serializeBinaryToWriter=function(u,c){var g=void 0;(g=u.getBaseOptions())!=null&&c.writeMessage(1,g,n.BaseOptions.serializeBinaryToWriter),(g=u.getFaceDetectorGraphOptions())!=null&&c.writeMessage(2,g,p.FaceDetectorGraphOptions.serializeBinaryToWriter),(g=u.getFaceLandmarksDetectorGraphOptions())!=null&&c.writeMessage(3,g,l.FaceLandmarksDetectorGraphOptions.serializeBinaryToWriter),(g=e.Message.getField(u,4))!=null&&c.writeFloat(4,g),(g=u.getFaceGeometryGraphOptions())!=null&&c.writeMessage(5,g,d.FaceGeometryGraphOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.ext=new e.ExtensionFieldInfo(508968150,{ext:0},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.toObject,0),i.CalculatorOptions.extensionsBinary[508968150]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.deserializeBinaryFromReader,!1),i.CalculatorOptions.extensions[508968150]=proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.ext,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,n.BaseOptions,1)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.setBaseOptions=function(u){return e.Message.setWrapperField(this,1,u)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.getFaceDetectorGraphOptions=function(){return e.Message.getWrapperField(this,p.FaceDetectorGraphOptions,2)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.setFaceDetectorGraphOptions=function(u){return e.Message.setWrapperField(this,2,u)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.clearFaceDetectorGraphOptions=function(){return this.setFaceDetectorGraphOptions(void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.hasFaceDetectorGraphOptions=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.getFaceLandmarksDetectorGraphOptions=function(){return e.Message.getWrapperField(this,l.FaceLandmarksDetectorGraphOptions,3)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.setFaceLandmarksDetectorGraphOptions=function(u){return e.Message.setWrapperField(this,3,u)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.clearFaceLandmarksDetectorGraphOptions=function(){return this.setFaceLandmarksDetectorGraphOptions(void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.hasFaceLandmarksDetectorGraphOptions=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.getMinTrackingConfidence=function(){return e.Message.getFloatingPointFieldWithDefault(this,4,.5)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.setMinTrackingConfidence=function(u){return e.Message.setField(this,4,u)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.clearMinTrackingConfidence=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.hasMinTrackingConfidence=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.getFaceGeometryGraphOptions=function(){return e.Message.getWrapperField(this,d.FaceGeometryGraphOptions,5)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.setFaceGeometryGraphOptions=function(u){return e.Message.setWrapperField(this,5,u)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.clearFaceGeometryGraphOptions=function(){return this.setFaceGeometryGraphOptions(void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.hasFaceGeometryGraphOptions=function(){return e.Message.getField(this,5)!=null},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.ext=new e.ExtensionFieldInfo(508968150,{ext:0},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.toObject,0),i.CalculatorOptions.extensionsBinary[508968150]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.deserializeBinaryFromReader,!1),i.CalculatorOptions.extensions[508968150]=proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.ext,r.object.extend(t,proto.mediapipe.tasks.vision.face_landmarker.proto)}(face_landmarker_graph_options_pb);var classifier_result={};Object.defineProperty(classifier_result,"__esModule",{value:!0}),classifier_result.convertFromClassificationResultProto=classifier_result.convertFromClassifications=void 0;const DEFAULT_INDEX$1=-1,DEFAULT_SCORE=0;function convertFromClassifications(t,e=DEFAULT_INDEX$1,r=""){return{categories:t.map(s=>{var o,i,n,p;return{index:(o=s.getIndex())!==null&&o!==void 0?o:DEFAULT_INDEX$1,score:(i=s.getScore())!==null&&i!==void 0?i:DEFAULT_SCORE,categoryName:(n=s.getLabel())!==null&&n!==void 0?n:"",displayName:(p=s.getDisplayName())!==null&&p!==void 0?p:""}}),headIndex:e,headName:r}}function convertFromClassificationsProto(t){var e,r;return convertFromClassifications((r=(e=t.getClassificationList())===null||e===void 0?void 0:e.getClassificationList())!==null&&r!==void 0?r:[],t.getHeadIndex(),t.getHeadName())}function convertFromClassificationResultProto(t){const e={classifications:t.getClassificationsList().map(r=>convertFromClassificationsProto(r))};return t.hasTimestampMs()&&(e.timestampMs=t.getTimestampMs()),e}classifier_result.convertFromClassifications=convertFromClassifications,classifier_result.convertFromClassificationResultProto=convertFromClassificationResultProto;var landmark_result={};function convertToLandmarks(t){var e,r,s;const o=[];for(const i of t.getLandmarkList())o.push({x:(e=i.getX())!==null&&e!==void 0?e:0,y:(r=i.getY())!==null&&r!==void 0?r:0,z:(s=i.getZ())!==null&&s!==void 0?s:0});return o}function convertToWorldLandmarks(t){var e,r,s;const o=[];for(const i of t.getLandmarkList())o.push({x:(e=i.getX())!==null&&e!==void 0?e:0,y:(r=i.getY())!==null&&r!==void 0?r:0,z:(s=i.getZ())!==null&&s!==void 0?s:0});return o}Object.defineProperty(landmark_result,"__esModule",{value:!0}),landmark_result.convertToWorldLandmarks=landmark_result.convertToLandmarks=void 0,landmark_result.convertToLandmarks=convertToLandmarks,landmark_result.convertToWorldLandmarks=convertToWorldLandmarks;var face_landmarks_connections={},exports;exports=face_landmarks_connections,Object.defineProperty(exports,"__esModule",{value:!0}),exports.FACE_LANDMARKS_TESSELATION=exports.FACE_LANDMARKS_CONTOURS=exports.FACE_LANDMARKS_FACE_OVAL=exports.FACE_LANDMARKS_RIGHT_IRIS=exports.FACE_LANDMARKS_RIGHT_EYEBROW=exports.FACE_LANDMARKS_RIGHT_EYE=exports.FACE_LANDMARKS_LEFT_IRIS=exports.FACE_LANDMARKS_LEFT_EYEBROW=exports.FACE_LANDMARKS_LEFT_EYE=exports.FACE_LANDMARKS_LIPS=void 0,exports.FACE_LANDMARKS_LIPS=[{start:61,end:146},{start:146,end:91},{start:91,end:181},{start:181,end:84},{start:84,end:17},{start:17,end:314},{start:314,end:405},{start:405,end:321},{start:321,end:375},{start:375,end:291},{start:61,end:185},{start:185,end:40},{start:40,end:39},{start:39,end:37},{start:37,end:0},{start:0,end:267},{start:267,end:269},{start:269,end:270},{start:270,end:409},{start:409,end:291},{start:78,end:95},{start:95,end:88},{start:88,end:178},{start:178,end:87},{start:87,end:14},{start:14,end:317},{start:317,end:402},{start:402,end:318},{start:318,end:324},{start:324,end:308},{start:78,end:191},{start:191,end:80},{start:80,end:81},{start:81,end:82},{start:82,end:13},{start:13,end:312},{start:312,end:311},{start:311,end:310},{start:310,end:415},{start:415,end:308}],exports.FACE_LANDMARKS_LEFT_EYE=[{start:263,end:249},{start:249,end:390},{start:390,end:373},{start:373,end:374},{start:374,end:380},{start:380,end:381},{start:381,end:382},{start:382,end:362},{start:263,end:466},{start:466,end:388},{start:388,end:387},{start:387,end:386},{start:386,end:385},{start:385,end:384},{start:384,end:398},{start:398,end:362}],exports.FACE_LANDMARKS_LEFT_EYEBROW=[{start:276,end:283},{start:283,end:282},{start:282,end:295},{start:295,end:285},{start:300,end:293},{start:293,end:334},{start:334,end:296},{start:296,end:336}],exports.FACE_LANDMARKS_LEFT_IRIS=[{start:474,end:475},{start:475,end:476},{start:476,end:477},{start:477,end:474}],exports.FACE_LANDMARKS_RIGHT_EYE=[{start:33,end:7},{start:7,end:163},{start:163,end:144},{start:144,end:145},{start:145,end:153},{start:153,end:154},{start:154,end:155},{start:155,end:133},{start:33,end:246},{start:246,end:161},{start:161,end:160},{start:160,end:159},{start:159,end:158},{start:158,end:157},{start:157,end:173},{start:173,end:133}],exports.FACE_LANDMARKS_RIGHT_EYEBROW=[{start:46,end:53},{start:53,end:52},{start:52,end:65},{start:65,end:55},{start:70,end:63},{start:63,end:105},{start:105,end:66},{start:66,end:107}],exports.FACE_LANDMARKS_RIGHT_IRIS=[{start:469,end:470},{start:470,end:471},{start:471,end:472},{start:472,end:469}],exports.FACE_LANDMARKS_FACE_OVAL=[{start:10,end:338},{start:338,end:297},{start:297,end:332},{start:332,end:284},{start:284,end:251},{start:251,end:389},{start:389,end:356},{start:356,end:454},{start:454,end:323},{start:323,end:361},{start:361,end:288},{start:288,end:397},{start:397,end:365},{start:365,end:379},{start:379,end:378},{start:378,end:400},{start:400,end:377},{start:377,end:152},{start:152,end:148},{start:148,end:176},{start:176,end:149},{start:149,end:150},{start:150,end:136},{start:136,end:172},{start:172,end:58},{start:58,end:132},{start:132,end:93},{start:93,end:234},{start:234,end:127},{start:127,end:162},{start:162,end:21},{start:21,end:54},{start:54,end:103},{start:103,end:67},{start:67,end:109},{start:109,end:10}],exports.FACE_LANDMARKS_CONTOURS=[...exports.FACE_LANDMARKS_LIPS,...exports.FACE_LANDMARKS_LEFT_EYE,...exports.FACE_LANDMARKS_LEFT_EYEBROW,...exports.FACE_LANDMARKS_RIGHT_EYE,...exports.FACE_LANDMARKS_RIGHT_EYEBROW,...exports.FACE_LANDMARKS_FACE_OVAL],exports.FACE_LANDMARKS_TESSELATION=[{start:127,end:34},{start:34,end:139},{start:139,end:127},{start:11,end:0},{start:0,end:37},{start:37,end:11},{start:232,end:231},{start:231,end:120},{start:120,end:232},{start:72,end:37},{start:37,end:39},{start:39,end:72},{start:128,end:121},{start:121,end:47},{start:47,end:128},{start:232,end:121},{start:121,end:128},{start:128,end:232},{start:104,end:69},{start:69,end:67},{start:67,end:104},{start:175,end:171},{start:171,end:148},{start:148,end:175},{start:118,end:50},{start:50,end:101},{start:101,end:118},{start:73,end:39},{start:39,end:40},{start:40,end:73},{start:9,end:151},{start:151,end:108},{start:108,end:9},{start:48,end:115},{start:115,end:131},{start:131,end:48},{start:194,end:204},{start:204,end:211},{start:211,end:194},{start:74,end:40},{start:40,end:185},{start:185,end:74},{start:80,end:42},{start:42,end:183},{start:183,end:80},{start:40,end:92},{start:92,end:186},{start:186,end:40},{start:230,end:229},{start:229,end:118},{start:118,end:230},{start:202,end:212},{start:212,end:214},{start:214,end:202},{start:83,end:18},{start:18,end:17},{start:17,end:83},{start:76,end:61},{start:61,end:146},{start:146,end:76},{start:160,end:29},{start:29,end:30},{start:30,end:160},{start:56,end:157},{start:157,end:173},{start:173,end:56},{start:106,end:204},{start:204,end:194},{start:194,end:106},{start:135,end:214},{start:214,end:192},{start:192,end:135},{start:203,end:165},{start:165,end:98},{start:98,end:203},{start:21,end:71},{start:71,end:68},{start:68,end:21},{start:51,end:45},{start:45,end:4},{start:4,end:51},{start:144,end:24},{start:24,end:23},{start:23,end:144},{start:77,end:146},{start:146,end:91},{start:91,end:77},{start:205,end:50},{start:50,end:187},{start:187,end:205},{start:201,end:200},{start:200,end:18},{start:18,end:201},{start:91,end:106},{start:106,end:182},{start:182,end:91},{start:90,end:91},{start:91,end:181},{start:181,end:90},{start:85,end:84},{start:84,end:17},{start:17,end:85},{start:206,end:203},{start:203,end:36},{start:36,end:206},{start:148,end:171},{start:171,end:140},{start:140,end:148},{start:92,end:40},{start:40,end:39},{start:39,end:92},{start:193,end:189},{start:189,end:244},{start:244,end:193},{start:159,end:158},{start:158,end:28},{start:28,end:159},{start:247,end:246},{start:246,end:161},{start:161,end:247},{start:236,end:3},{start:3,end:196},{start:196,end:236},{start:54,end:68},{start:68,end:104},{start:104,end:54},{start:193,end:168},{start:168,end:8},{start:8,end:193},{start:117,end:228},{start:228,end:31},{start:31,end:117},{start:189,end:193},{start:193,end:55},{start:55,end:189},{start:98,end:97},{start:97,end:99},{start:99,end:98},{start:126,end:47},{start:47,end:100},{start:100,end:126},{start:166,end:79},{start:79,end:218},{start:218,end:166},{start:155,end:154},{start:154,end:26},{start:26,end:155},{start:209,end:49},{start:49,end:131},{start:131,end:209},{start:135,end:136},{start:136,end:150},{start:150,end:135},{start:47,end:126},{start:126,end:217},{start:217,end:47},{start:223,end:52},{start:52,end:53},{start:53,end:223},{start:45,end:51},{start:51,end:134},{start:134,end:45},{start:211,end:170},{start:170,end:140},{start:140,end:211},{start:67,end:69},{start:69,end:108},{start:108,end:67},{start:43,end:106},{start:106,end:91},{start:91,end:43},{start:230,end:119},{start:119,end:120},{start:120,end:230},{start:226,end:130},{start:130,end:247},{start:247,end:226},{start:63,end:53},{start:53,end:52},{start:52,end:63},{start:238,end:20},{start:20,end:242},{start:242,end:238},{start:46,end:70},{start:70,end:156},{start:156,end:46},{start:78,end:62},{start:62,end:96},{start:96,end:78},{start:46,end:53},{start:53,end:63},{start:63,end:46},{start:143,end:34},{start:34,end:227},{start:227,end:143},{start:123,end:117},{start:117,end:111},{start:111,end:123},{start:44,end:125},{start:125,end:19},{start:19,end:44},{start:236,end:134},{start:134,end:51},{start:51,end:236},{start:216,end:206},{start:206,end:205},{start:205,end:216},{start:154,end:153},{start:153,end:22},{start:22,end:154},{start:39,end:37},{start:37,end:167},{start:167,end:39},{start:200,end:201},{start:201,end:208},{start:208,end:200},{start:36,end:142},{start:142,end:100},{start:100,end:36},{start:57,end:212},{start:212,end:202},{start:202,end:57},{start:20,end:60},{start:60,end:99},{start:99,end:20},{start:28,end:158},{start:158,end:157},{start:157,end:28},{start:35,end:226},{start:226,end:113},{start:113,end:35},{start:160,end:159},{start:159,end:27},{start:27,end:160},{start:204,end:202},{start:202,end:210},{start:210,end:204},{start:113,end:225},{start:225,end:46},{start:46,end:113},{start:43,end:202},{start:202,end:204},{start:204,end:43},{start:62,end:76},{start:76,end:77},{start:77,end:62},{start:137,end:123},{start:123,end:116},{start:116,end:137},{start:41,end:38},{start:38,end:72},{start:72,end:41},{start:203,end:129},{start:129,end:142},{start:142,end:203},{start:64,end:98},{start:98,end:240},{start:240,end:64},{start:49,end:102},{start:102,end:64},{start:64,end:49},{start:41,end:73},{start:73,end:74},{start:74,end:41},{start:212,end:216},{start:216,end:207},{start:207,end:212},{start:42,end:74},{start:74,end:184},{start:184,end:42},{start:169,end:170},{start:170,end:211},{start:211,end:169},{start:170,end:149},{start:149,end:176},{start:176,end:170},{start:105,end:66},{start:66,end:69},{start:69,end:105},{start:122,end:6},{start:6,end:168},{start:168,end:122},{start:123,end:147},{start:147,end:187},{start:187,end:123},{start:96,end:77},{start:77,end:90},{start:90,end:96},{start:65,end:55},{start:55,end:107},{start:107,end:65},{start:89,end:90},{start:90,end:180},{start:180,end:89},{start:101,end:100},{start:100,end:120},{start:120,end:101},{start:63,end:105},{start:105,end:104},{start:104,end:63},{start:93,end:137},{start:137,end:227},{start:227,end:93},{start:15,end:86},{start:86,end:85},{start:85,end:15},{start:129,end:102},{start:102,end:49},{start:49,end:129},{start:14,end:87},{start:87,end:86},{start:86,end:14},{start:55,end:8},{start:8,end:9},{start:9,end:55},{start:100,end:47},{start:47,end:121},{start:121,end:100},{start:145,end:23},{start:23,end:22},{start:22,end:145},{start:88,end:89},{start:89,end:179},{start:179,end:88},{start:6,end:122},{start:122,end:196},{start:196,end:6},{start:88,end:95},{start:95,end:96},{start:96,end:88},{start:138,end:172},{start:172,end:136},{start:136,end:138},{start:215,end:58},{start:58,end:172},{start:172,end:215},{start:115,end:48},{start:48,end:219},{start:219,end:115},{start:42,end:80},{start:80,end:81},{start:81,end:42},{start:195,end:3},{start:3,end:51},{start:51,end:195},{start:43,end:146},{start:146,end:61},{start:61,end:43},{start:171,end:175},{start:175,end:199},{start:199,end:171},{start:81,end:82},{start:82,end:38},{start:38,end:81},{start:53,end:46},{start:46,end:225},{start:225,end:53},{start:144,end:163},{start:163,end:110},{start:110,end:144},{start:52,end:65},{start:65,end:66},{start:66,end:52},{start:229,end:228},{start:228,end:117},{start:117,end:229},{start:34,end:127},{start:127,end:234},{start:234,end:34},{start:107,end:108},{start:108,end:69},{start:69,end:107},{start:109,end:108},{start:108,end:151},{start:151,end:109},{start:48,end:64},{start:64,end:235},{start:235,end:48},{start:62,end:78},{start:78,end:191},{start:191,end:62},{start:129,end:209},{start:209,end:126},{start:126,end:129},{start:111,end:35},{start:35,end:143},{start:143,end:111},{start:117,end:123},{start:123,end:50},{start:50,end:117},{start:222,end:65},{start:65,end:52},{start:52,end:222},{start:19,end:125},{start:125,end:141},{start:141,end:19},{start:221,end:55},{start:55,end:65},{start:65,end:221},{start:3,end:195},{start:195,end:197},{start:197,end:3},{start:25,end:7},{start:7,end:33},{start:33,end:25},{start:220,end:237},{start:237,end:44},{start:44,end:220},{start:70,end:71},{start:71,end:139},{start:139,end:70},{start:122,end:193},{start:193,end:245},{start:245,end:122},{start:247,end:130},{start:130,end:33},{start:33,end:247},{start:71,end:21},{start:21,end:162},{start:162,end:71},{start:170,end:169},{start:169,end:150},{start:150,end:170},{start:188,end:174},{start:174,end:196},{start:196,end:188},{start:216,end:186},{start:186,end:92},{start:92,end:216},{start:2,end:97},{start:97,end:167},{start:167,end:2},{start:141,end:125},{start:125,end:241},{start:241,end:141},{start:164,end:167},{start:167,end:37},{start:37,end:164},{start:72,end:38},{start:38,end:12},{start:12,end:72},{start:38,end:82},{start:82,end:13},{start:13,end:38},{start:63,end:68},{start:68,end:71},{start:71,end:63},{start:226,end:35},{start:35,end:111},{start:111,end:226},{start:101,end:50},{start:50,end:205},{start:205,end:101},{start:206,end:92},{start:92,end:165},{start:165,end:206},{start:209,end:198},{start:198,end:217},{start:217,end:209},{start:165,end:167},{start:167,end:97},{start:97,end:165},{start:220,end:115},{start:115,end:218},{start:218,end:220},{start:133,end:112},{start:112,end:243},{start:243,end:133},{start:239,end:238},{start:238,end:241},{start:241,end:239},{start:214,end:135},{start:135,end:169},{start:169,end:214},{start:190,end:173},{start:173,end:133},{start:133,end:190},{start:171,end:208},{start:208,end:32},{start:32,end:171},{start:125,end:44},{start:44,end:237},{start:237,end:125},{start:86,end:87},{start:87,end:178},{start:178,end:86},{start:85,end:86},{start:86,end:179},{start:179,end:85},{start:84,end:85},{start:85,end:180},{start:180,end:84},{start:83,end:84},{start:84,end:181},{start:181,end:83},{start:201,end:83},{start:83,end:182},{start:182,end:201},{start:137,end:93},{start:93,end:132},{start:132,end:137},{start:76,end:62},{start:62,end:183},{start:183,end:76},{start:61,end:76},{start:76,end:184},{start:184,end:61},{start:57,end:61},{start:61,end:185},{start:185,end:57},{start:212,end:57},{start:57,end:186},{start:186,end:212},{start:214,end:207},{start:207,end:187},{start:187,end:214},{start:34,end:143},{start:143,end:156},{start:156,end:34},{start:79,end:239},{start:239,end:237},{start:237,end:79},{start:123,end:137},{start:137,end:177},{start:177,end:123},{start:44,end:1},{start:1,end:4},{start:4,end:44},{start:201,end:194},{start:194,end:32},{start:32,end:201},{start:64,end:102},{start:102,end:129},{start:129,end:64},{start:213,end:215},{start:215,end:138},{start:138,end:213},{start:59,end:166},{start:166,end:219},{start:219,end:59},{start:242,end:99},{start:99,end:97},{start:97,end:242},{start:2,end:94},{start:94,end:141},{start:141,end:2},{start:75,end:59},{start:59,end:235},{start:235,end:75},{start:24,end:110},{start:110,end:228},{start:228,end:24},{start:25,end:130},{start:130,end:226},{start:226,end:25},{start:23,end:24},{start:24,end:229},{start:229,end:23},{start:22,end:23},{start:23,end:230},{start:230,end:22},{start:26,end:22},{start:22,end:231},{start:231,end:26},{start:112,end:26},{start:26,end:232},{start:232,end:112},{start:189,end:190},{start:190,end:243},{start:243,end:189},{start:221,end:56},{start:56,end:190},{start:190,end:221},{start:28,end:56},{start:56,end:221},{start:221,end:28},{start:27,end:28},{start:28,end:222},{start:222,end:27},{start:29,end:27},{start:27,end:223},{start:223,end:29},{start:30,end:29},{start:29,end:224},{start:224,end:30},{start:247,end:30},{start:30,end:225},{start:225,end:247},{start:238,end:79},{start:79,end:20},{start:20,end:238},{start:166,end:59},{start:59,end:75},{start:75,end:166},{start:60,end:75},{start:75,end:240},{start:240,end:60},{start:147,end:177},{start:177,end:215},{start:215,end:147},{start:20,end:79},{start:79,end:166},{start:166,end:20},{start:187,end:147},{start:147,end:213},{start:213,end:187},{start:112,end:233},{start:233,end:244},{start:244,end:112},{start:233,end:128},{start:128,end:245},{start:245,end:233},{start:128,end:114},{start:114,end:188},{start:188,end:128},{start:114,end:217},{start:217,end:174},{start:174,end:114},{start:131,end:115},{start:115,end:220},{start:220,end:131},{start:217,end:198},{start:198,end:236},{start:236,end:217},{start:198,end:131},{start:131,end:134},{start:134,end:198},{start:177,end:132},{start:132,end:58},{start:58,end:177},{start:143,end:35},{start:35,end:124},{start:124,end:143},{start:110,end:163},{start:163,end:7},{start:7,end:110},{start:228,end:110},{start:110,end:25},{start:25,end:228},{start:356,end:389},{start:389,end:368},{start:368,end:356},{start:11,end:302},{start:302,end:267},{start:267,end:11},{start:452,end:350},{start:350,end:349},{start:349,end:452},{start:302,end:303},{start:303,end:269},{start:269,end:302},{start:357,end:343},{start:343,end:277},{start:277,end:357},{start:452,end:453},{start:453,end:357},{start:357,end:452},{start:333,end:332},{start:332,end:297},{start:297,end:333},{start:175,end:152},{start:152,end:377},{start:377,end:175},{start:347,end:348},{start:348,end:330},{start:330,end:347},{start:303,end:304},{start:304,end:270},{start:270,end:303},{start:9,end:336},{start:336,end:337},{start:337,end:9},{start:278,end:279},{start:279,end:360},{start:360,end:278},{start:418,end:262},{start:262,end:431},{start:431,end:418},{start:304,end:408},{start:408,end:409},{start:409,end:304},{start:310,end:415},{start:415,end:407},{start:407,end:310},{start:270,end:409},{start:409,end:410},{start:410,end:270},{start:450,end:348},{start:348,end:347},{start:347,end:450},{start:422,end:430},{start:430,end:434},{start:434,end:422},{start:313,end:314},{start:314,end:17},{start:17,end:313},{start:306,end:307},{start:307,end:375},{start:375,end:306},{start:387,end:388},{start:388,end:260},{start:260,end:387},{start:286,end:414},{start:414,end:398},{start:398,end:286},{start:335,end:406},{start:406,end:418},{start:418,end:335},{start:364,end:367},{start:367,end:416},{start:416,end:364},{start:423,end:358},{start:358,end:327},{start:327,end:423},{start:251,end:284},{start:284,end:298},{start:298,end:251},{start:281,end:5},{start:5,end:4},{start:4,end:281},{start:373,end:374},{start:374,end:253},{start:253,end:373},{start:307,end:320},{start:320,end:321},{start:321,end:307},{start:425,end:427},{start:427,end:411},{start:411,end:425},{start:421,end:313},{start:313,end:18},{start:18,end:421},{start:321,end:405},{start:405,end:406},{start:406,end:321},{start:320,end:404},{start:404,end:405},{start:405,end:320},{start:315,end:16},{start:16,end:17},{start:17,end:315},{start:426,end:425},{start:425,end:266},{start:266,end:426},{start:377,end:400},{start:400,end:369},{start:369,end:377},{start:322,end:391},{start:391,end:269},{start:269,end:322},{start:417,end:465},{start:465,end:464},{start:464,end:417},{start:386,end:257},{start:257,end:258},{start:258,end:386},{start:466,end:260},{start:260,end:388},{start:388,end:466},{start:456,end:399},{start:399,end:419},{start:419,end:456},{start:284,end:332},{start:332,end:333},{start:333,end:284},{start:417,end:285},{start:285,end:8},{start:8,end:417},{start:346,end:340},{start:340,end:261},{start:261,end:346},{start:413,end:441},{start:441,end:285},{start:285,end:413},{start:327,end:460},{start:460,end:328},{start:328,end:327},{start:355,end:371},{start:371,end:329},{start:329,end:355},{start:392,end:439},{start:439,end:438},{start:438,end:392},{start:382,end:341},{start:341,end:256},{start:256,end:382},{start:429,end:420},{start:420,end:360},{start:360,end:429},{start:364,end:394},{start:394,end:379},{start:379,end:364},{start:277,end:343},{start:343,end:437},{start:437,end:277},{start:443,end:444},{start:444,end:283},{start:283,end:443},{start:275,end:440},{start:440,end:363},{start:363,end:275},{start:431,end:262},{start:262,end:369},{start:369,end:431},{start:297,end:338},{start:338,end:337},{start:337,end:297},{start:273,end:375},{start:375,end:321},{start:321,end:273},{start:450,end:451},{start:451,end:349},{start:349,end:450},{start:446,end:342},{start:342,end:467},{start:467,end:446},{start:293,end:334},{start:334,end:282},{start:282,end:293},{start:458,end:461},{start:461,end:462},{start:462,end:458},{start:276,end:353},{start:353,end:383},{start:383,end:276},{start:308,end:324},{start:324,end:325},{start:325,end:308},{start:276,end:300},{start:300,end:293},{start:293,end:276},{start:372,end:345},{start:345,end:447},{start:447,end:372},{start:352,end:345},{start:345,end:340},{start:340,end:352},{start:274,end:1},{start:1,end:19},{start:19,end:274},{start:456,end:248},{start:248,end:281},{start:281,end:456},{start:436,end:427},{start:427,end:425},{start:425,end:436},{start:381,end:256},{start:256,end:252},{start:252,end:381},{start:269,end:391},{start:391,end:393},{start:393,end:269},{start:200,end:199},{start:199,end:428},{start:428,end:200},{start:266,end:330},{start:330,end:329},{start:329,end:266},{start:287,end:273},{start:273,end:422},{start:422,end:287},{start:250,end:462},{start:462,end:328},{start:328,end:250},{start:258,end:286},{start:286,end:384},{start:384,end:258},{start:265,end:353},{start:353,end:342},{start:342,end:265},{start:387,end:259},{start:259,end:257},{start:257,end:387},{start:424,end:431},{start:431,end:430},{start:430,end:424},{start:342,end:353},{start:353,end:276},{start:276,end:342},{start:273,end:335},{start:335,end:424},{start:424,end:273},{start:292,end:325},{start:325,end:307},{start:307,end:292},{start:366,end:447},{start:447,end:345},{start:345,end:366},{start:271,end:303},{start:303,end:302},{start:302,end:271},{start:423,end:266},{start:266,end:371},{start:371,end:423},{start:294,end:455},{start:455,end:460},{start:460,end:294},{start:279,end:278},{start:278,end:294},{start:294,end:279},{start:271,end:272},{start:272,end:304},{start:304,end:271},{start:432,end:434},{start:434,end:427},{start:427,end:432},{start:272,end:407},{start:407,end:408},{start:408,end:272},{start:394,end:430},{start:430,end:431},{start:431,end:394},{start:395,end:369},{start:369,end:400},{start:400,end:395},{start:334,end:333},{start:333,end:299},{start:299,end:334},{start:351,end:417},{start:417,end:168},{start:168,end:351},{start:352,end:280},{start:280,end:411},{start:411,end:352},{start:325,end:319},{start:319,end:320},{start:320,end:325},{start:295,end:296},{start:296,end:336},{start:336,end:295},{start:319,end:403},{start:403,end:404},{start:404,end:319},{start:330,end:348},{start:348,end:349},{start:349,end:330},{start:293,end:298},{start:298,end:333},{start:333,end:293},{start:323,end:454},{start:454,end:447},{start:447,end:323},{start:15,end:16},{start:16,end:315},{start:315,end:15},{start:358,end:429},{start:429,end:279},{start:279,end:358},{start:14,end:15},{start:15,end:316},{start:316,end:14},{start:285,end:336},{start:336,end:9},{start:9,end:285},{start:329,end:349},{start:349,end:350},{start:350,end:329},{start:374,end:380},{start:380,end:252},{start:252,end:374},{start:318,end:402},{start:402,end:403},{start:403,end:318},{start:6,end:197},{start:197,end:419},{start:419,end:6},{start:318,end:319},{start:319,end:325},{start:325,end:318},{start:367,end:364},{start:364,end:365},{start:365,end:367},{start:435,end:367},{start:367,end:397},{start:397,end:435},{start:344,end:438},{start:438,end:439},{start:439,end:344},{start:272,end:271},{start:271,end:311},{start:311,end:272},{start:195,end:5},{start:5,end:281},{start:281,end:195},{start:273,end:287},{start:287,end:291},{start:291,end:273},{start:396,end:428},{start:428,end:199},{start:199,end:396},{start:311,end:271},{start:271,end:268},{start:268,end:311},{start:283,end:444},{start:444,end:445},{start:445,end:283},{start:373,end:254},{start:254,end:339},{start:339,end:373},{start:282,end:334},{start:334,end:296},{start:296,end:282},{start:449,end:347},{start:347,end:346},{start:346,end:449},{start:264,end:447},{start:447,end:454},{start:454,end:264},{start:336,end:296},{start:296,end:299},{start:299,end:336},{start:338,end:10},{start:10,end:151},{start:151,end:338},{start:278,end:439},{start:439,end:455},{start:455,end:278},{start:292,end:407},{start:407,end:415},{start:415,end:292},{start:358,end:371},{start:371,end:355},{start:355,end:358},{start:340,end:345},{start:345,end:372},{start:372,end:340},{start:346,end:347},{start:347,end:280},{start:280,end:346},{start:442,end:443},{start:443,end:282},{start:282,end:442},{start:19,end:94},{start:94,end:370},{start:370,end:19},{start:441,end:442},{start:442,end:295},{start:295,end:441},{start:248,end:419},{start:419,end:197},{start:197,end:248},{start:263,end:255},{start:255,end:359},{start:359,end:263},{start:440,end:275},{start:275,end:274},{start:274,end:440},{start:300,end:383},{start:383,end:368},{start:368,end:300},{start:351,end:412},{start:412,end:465},{start:465,end:351},{start:263,end:467},{start:467,end:466},{start:466,end:263},{start:301,end:368},{start:368,end:389},{start:389,end:301},{start:395,end:378},{start:378,end:379},{start:379,end:395},{start:412,end:351},{start:351,end:419},{start:419,end:412},{start:436,end:426},{start:426,end:322},{start:322,end:436},{start:2,end:164},{start:164,end:393},{start:393,end:2},{start:370,end:462},{start:462,end:461},{start:461,end:370},{start:164,end:0},{start:0,end:267},{start:267,end:164},{start:302,end:11},{start:11,end:12},{start:12,end:302},{start:268,end:12},{start:12,end:13},{start:13,end:268},{start:293,end:300},{start:300,end:301},{start:301,end:293},{start:446,end:261},{start:261,end:340},{start:340,end:446},{start:330,end:266},{start:266,end:425},{start:425,end:330},{start:426,end:423},{start:423,end:391},{start:391,end:426},{start:429,end:355},{start:355,end:437},{start:437,end:429},{start:391,end:327},{start:327,end:326},{start:326,end:391},{start:440,end:457},{start:457,end:438},{start:438,end:440},{start:341,end:382},{start:382,end:362},{start:362,end:341},{start:459,end:457},{start:457,end:461},{start:461,end:459},{start:434,end:430},{start:430,end:394},{start:394,end:434},{start:414,end:463},{start:463,end:362},{start:362,end:414},{start:396,end:369},{start:369,end:262},{start:262,end:396},{start:354,end:461},{start:461,end:457},{start:457,end:354},{start:316,end:403},{start:403,end:402},{start:402,end:316},{start:315,end:404},{start:404,end:403},{start:403,end:315},{start:314,end:405},{start:405,end:404},{start:404,end:314},{start:313,end:406},{start:406,end:405},{start:405,end:313},{start:421,end:418},{start:418,end:406},{start:406,end:421},{start:366,end:401},{start:401,end:361},{start:361,end:366},{start:306,end:408},{start:408,end:407},{start:407,end:306},{start:291,end:409},{start:409,end:408},{start:408,end:291},{start:287,end:410},{start:410,end:409},{start:409,end:287},{start:432,end:436},{start:436,end:410},{start:410,end:432},{start:434,end:416},{start:416,end:411},{start:411,end:434},{start:264,end:368},{start:368,end:383},{start:383,end:264},{start:309,end:438},{start:438,end:457},{start:457,end:309},{start:352,end:376},{start:376,end:401},{start:401,end:352},{start:274,end:275},{start:275,end:4},{start:4,end:274},{start:421,end:428},{start:428,end:262},{start:262,end:421},{start:294,end:327},{start:327,end:358},{start:358,end:294},{start:433,end:416},{start:416,end:367},{start:367,end:433},{start:289,end:455},{start:455,end:439},{start:439,end:289},{start:462,end:370},{start:370,end:326},{start:326,end:462},{start:2,end:326},{start:326,end:370},{start:370,end:2},{start:305,end:460},{start:460,end:455},{start:455,end:305},{start:254,end:449},{start:449,end:448},{start:448,end:254},{start:255,end:261},{start:261,end:446},{start:446,end:255},{start:253,end:450},{start:450,end:449},{start:449,end:253},{start:252,end:451},{start:451,end:450},{start:450,end:252},{start:256,end:452},{start:452,end:451},{start:451,end:256},{start:341,end:453},{start:453,end:452},{start:452,end:341},{start:413,end:464},{start:464,end:463},{start:463,end:413},{start:441,end:413},{start:413,end:414},{start:414,end:441},{start:258,end:442},{start:442,end:441},{start:441,end:258},{start:257,end:443},{start:443,end:442},{start:442,end:257},{start:259,end:444},{start:444,end:443},{start:443,end:259},{start:260,end:445},{start:445,end:444},{start:444,end:260},{start:467,end:342},{start:342,end:445},{start:445,end:467},{start:459,end:458},{start:458,end:250},{start:250,end:459},{start:289,end:392},{start:392,end:290},{start:290,end:289},{start:290,end:328},{start:328,end:460},{start:460,end:290},{start:376,end:433},{start:433,end:435},{start:435,end:376},{start:250,end:290},{start:290,end:392},{start:392,end:250},{start:411,end:416},{start:416,end:433},{start:433,end:411},{start:341,end:463},{start:463,end:464},{start:464,end:341},{start:453,end:464},{start:464,end:465},{start:465,end:453},{start:357,end:465},{start:465,end:412},{start:412,end:357},{start:343,end:412},{start:412,end:399},{start:399,end:343},{start:360,end:363},{start:363,end:440},{start:440,end:360},{start:437,end:399},{start:399,end:456},{start:456,end:437},{start:420,end:456},{start:456,end:363},{start:363,end:420},{start:401,end:435},{start:435,end:288},{start:288,end:401},{start:372,end:383},{start:383,end:353},{start:353,end:372},{start:339,end:255},{start:255,end:249},{start:249,end:339},{start:448,end:261},{start:261,end:255},{start:255,end:448},{start:133,end:243},{start:243,end:190},{start:190,end:133},{start:133,end:155},{start:155,end:112},{start:112,end:133},{start:33,end:246},{start:246,end:247},{start:247,end:33},{start:33,end:130},{start:130,end:25},{start:25,end:33},{start:398,end:384},{start:384,end:286},{start:286,end:398},{start:362,end:398},{start:398,end:414},{start:414,end:362},{start:362,end:463},{start:463,end:341},{start:341,end:362},{start:263,end:359},{start:359,end:467},{start:467,end:263},{start:263,end:249},{start:249,end:255},{start:255,end:263},{start:466,end:467},{start:467,end:260},{start:260,end:466},{start:75,end:60},{start:60,end:166},{start:166,end:75},{start:238,end:239},{start:239,end:79},{start:79,end:238},{start:162,end:127},{start:127,end:139},{start:139,end:162},{start:72,end:11},{start:11,end:37},{start:37,end:72},{start:121,end:232},{start:232,end:120},{start:120,end:121},{start:73,end:72},{start:72,end:39},{start:39,end:73},{start:114,end:128},{start:128,end:47},{start:47,end:114},{start:233,end:232},{start:232,end:128},{start:128,end:233},{start:103,end:104},{start:104,end:67},{start:67,end:103},{start:152,end:175},{start:175,end:148},{start:148,end:152},{start:119,end:118},{start:118,end:101},{start:101,end:119},{start:74,end:73},{start:73,end:40},{start:40,end:74},{start:107,end:9},{start:9,end:108},{start:108,end:107},{start:49,end:48},{start:48,end:131},{start:131,end:49},{start:32,end:194},{start:194,end:211},{start:211,end:32},{start:184,end:74},{start:74,end:185},{start:185,end:184},{start:191,end:80},{start:80,end:183},{start:183,end:191},{start:185,end:40},{start:40,end:186},{start:186,end:185},{start:119,end:230},{start:230,end:118},{start:118,end:119},{start:210,end:202},{start:202,end:214},{start:214,end:210},{start:84,end:83},{start:83,end:17},{start:17,end:84},{start:77,end:76},{start:76,end:146},{start:146,end:77},{start:161,end:160},{start:160,end:30},{start:30,end:161},{start:190,end:56},{start:56,end:173},{start:173,end:190},{start:182,end:106},{start:106,end:194},{start:194,end:182},{start:138,end:135},{start:135,end:192},{start:192,end:138},{start:129,end:203},{start:203,end:98},{start:98,end:129},{start:54,end:21},{start:21,end:68},{start:68,end:54},{start:5,end:51},{start:51,end:4},{start:4,end:5},{start:145,end:144},{start:144,end:23},{start:23,end:145},{start:90,end:77},{start:77,end:91},{start:91,end:90},{start:207,end:205},{start:205,end:187},{start:187,end:207},{start:83,end:201},{start:201,end:18},{start:18,end:83},{start:181,end:91},{start:91,end:182},{start:182,end:181},{start:180,end:90},{start:90,end:181},{start:181,end:180},{start:16,end:85},{start:85,end:17},{start:17,end:16},{start:205,end:206},{start:206,end:36},{start:36,end:205},{start:176,end:148},{start:148,end:140},{start:140,end:176},{start:165,end:92},{start:92,end:39},{start:39,end:165},{start:245,end:193},{start:193,end:244},{start:244,end:245},{start:27,end:159},{start:159,end:28},{start:28,end:27},{start:30,end:247},{start:247,end:161},{start:161,end:30},{start:174,end:236},{start:236,end:196},{start:196,end:174},{start:103,end:54},{start:54,end:104},{start:104,end:103},{start:55,end:193},{start:193,end:8},{start:8,end:55},{start:111,end:117},{start:117,end:31},{start:31,end:111},{start:221,end:189},{start:189,end:55},{start:55,end:221},{start:240,end:98},{start:98,end:99},{start:99,end:240},{start:142,end:126},{start:126,end:100},{start:100,end:142},{start:219,end:166},{start:166,end:218},{start:218,end:219},{start:112,end:155},{start:155,end:26},{start:26,end:112},{start:198,end:209},{start:209,end:131},{start:131,end:198},{start:169,end:135},{start:135,end:150},{start:150,end:169},{start:114,end:47},{start:47,end:217},{start:217,end:114},{start:224,end:223},{start:223,end:53},{start:53,end:224},{start:220,end:45},{start:45,end:134},{start:134,end:220},{start:32,end:211},{start:211,end:140},{start:140,end:32},{start:109,end:67},{start:67,end:108},{start:108,end:109},{start:146,end:43},{start:43,end:91},{start:91,end:146},{start:231,end:230},{start:230,end:120},{start:120,end:231},{start:113,end:226},{start:226,end:247},{start:247,end:113},{start:105,end:63},{start:63,end:52},{start:52,end:105},{start:241,end:238},{start:238,end:242},{start:242,end:241},{start:124,end:46},{start:46,end:156},{start:156,end:124},{start:95,end:78},{start:78,end:96},{start:96,end:95},{start:70,end:46},{start:46,end:63},{start:63,end:70},{start:116,end:143},{start:143,end:227},{start:227,end:116},{start:116,end:123},{start:123,end:111},{start:111,end:116},{start:1,end:44},{start:44,end:19},{start:19,end:1},{start:3,end:236},{start:236,end:51},{start:51,end:3},{start:207,end:216},{start:216,end:205},{start:205,end:207},{start:26,end:154},{start:154,end:22},{start:22,end:26},{start:165,end:39},{start:39,end:167},{start:167,end:165},{start:199,end:200},{start:200,end:208},{start:208,end:199},{start:101,end:36},{start:36,end:100},{start:100,end:101},{start:43,end:57},{start:57,end:202},{start:202,end:43},{start:242,end:20},{start:20,end:99},{start:99,end:242},{start:56,end:28},{start:28,end:157},{start:157,end:56},{start:124,end:35},{start:35,end:113},{start:113,end:124},{start:29,end:160},{start:160,end:27},{start:27,end:29},{start:211,end:204},{start:204,end:210},{start:210,end:211},{start:124,end:113},{start:113,end:46},{start:46,end:124},{start:106,end:43},{start:43,end:204},{start:204,end:106},{start:96,end:62},{start:62,end:77},{start:77,end:96},{start:227,end:137},{start:137,end:116},{start:116,end:227},{start:73,end:41},{start:41,end:72},{start:72,end:73},{start:36,end:203},{start:203,end:142},{start:142,end:36},{start:235,end:64},{start:64,end:240},{start:240,end:235},{start:48,end:49},{start:49,end:64},{start:64,end:48},{start:42,end:41},{start:41,end:74},{start:74,end:42},{start:214,end:212},{start:212,end:207},{start:207,end:214},{start:183,end:42},{start:42,end:184},{start:184,end:183},{start:210,end:169},{start:169,end:211},{start:211,end:210},{start:140,end:170},{start:170,end:176},{start:176,end:140},{start:104,end:105},{start:105,end:69},{start:69,end:104},{start:193,end:122},{start:122,end:168},{start:168,end:193},{start:50,end:123},{start:123,end:187},{start:187,end:50},{start:89,end:96},{start:96,end:90},{start:90,end:89},{start:66,end:65},{start:65,end:107},{start:107,end:66},{start:179,end:89},{start:89,end:180},{start:180,end:179},{start:119,end:101},{start:101,end:120},{start:120,end:119},{start:68,end:63},{start:63,end:104},{start:104,end:68},{start:234,end:93},{start:93,end:227},{start:227,end:234},{start:16,end:15},{start:15,end:85},{start:85,end:16},{start:209,end:129},{start:129,end:49},{start:49,end:209},{start:15,end:14},{start:14,end:86},{start:86,end:15},{start:107,end:55},{start:55,end:9},{start:9,end:107},{start:120,end:100},{start:100,end:121},{start:121,end:120},{start:153,end:145},{start:145,end:22},{start:22,end:153},{start:178,end:88},{start:88,end:179},{start:179,end:178},{start:197,end:6},{start:6,end:196},{start:196,end:197},{start:89,end:88},{start:88,end:96},{start:96,end:89},{start:135,end:138},{start:138,end:136},{start:136,end:135},{start:138,end:215},{start:215,end:172},{start:172,end:138},{start:218,end:115},{start:115,end:219},{start:219,end:218},{start:41,end:42},{start:42,end:81},{start:81,end:41},{start:5,end:195},{start:195,end:51},{start:51,end:5},{start:57,end:43},{start:43,end:61},{start:61,end:57},{start:208,end:171},{start:171,end:199},{start:199,end:208},{start:41,end:81},{start:81,end:38},{start:38,end:41},{start:224,end:53},{start:53,end:225},{start:225,end:224},{start:24,end:144},{start:144,end:110},{start:110,end:24},{start:105,end:52},{start:52,end:66},{start:66,end:105},{start:118,end:229},{start:229,end:117},{start:117,end:118},{start:227,end:34},{start:34,end:234},{start:234,end:227},{start:66,end:107},{start:107,end:69},{start:69,end:66},{start:10,end:109},{start:109,end:151},{start:151,end:10},{start:219,end:48},{start:48,end:235},{start:235,end:219},{start:183,end:62},{start:62,end:191},{start:191,end:183},{start:142,end:129},{start:129,end:126},{start:126,end:142},{start:116,end:111},{start:111,end:143},{start:143,end:116},{start:118,end:117},{start:117,end:50},{start:50,end:118},{start:223,end:222},{start:222,end:52},{start:52,end:223},{start:94,end:19},{start:19,end:141},{start:141,end:94},{start:222,end:221},{start:221,end:65},{start:65,end:222},{start:196,end:3},{start:3,end:197},{start:197,end:196},{start:45,end:220},{start:220,end:44},{start:44,end:45},{start:156,end:70},{start:70,end:139},{start:139,end:156},{start:188,end:122},{start:122,end:245},{start:245,end:188},{start:139,end:71},{start:71,end:162},{start:162,end:139},{start:149,end:170},{start:170,end:150},{start:150,end:149},{start:122,end:188},{start:188,end:196},{start:196,end:122},{start:206,end:216},{start:216,end:92},{start:92,end:206},{start:164,end:2},{start:2,end:167},{start:167,end:164},{start:242,end:141},{start:141,end:241},{start:241,end:242},{start:0,end:164},{start:164,end:37},{start:37,end:0},{start:11,end:72},{start:72,end:12},{start:12,end:11},{start:12,end:38},{start:38,end:13},{start:13,end:12},{start:70,end:63},{start:63,end:71},{start:71,end:70},{start:31,end:226},{start:226,end:111},{start:111,end:31},{start:36,end:101},{start:101,end:205},{start:205,end:36},{start:203,end:206},{start:206,end:165},{start:165,end:203},{start:126,end:209},{start:209,end:217},{start:217,end:126},{start:98,end:165},{start:165,end:97},{start:97,end:98},{start:237,end:220},{start:220,end:218},{start:218,end:237},{start:237,end:239},{start:239,end:241},{start:241,end:237},{start:210,end:214},{start:214,end:169},{start:169,end:210},{start:140,end:171},{start:171,end:32},{start:32,end:140},{start:241,end:125},{start:125,end:237},{start:237,end:241},{start:179,end:86},{start:86,end:178},{start:178,end:179},{start:180,end:85},{start:85,end:179},{start:179,end:180},{start:181,end:84},{start:84,end:180},{start:180,end:181},{start:182,end:83},{start:83,end:181},{start:181,end:182},{start:194,end:201},{start:201,end:182},{start:182,end:194},{start:177,end:137},{start:137,end:132},{start:132,end:177},{start:184,end:76},{start:76,end:183},{start:183,end:184},{start:185,end:61},{start:61,end:184},{start:184,end:185},{start:186,end:57},{start:57,end:185},{start:185,end:186},{start:216,end:212},{start:212,end:186},{start:186,end:216},{start:192,end:214},{start:214,end:187},{start:187,end:192},{start:139,end:34},{start:34,end:156},{start:156,end:139},{start:218,end:79},{start:79,end:237},{start:237,end:218},{start:147,end:123},{start:123,end:177},{start:177,end:147},{start:45,end:44},{start:44,end:4},{start:4,end:45},{start:208,end:201},{start:201,end:32},{start:32,end:208},{start:98,end:64},{start:64,end:129},{start:129,end:98},{start:192,end:213},{start:213,end:138},{start:138,end:192},{start:235,end:59},{start:59,end:219},{start:219,end:235},{start:141,end:242},{start:242,end:97},{start:97,end:141},{start:97,end:2},{start:2,end:141},{start:141,end:97},{start:240,end:75},{start:75,end:235},{start:235,end:240},{start:229,end:24},{start:24,end:228},{start:228,end:229},{start:31,end:25},{start:25,end:226},{start:226,end:31},{start:230,end:23},{start:23,end:229},{start:229,end:230},{start:231,end:22},{start:22,end:230},{start:230,end:231},{start:232,end:26},{start:26,end:231},{start:231,end:232},{start:233,end:112},{start:112,end:232},{start:232,end:233},{start:244,end:189},{start:189,end:243},{start:243,end:244},{start:189,end:221},{start:221,end:190},{start:190,end:189},{start:222,end:28},{start:28,end:221},{start:221,end:222},{start:223,end:27},{start:27,end:222},{start:222,end:223},{start:224,end:29},{start:29,end:223},{start:223,end:224},{start:225,end:30},{start:30,end:224},{start:224,end:225},{start:113,end:247},{start:247,end:225},{start:225,end:113},{start:99,end:60},{start:60,end:240},{start:240,end:99},{start:213,end:147},{start:147,end:215},{start:215,end:213},{start:60,end:20},{start:20,end:166},{start:166,end:60},{start:192,end:187},{start:187,end:213},{start:213,end:192},{start:243,end:112},{start:112,end:244},{start:244,end:243},{start:244,end:233},{start:233,end:245},{start:245,end:244},{start:245,end:128},{start:128,end:188},{start:188,end:245},{start:188,end:114},{start:114,end:174},{start:174,end:188},{start:134,end:131},{start:131,end:220},{start:220,end:134},{start:174,end:217},{start:217,end:236},{start:236,end:174},{start:236,end:198},{start:198,end:134},{start:134,end:236},{start:215,end:177},{start:177,end:58},{start:58,end:215},{start:156,end:143},{start:143,end:124},{start:124,end:156},{start:25,end:110},{start:110,end:7},{start:7,end:25},{start:31,end:228},{start:228,end:25},{start:25,end:31},{start:264,end:356},{start:356,end:368},{start:368,end:264},{start:0,end:11},{start:11,end:267},{start:267,end:0},{start:451,end:452},{start:452,end:349},{start:349,end:451},{start:267,end:302},{start:302,end:269},{start:269,end:267},{start:350,end:357},{start:357,end:277},{start:277,end:350},{start:350,end:452},{start:452,end:357},{start:357,end:350},{start:299,end:333},{start:333,end:297},{start:297,end:299},{start:396,end:175},{start:175,end:377},{start:377,end:396},{start:280,end:347},{start:347,end:330},{start:330,end:280},{start:269,end:303},{start:303,end:270},{start:270,end:269},{start:151,end:9},{start:9,end:337},{start:337,end:151},{start:344,end:278},{start:278,end:360},{start:360,end:344},{start:424,end:418},{start:418,end:431},{start:431,end:424},{start:270,end:304},{start:304,end:409},{start:409,end:270},{start:272,end:310},{start:310,end:407},{start:407,end:272},{start:322,end:270},{start:270,end:410},{start:410,end:322},{start:449,end:450},{start:450,end:347},{start:347,end:449},{start:432,end:422},{start:422,end:434},{start:434,end:432},{start:18,end:313},{start:313,end:17},{start:17,end:18},{start:291,end:306},{start:306,end:375},{start:375,end:291},{start:259,end:387},{start:387,end:260},{start:260,end:259},{start:424,end:335},{start:335,end:418},{start:418,end:424},{start:434,end:364},{start:364,end:416},{start:416,end:434},{start:391,end:423},{start:423,end:327},{start:327,end:391},{start:301,end:251},{start:251,end:298},{start:298,end:301},{start:275,end:281},{start:281,end:4},{start:4,end:275},{start:254,end:373},{start:373,end:253},{start:253,end:254},{start:375,end:307},{start:307,end:321},{start:321,end:375},{start:280,end:425},{start:425,end:411},{start:411,end:280},{start:200,end:421},{start:421,end:18},{start:18,end:200},{start:335,end:321},{start:321,end:406},{start:406,end:335},{start:321,end:320},{start:320,end:405},{start:405,end:321},{start:314,end:315},{start:315,end:17},{start:17,end:314},{start:423,end:426},{start:426,end:266},{start:266,end:423},{start:396,end:377},{start:377,end:369},{start:369,end:396},{start:270,end:322},{start:322,end:269},{start:269,end:270},{start:413,end:417},{start:417,end:464},{start:464,end:413},{start:385,end:386},{start:386,end:258},{start:258,end:385},{start:248,end:456},{start:456,end:419},{start:419,end:248},{start:298,end:284},{start:284,end:333},{start:333,end:298},{start:168,end:417},{start:417,end:8},{start:8,end:168},{start:448,end:346},{start:346,end:261},{start:261,end:448},{start:417,end:413},{start:413,end:285},{start:285,end:417},{start:326,end:327},{start:327,end:328},{start:328,end:326},{start:277,end:355},{start:355,end:329},{start:329,end:277},{start:309,end:392},{start:392,end:438},{start:438,end:309},{start:381,end:382},{start:382,end:256},{start:256,end:381},{start:279,end:429},{start:429,end:360},{start:360,end:279},{start:365,end:364},{start:364,end:379},{start:379,end:365},{start:355,end:277},{start:277,end:437},{start:437,end:355},{start:282,end:443},{start:443,end:283},{start:283,end:282},{start:281,end:275},{start:275,end:363},{start:363,end:281},{start:395,end:431},{start:431,end:369},{start:369,end:395},{start:299,end:297},{start:297,end:337},{start:337,end:299},{start:335,end:273},{start:273,end:321},{start:321,end:335},{start:348,end:450},{start:450,end:349},{start:349,end:348},{start:359,end:446},{start:446,end:467},{start:467,end:359},{start:283,end:293},{start:293,end:282},{start:282,end:283},{start:250,end:458},{start:458,end:462},{start:462,end:250},{start:300,end:276},{start:276,end:383},{start:383,end:300},{start:292,end:308},{start:308,end:325},{start:325,end:292},{start:283,end:276},{start:276,end:293},{start:293,end:283},{start:264,end:372},{start:372,end:447},{start:447,end:264},{start:346,end:352},{start:352,end:340},{start:340,end:346},{start:354,end:274},{start:274,end:19},{start:19,end:354},{start:363,end:456},{start:456,end:281},{start:281,end:363},{start:426,end:436},{start:436,end:425},{start:425,end:426},{start:380,end:381},{start:381,end:252},{start:252,end:380},{start:267,end:269},{start:269,end:393},{start:393,end:267},{start:421,end:200},{start:200,end:428},{start:428,end:421},{start:371,end:266},{start:266,end:329},{start:329,end:371},{start:432,end:287},{start:287,end:422},{start:422,end:432},{start:290,end:250},{start:250,end:328},{start:328,end:290},{start:385,end:258},{start:258,end:384},{start:384,end:385},{start:446,end:265},{start:265,end:342},{start:342,end:446},{start:386,end:387},{start:387,end:257},{start:257,end:386},{start:422,end:424},{start:424,end:430},{start:430,end:422},{start:445,end:342},{start:342,end:276},{start:276,end:445},{start:422,end:273},{start:273,end:424},{start:424,end:422},{start:306,end:292},{start:292,end:307},{start:307,end:306},{start:352,end:366},{start:366,end:345},{start:345,end:352},{start:268,end:271},{start:271,end:302},{start:302,end:268},{start:358,end:423},{start:423,end:371},{start:371,end:358},{start:327,end:294},{start:294,end:460},{start:460,end:327},{start:331,end:279},{start:279,end:294},{start:294,end:331},{start:303,end:271},{start:271,end:304},{start:304,end:303},{start:436,end:432},{start:432,end:427},{start:427,end:436},{start:304,end:272},{start:272,end:408},{start:408,end:304},{start:395,end:394},{start:394,end:431},{start:431,end:395},{start:378,end:395},{start:395,end:400},{start:400,end:378},{start:296,end:334},{start:334,end:299},{start:299,end:296},{start:6,end:351},{start:351,end:168},{start:168,end:6},{start:376,end:352},{start:352,end:411},{start:411,end:376},{start:307,end:325},{start:325,end:320},{start:320,end:307},{start:285,end:295},{start:295,end:336},{start:336,end:285},{start:320,end:319},{start:319,end:404},{start:404,end:320},{start:329,end:330},{start:330,end:349},{start:349,end:329},{start:334,end:293},{start:293,end:333},{start:333,end:334},{start:366,end:323},{start:323,end:447},{start:447,end:366},{start:316,end:15},{start:15,end:315},{start:315,end:316},{start:331,end:358},{start:358,end:279},{start:279,end:331},{start:317,end:14},{start:14,end:316},{start:316,end:317},{start:8,end:285},{start:285,end:9},{start:9,end:8},{start:277,end:329},{start:329,end:350},{start:350,end:277},{start:253,end:374},{start:374,end:252},{start:252,end:253},{start:319,end:318},{start:318,end:403},{start:403,end:319},{start:351,end:6},{start:6,end:419},{start:419,end:351},{start:324,end:318},{start:318,end:325},{start:325,end:324},{start:397,end:367},{start:367,end:365},{start:365,end:397},{start:288,end:435},{start:435,end:397},{start:397,end:288},{start:278,end:344},{start:344,end:439},{start:439,end:278},{start:310,end:272},{start:272,end:311},{start:311,end:310},{start:248,end:195},{start:195,end:281},{start:281,end:248},{start:375,end:273},{start:273,end:291},{start:291,end:375},{start:175,end:396},{start:396,end:199},{start:199,end:175},{start:312,end:311},{start:311,end:268},{start:268,end:312},{start:276,end:283},{start:283,end:445},{start:445,end:276},{start:390,end:373},{start:373,end:339},{start:339,end:390},{start:295,end:282},{start:282,end:296},{start:296,end:295},{start:448,end:449},{start:449,end:346},{start:346,end:448},{start:356,end:264},{start:264,end:454},{start:454,end:356},{start:337,end:336},{start:336,end:299},{start:299,end:337},{start:337,end:338},{start:338,end:151},{start:151,end:337},{start:294,end:278},{start:278,end:455},{start:455,end:294},{start:308,end:292},{start:292,end:415},{start:415,end:308},{start:429,end:358},{start:358,end:355},{start:355,end:429},{start:265,end:340},{start:340,end:372},{start:372,end:265},{start:352,end:346},{start:346,end:280},{start:280,end:352},{start:295,end:442},{start:442,end:282},{start:282,end:295},{start:354,end:19},{start:19,end:370},{start:370,end:354},{start:285,end:441},{start:441,end:295},{start:295,end:285},{start:195,end:248},{start:248,end:197},{start:197,end:195},{start:457,end:440},{start:440,end:274},{start:274,end:457},{start:301,end:300},{start:300,end:368},{start:368,end:301},{start:417,end:351},{start:351,end:465},{start:465,end:417},{start:251,end:301},{start:301,end:389},{start:389,end:251},{start:394,end:395},{start:395,end:379},{start:379,end:394},{start:399,end:412},{start:412,end:419},{start:419,end:399},{start:410,end:436},{start:436,end:322},{start:322,end:410},{start:326,end:2},{start:2,end:393},{start:393,end:326},{start:354,end:370},{start:370,end:461},{start:461,end:354},{start:393,end:164},{start:164,end:267},{start:267,end:393},{start:268,end:302},{start:302,end:12},{start:12,end:268},{start:312,end:268},{start:268,end:13},{start:13,end:312},{start:298,end:293},{start:293,end:301},{start:301,end:298},{start:265,end:446},{start:446,end:340},{start:340,end:265},{start:280,end:330},{start:330,end:425},{start:425,end:280},{start:322,end:426},{start:426,end:391},{start:391,end:322},{start:420,end:429},{start:429,end:437},{start:437,end:420},{start:393,end:391},{start:391,end:326},{start:326,end:393},{start:344,end:440},{start:440,end:438},{start:438,end:344},{start:458,end:459},{start:459,end:461},{start:461,end:458},{start:364,end:434},{start:434,end:394},{start:394,end:364},{start:428,end:396},{start:396,end:262},{start:262,end:428},{start:274,end:354},{start:354,end:457},{start:457,end:274},{start:317,end:316},{start:316,end:402},{start:402,end:317},{start:316,end:315},{start:315,end:403},{start:403,end:316},{start:315,end:314},{start:314,end:404},{start:404,end:315},{start:314,end:313},{start:313,end:405},{start:405,end:314},{start:313,end:421},{start:421,end:406},{start:406,end:313},{start:323,end:366},{start:366,end:361},{start:361,end:323},{start:292,end:306},{start:306,end:407},{start:407,end:292},{start:306,end:291},{start:291,end:408},{start:408,end:306},{start:291,end:287},{start:287,end:409},{start:409,end:291},{start:287,end:432},{start:432,end:410},{start:410,end:287},{start:427,end:434},{start:434,end:411},{start:411,end:427},{start:372,end:264},{start:264,end:383},{start:383,end:372},{start:459,end:309},{start:309,end:457},{start:457,end:459},{start:366,end:352},{start:352,end:401},{start:401,end:366},{start:1,end:274},{start:274,end:4},{start:4,end:1},{start:418,end:421},{start:421,end:262},{start:262,end:418},{start:331,end:294},{start:294,end:358},{start:358,end:331},{start:435,end:433},{start:433,end:367},{start:367,end:435},{start:392,end:289},{start:289,end:439},{start:439,end:392},{start:328,end:462},{start:462,end:326},{start:326,end:328},{start:94,end:2},{start:2,end:370},{start:370,end:94},{start:289,end:305},{start:305,end:455},{start:455,end:289},{start:339,end:254},{start:254,end:448},{start:448,end:339},{start:359,end:255},{start:255,end:446},{start:446,end:359},{start:254,end:253},{start:253,end:449},{start:449,end:254},{start:253,end:252},{start:252,end:450},{start:450,end:253},{start:252,end:256},{start:256,end:451},{start:451,end:252},{start:256,end:341},{start:341,end:452},{start:452,end:256},{start:414,end:413},{start:413,end:463},{start:463,end:414},{start:286,end:441},{start:441,end:414},{start:414,end:286},{start:286,end:258},{start:258,end:441},{start:441,end:286},{start:258,end:257},{start:257,end:442},{start:442,end:258},{start:257,end:259},{start:259,end:443},{start:443,end:257},{start:259,end:260},{start:260,end:444},{start:444,end:259},{start:260,end:467},{start:467,end:445},{start:445,end:260},{start:309,end:459},{start:459,end:250},{start:250,end:309},{start:305,end:289},{start:289,end:290},{start:290,end:305},{start:305,end:290},{start:290,end:460},{start:460,end:305},{start:401,end:376},{start:376,end:435},{start:435,end:401},{start:309,end:250},{start:250,end:392},{start:392,end:309},{start:376,end:411},{start:411,end:433},{start:433,end:376},{start:453,end:341},{start:341,end:464},{start:464,end:453},{start:357,end:453},{start:453,end:465},{start:465,end:357},{start:343,end:357},{start:357,end:412},{start:412,end:343},{start:437,end:343},{start:343,end:399},{start:399,end:437},{start:344,end:360},{start:360,end:440},{start:440,end:344},{start:420,end:437},{start:437,end:456},{start:456,end:420},{start:360,end:420},{start:420,end:363},{start:363,end:360},{start:361,end:401},{start:401,end:288},{start:288,end:361},{start:265,end:372},{start:372,end:353},{start:353,end:265},{start:390,end:339},{start:339,end:249},{start:249,end:390},{start:339,end:448},{start:448,end:255},{start:255,end:339}];var face_landmarker_options={};Object.defineProperty(face_landmarker_options,"__esModule",{value:!0});var face_landmarker_result={};Object.defineProperty(face_landmarker_result,"__esModule",{value:!0}),function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(O,C,M,E){E===void 0&&(E=M);var B=Object.getOwnPropertyDescriptor(C,M);B&&!("get"in B?!C.__esModule:B.writable||B.configurable)||(B={enumerable:!0,get:function(){return C[M]}}),Object.defineProperty(O,E,B)}:function(O,C,M,E){E===void 0&&(E=M),O[E]=C[M]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(O,C){for(var M in O)M==="default"||Object.prototype.hasOwnProperty.call(C,M)||e(C,O,M)};Object.defineProperty(t,"__esModule",{value:!0}),t.FaceLandmarker=void 0;const s=calculator_pb,o=calculator_options_pb,i=classification_pb,n=landmark_pb,p=base_options_pb,d=face_detector_graph_options_pb,l=face_geometry_pb,u=face_landmarker_graph_options_pb,c=face_landmarks_detector_graph_options_pb,g=classifier_result,f=landmark_result,y=vision_task_runner,_=face_landmarks_connections;r(face_landmarker_options,t),r(face_landmarker_result,t);const m="image_in",h="norm_rect",R="face_landmarks",b="blendshapes",v="face_geometry",S=.5;class T extends y.VisionTaskRunner{static createFromOptions(C,M){return y.VisionTaskRunner.createVisionInstance(T,C,M)}static createFromModelBuffer(C,M){return y.VisionTaskRunner.createVisionInstance(T,C,{baseOptions:{modelAssetBuffer:M}})}static createFromModelPath(C,M){return y.VisionTaskRunner.createVisionInstance(T,C,{baseOptions:{modelAssetPath:M}})}constructor(C,M){super(new y.VisionGraphRunner(C,M),m,h,!1),this.result={faceLandmarks:[],faceBlendshapes:[],facialTransformationMatrixes:[]},this.outputFaceBlendshapes=!1,this.outputFacialTransformationMatrixes=!1,this.options=new u.FaceLandmarkerGraphOptions,this.options.setBaseOptions(new p.BaseOptions),this.faceLandmarksDetectorGraphOptions=new c.FaceLandmarksDetectorGraphOptions,this.options.setFaceLandmarksDetectorGraphOptions(this.faceLandmarksDetectorGraphOptions),this.faceDetectorGraphOptions=new d.FaceDetectorGraphOptions,this.options.setFaceDetectorGraphOptions(this.faceDetectorGraphOptions),this.initDefaults()}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(C){this.options.setBaseOptions(C)}setOptions(C){var M,E,B,N;return"numFaces"in C&&this.faceDetectorGraphOptions.setNumFaces((M=C.numFaces)!==null&&M!==void 0?M:1),"minFaceDetectionConfidence"in C&&this.faceDetectorGraphOptions.setMinDetectionConfidence((E=C.minFaceDetectionConfidence)!==null&&E!==void 0?E:S),"minTrackingConfidence"in C&&this.options.setMinTrackingConfidence((B=C.minTrackingConfidence)!==null&&B!==void 0?B:S),"minFacePresenceConfidence"in C&&this.faceLandmarksDetectorGraphOptions.setMinDetectionConfidence((N=C.minFacePresenceConfidence)!==null&&N!==void 0?N:S),"outputFaceBlendshapes"in C&&(this.outputFaceBlendshapes=!!C.outputFaceBlendshapes),"outputFacialTransformationMatrixes"in C&&(this.outputFacialTransformationMatrixes=!!C.outputFacialTransformationMatrixes),this.applyOptions(C)}detect(C,M){return this.resetResults(),this.processImageData(C,M),this.result}detectForVideo(C,M,E){return this.resetResults(),this.processVideoData(C,E,M),this.result}resetResults(){this.result={faceLandmarks:[],faceBlendshapes:[],facialTransformationMatrixes:[]}}initDefaults(){this.faceDetectorGraphOptions.setNumFaces(1),this.faceDetectorGraphOptions.setMinDetectionConfidence(S),this.faceLandmarksDetectorGraphOptions.setMinDetectionConfidence(S),this.options.setMinTrackingConfidence(S)}addJsLandmarks(C){for(const M of C){const E=n.NormalizedLandmarkList.deserializeBinary(M);this.result.faceLandmarks.push((0,f.convertToLandmarks)(E))}}addBlenshape(C){var M;if(this.outputFaceBlendshapes)for(const E of C){const B=i.ClassificationList.deserializeBinary(E);this.result.faceBlendshapes.push((0,g.convertFromClassifications)((M=B.getClassificationList())!==null&&M!==void 0?M:[]))}}addFacialTransformationMatrixes(C){var M,E,B;if(this.outputFacialTransformationMatrixes)for(const N of C){const w=l.FaceGeometry.deserializeBinary(N).getPoseTransformMatrix();w&&this.result.facialTransformationMatrixes.push({rows:(M=w.getRows())!==null&&M!==void 0?M:0,columns:(E=w.getCols())!==null&&E!==void 0?E:0,data:(B=w.getPackedDataList())!==null&&B!==void 0?B:[]})}}refreshGraph(){const C=new s.CalculatorGraphConfig;C.addInputStream(m),C.addInputStream(h),C.addOutputStream(R);const M=new o.CalculatorOptions;M.setExtension(u.FaceLandmarkerGraphOptions.ext,this.options);const E=new s.CalculatorGraphConfig.Node;E.setCalculator("mediapipe.tasks.vision.face_landmarker.FaceLandmarkerGraph"),E.addInputStream("IMAGE:"+m),E.addInputStream("NORM_RECT:"+h),E.addOutputStream("NORM_LANDMARKS:"+R),E.setOptions(M),C.addNode(E),this.graphRunner.attachProtoVectorListener(R,(N,w)=>{this.addJsLandmarks(N),this.setLatestOutputTimestamp(w)}),this.graphRunner.attachEmptyPacketListener(R,N=>{this.setLatestOutputTimestamp(N)}),this.outputFaceBlendshapes&&(C.addOutputStream(b),E.addOutputStream("BLENDSHAPES:"+b),this.graphRunner.attachProtoVectorListener(b,(N,w)=>{this.addBlenshape(N),this.setLatestOutputTimestamp(w)}),this.graphRunner.attachEmptyPacketListener(b,N=>{this.setLatestOutputTimestamp(N)})),this.outputFacialTransformationMatrixes&&(C.addOutputStream(v),E.addOutputStream("FACE_GEOMETRY:"+v),this.graphRunner.attachProtoVectorListener(v,(N,w)=>{this.addFacialTransformationMatrixes(N),this.setLatestOutputTimestamp(w)}),this.graphRunner.attachEmptyPacketListener(v,N=>{this.setLatestOutputTimestamp(N)}));const B=C.serializeBinary();this.setGraph(new Uint8Array(B),!0)}}t.FaceLandmarker=T,T.FACE_LANDMARKS_LIPS=_.FACE_LANDMARKS_LIPS,T.FACE_LANDMARKS_LEFT_EYE=_.FACE_LANDMARKS_LEFT_EYE,T.FACE_LANDMARKS_LEFT_EYEBROW=_.FACE_LANDMARKS_LEFT_EYEBROW,T.FACE_LANDMARKS_LEFT_IRIS=_.FACE_LANDMARKS_LEFT_IRIS,T.FACE_LANDMARKS_RIGHT_EYE=_.FACE_LANDMARKS_RIGHT_EYE,T.FACE_LANDMARKS_RIGHT_EYEBROW=_.FACE_LANDMARKS_RIGHT_EYEBROW,T.FACE_LANDMARKS_RIGHT_IRIS=_.FACE_LANDMARKS_RIGHT_IRIS,T.FACE_LANDMARKS_FACE_OVAL=_.FACE_LANDMARKS_FACE_OVAL,T.FACE_LANDMARKS_CONTOURS=_.FACE_LANDMARKS_CONTOURS,T.FACE_LANDMARKS_TESSELATION=_.FACE_LANDMARKS_TESSELATION}(face_landmarker);var face_stylizer={},face_stylizer_graph_options_pb={};(function(t){var e=googleProtobuf,r=e,s=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||s!==void 0&&s||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;r.object.extend(proto,o);var i=calculator_options_pb;r.object.extend(proto,i);var n=base_options_pb;r.object.extend(proto,n);var p=face_landmarker_graph_options_pb;r.object.extend(proto,p),r.exportSymbol("proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions",null,s),proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions=function(d){e.Message.initialize(this,d,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.displayName="proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.toObject=function(d){return proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.toObject(d,this)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.toObject=function(d,l){var u,c={baseOptions:(u=l.getBaseOptions())&&n.BaseOptions.toObject(d,u),faceLandmarkerGraphOptions:(u=l.getFaceLandmarkerGraphOptions())&&p.FaceLandmarkerGraphOptions.toObject(d,u),faceAlignmentSize:e.Message.getFieldWithDefault(l,3,256)};return d&&(c.$jspbMessageInstance=l),c}),proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.deserializeBinary=function(d){var l=new e.BinaryReader(d),u=new proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions;return proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.deserializeBinaryFromReader(u,l)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.deserializeBinaryFromReader=function(d,l){for(;l.nextField()&&!l.isEndGroup();)switch(l.getFieldNumber()){case 1:var u=new n.BaseOptions;l.readMessage(u,n.BaseOptions.deserializeBinaryFromReader),d.setBaseOptions(u);break;case 2:u=new p.FaceLandmarkerGraphOptions,l.readMessage(u,p.FaceLandmarkerGraphOptions.deserializeBinaryFromReader),d.setFaceLandmarkerGraphOptions(u);break;case 3:u=l.readInt32(),d.setFaceAlignmentSize(u);break;default:l.skipField()}return d},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.serializeBinary=function(){var d=new e.BinaryWriter;return proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.serializeBinaryToWriter(this,d),d.getResultBuffer()},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.serializeBinaryToWriter=function(d,l){var u=void 0;(u=d.getBaseOptions())!=null&&l.writeMessage(1,u,n.BaseOptions.serializeBinaryToWriter),(u=d.getFaceLandmarkerGraphOptions())!=null&&l.writeMessage(2,u,p.FaceLandmarkerGraphOptions.serializeBinaryToWriter),(u=e.Message.getField(d,3))!=null&&l.writeInt32(3,u)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.ext=new e.ExtensionFieldInfo(513916220,{ext:0},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions,proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.toObject,0),i.CalculatorOptions.extensionsBinary[513916220]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.deserializeBinaryFromReader,!1),i.CalculatorOptions.extensions[513916220]=proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.ext,proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,n.BaseOptions,1)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.setBaseOptions=function(d){return e.Message.setWrapperField(this,1,d)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.getFaceLandmarkerGraphOptions=function(){return e.Message.getWrapperField(this,p.FaceLandmarkerGraphOptions,2)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.setFaceLandmarkerGraphOptions=function(d){return e.Message.setWrapperField(this,2,d)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.clearFaceLandmarkerGraphOptions=function(){return this.setFaceLandmarkerGraphOptions(void 0)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.hasFaceLandmarkerGraphOptions=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.getFaceAlignmentSize=function(){return e.Message.getFieldWithDefault(this,3,256)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.setFaceAlignmentSize=function(d){return e.Message.setField(this,3,d)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.clearFaceAlignmentSize=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.hasFaceAlignmentSize=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.ext=new e.ExtensionFieldInfo(513916220,{ext:0},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions,proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.toObject,0),i.CalculatorOptions.extensionsBinary[513916220]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.deserializeBinaryFromReader,!1),i.CalculatorOptions.extensions[513916220]=proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.ext,r.object.extend(t,proto.mediapipe.tasks.vision.face_stylizer.proto)})(face_stylizer_graph_options_pb);var face_stylizer_options={};Object.defineProperty(face_stylizer_options,"__esModule",{value:!0}),function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(g,f,y,_){_===void 0&&(_=y);var m=Object.getOwnPropertyDescriptor(f,y);m&&!("get"in m?!f.__esModule:m.writable||m.configurable)||(m={enumerable:!0,get:function(){return f[y]}}),Object.defineProperty(g,_,m)}:function(g,f,y,_){_===void 0&&(_=y),g[_]=f[y]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(g,f){for(var y in g)y==="default"||Object.prototype.hasOwnProperty.call(f,y)||e(f,g,y)};Object.defineProperty(t,"__esModule",{value:!0}),t.FaceStylizer=void 0;const s=calculator_pb,o=calculator_options_pb,i=base_options_pb,n=face_stylizer_graph_options_pb,p=vision_task_runner;r(face_stylizer_options,t);const d="image_in",l="norm_rect",u="stylized_image";class c extends p.VisionTaskRunner{static createFromOptions(f,y){return p.VisionTaskRunner.createVisionInstance(c,f,y)}static createFromModelBuffer(f,y){return p.VisionTaskRunner.createVisionInstance(c,f,{baseOptions:{modelAssetBuffer:y}})}static createFromModelPath(f,y){return p.VisionTaskRunner.createVisionInstance(c,f,{baseOptions:{modelAssetPath:y}})}constructor(f,y){super(new p.VisionGraphRunner(f,y),d,l,!0),this.options=new n.FaceStylizerGraphOptions,this.options.setBaseOptions(new i.BaseOptions)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(f){this.options.setBaseOptions(f)}setOptions(f){return super.applyOptions(f)}stylize(f,y,_){const m=typeof y!="function"?y:{};if(this.userCallback=typeof y=="function"?y:_,this.processImageData(f,m??{}),!this.userCallback)return this.result}stylizeForVideo(f,y,_,m){const h=typeof _!="function"?_:{};if(this.userCallback=typeof _=="function"?_:m,this.processVideoData(f,h,y),this.userCallback=void 0,!this.userCallback)return this.result}refreshGraph(){const f=new s.CalculatorGraphConfig;f.addInputStream(d),f.addInputStream(l),f.addOutputStream(u);const y=new o.CalculatorOptions;y.setExtension(n.FaceStylizerGraphOptions.ext,this.options);const _=new s.CalculatorGraphConfig.Node;_.setCalculator("mediapipe.tasks.vision.face_stylizer.FaceStylizerGraph"),_.addInputStream("IMAGE:"+d),_.addInputStream("NORM_RECT:"+l),_.addOutputStream("STYLIZED_IMAGE:"+u),_.setOptions(y),f.addNode(_),this.graphRunner.attachImageListener(u,(h,R)=>{const b=this.convertToMPImage(h,!this.userCallback);this.result=b,this.userCallback&&this.userCallback(b),this.setLatestOutputTimestamp(R)}),this.graphRunner.attachEmptyPacketListener(u,h=>{this.result=null,this.userCallback&&this.userCallback(null),this.setLatestOutputTimestamp(h)});const m=f.serializeBinary();this.setGraph(new Uint8Array(m),!0)}}t.FaceStylizer=c}(face_stylizer);var gesture_recognizer={},gesture_classifier_graph_options_pb={},classifier_options_pb={};(function(t){var e=googleProtobuf,r=e,s=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||s!==void 0&&s||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.tasks.components.processors.proto.ClassifierOptions",null,s),proto.mediapipe.tasks.components.processors.proto.ClassifierOptions=function(o){e.Message.initialize(this,o,0,-1,proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.repeatedFields_,null)},r.inherits(proto.mediapipe.tasks.components.processors.proto.ClassifierOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.displayName="proto.mediapipe.tasks.components.processors.proto.ClassifierOptions"),proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.repeatedFields_=[4,5],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.toObject=function(o){return proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.toObject(o,this)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.toObject=function(o,i){var n,p={displayNamesLocale:e.Message.getFieldWithDefault(i,1,"en"),maxResults:e.Message.getFieldWithDefault(i,2,-1),scoreThreshold:(n=e.Message.getOptionalFloatingPointField(i,3))==null?void 0:n,categoryAllowlistList:(n=e.Message.getRepeatedField(i,4))==null?void 0:n,categoryDenylistList:(n=e.Message.getRepeatedField(i,5))==null?void 0:n};return o&&(p.$jspbMessageInstance=i),p}),proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.deserializeBinary=function(o){var i=new e.BinaryReader(o),n=new proto.mediapipe.tasks.components.processors.proto.ClassifierOptions;return proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.deserializeBinaryFromReader(n,i)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.deserializeBinaryFromReader=function(o,i){for(;i.nextField()&&!i.isEndGroup();)switch(i.getFieldNumber()){case 1:var n=i.readString();o.setDisplayNamesLocale(n);break;case 2:n=i.readInt32(),o.setMaxResults(n);break;case 3:n=i.readFloat(),o.setScoreThreshold(n);break;case 4:n=i.readString(),o.addCategoryAllowlist(n);break;case 5:n=i.readString(),o.addCategoryDenylist(n);break;default:i.skipField()}return o},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.serializeBinaryToWriter=function(o,i){var n=void 0;(n=e.Message.getField(o,1))!=null&&i.writeString(1,n),(n=e.Message.getField(o,2))!=null&&i.writeInt32(2,n),(n=e.Message.getField(o,3))!=null&&i.writeFloat(3,n),(n=o.getCategoryAllowlistList()).length>0&&i.writeRepeatedString(4,n),(n=o.getCategoryDenylistList()).length>0&&i.writeRepeatedString(5,n)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.getDisplayNamesLocale=function(){return e.Message.getFieldWithDefault(this,1,"en")},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.setDisplayNamesLocale=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.clearDisplayNamesLocale=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.hasDisplayNamesLocale=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.getMaxResults=function(){return e.Message.getFieldWithDefault(this,2,-1)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.setMaxResults=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.clearMaxResults=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.hasMaxResults=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.getScoreThreshold=function(){return e.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.setScoreThreshold=function(o){return e.Message.setField(this,3,o)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.clearScoreThreshold=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.hasScoreThreshold=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.getCategoryAllowlistList=function(){return e.Message.getRepeatedField(this,4)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.setCategoryAllowlistList=function(o){return e.Message.setField(this,4,o||[])},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.addCategoryAllowlist=function(o,i){return e.Message.addToRepeatedField(this,4,o,i)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.clearCategoryAllowlistList=function(){return this.setCategoryAllowlistList([])},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.getCategoryDenylistList=function(){return e.Message.getRepeatedField(this,5)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.setCategoryDenylistList=function(o){return e.Message.setField(this,5,o||[])},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.addCategoryDenylist=function(o,i){return e.Message.addToRepeatedField(this,5,o,i)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.clearCategoryDenylistList=function(){return this.setCategoryDenylistList([])},r.object.extend(t,proto.mediapipe.tasks.components.processors.proto)})(classifier_options_pb),function(t){var e=googleProtobuf,r=e,s=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||s!==void 0&&s||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;r.object.extend(proto,o);var i=calculator_options_pb;r.object.extend(proto,i);var n=classifier_options_pb;r.object.extend(proto,n);var p=base_options_pb;r.object.extend(proto,p),r.exportSymbol("proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions",null,s),proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions=function(d){e.Message.initialize(this,d,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.displayName="proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.toObject=function(d){return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.toObject(d,this)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.toObject=function(d,l){var u,c={baseOptions:(u=l.getBaseOptions())&&p.BaseOptions.toObject(d,u),classifierOptions:(u=l.getClassifierOptions())&&n.ClassifierOptions.toObject(d,u)};return d&&(c.$jspbMessageInstance=l),c}),proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.deserializeBinary=function(d){var l=new e.BinaryReader(d),u=new proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.deserializeBinaryFromReader(u,l)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.deserializeBinaryFromReader=function(d,l){for(;l.nextField()&&!l.isEndGroup();)switch(l.getFieldNumber()){case 1:var u=new p.BaseOptions;l.readMessage(u,p.BaseOptions.deserializeBinaryFromReader),d.setBaseOptions(u);break;case 2:u=new n.ClassifierOptions,l.readMessage(u,n.ClassifierOptions.deserializeBinaryFromReader),d.setClassifierOptions(u);break;default:l.skipField()}return d},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.serializeBinary=function(){var d=new e.BinaryWriter;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.serializeBinaryToWriter(this,d),d.getResultBuffer()},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.serializeBinaryToWriter=function(d,l){var u=void 0;(u=d.getBaseOptions())!=null&&l.writeMessage(1,u,p.BaseOptions.serializeBinaryToWriter),(u=d.getClassifierOptions())!=null&&l.writeMessage(2,u,n.ClassifierOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.ext=new e.ExtensionFieldInfo(478825465,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.toObject,0),i.CalculatorOptions.extensionsBinary[478825465]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.deserializeBinaryFromReader,!1),i.CalculatorOptions.extensions[478825465]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.ext,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,p.BaseOptions,1)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.setBaseOptions=function(d){return e.Message.setWrapperField(this,1,d)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.getClassifierOptions=function(){return e.Message.getWrapperField(this,n.ClassifierOptions,2)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.setClassifierOptions=function(d){return e.Message.setWrapperField(this,2,d)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.clearClassifierOptions=function(){return this.setClassifierOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.hasClassifierOptions=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.ext=new e.ExtensionFieldInfo(478825465,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.toObject,0),i.CalculatorOptions.extensionsBinary[478825465]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.deserializeBinaryFromReader,!1),i.CalculatorOptions.extensions[478825465]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.ext,r.object.extend(t,proto.mediapipe.tasks.vision.gesture_recognizer.proto)}(gesture_classifier_graph_options_pb);var gesture_recognizer_graph_options_pb={},hand_gesture_recognizer_graph_options_pb={},gesture_embedder_graph_options_pb={};(function(t){var e=googleProtobuf,r=e,s=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||s!==void 0&&s||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;r.object.extend(proto,o);var i=calculator_options_pb;r.object.extend(proto,i);var n=base_options_pb;r.object.extend(proto,n),r.exportSymbol("proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions",null,s),proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions=function(p){e.Message.initialize(this,p,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.displayName="proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.prototype.toObject=function(p){return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.toObject(p,this)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.toObject=function(p,d){var l,u={baseOptions:(l=d.getBaseOptions())&&n.BaseOptions.toObject(p,l)};return p&&(u.$jspbMessageInstance=d),u}),proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.deserializeBinary=function(p){var d=new e.BinaryReader(p),l=new proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.deserializeBinaryFromReader(l,d)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.deserializeBinaryFromReader=function(p,d){for(;d.nextField()&&!d.isEndGroup();)if(d.getFieldNumber()===1){var l=new n.BaseOptions;d.readMessage(l,n.BaseOptions.deserializeBinaryFromReader),p.setBaseOptions(l)}else d.skipField();return p},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.prototype.serializeBinary=function(){var p=new e.BinaryWriter;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.serializeBinaryToWriter(this,p),p.getResultBuffer()},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.serializeBinaryToWriter=function(p,d){var l;(l=p.getBaseOptions())!=null&&d.writeMessage(1,l,n.BaseOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.ext=new e.ExtensionFieldInfo(478825422,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.toObject,0),i.CalculatorOptions.extensionsBinary[478825422]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.deserializeBinaryFromReader,!1),i.CalculatorOptions.extensions[478825422]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.ext,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,n.BaseOptions,1)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.prototype.setBaseOptions=function(p){return e.Message.setWrapperField(this,1,p)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.ext=new e.ExtensionFieldInfo(478825422,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.toObject,0),i.CalculatorOptions.extensionsBinary[478825422]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.deserializeBinaryFromReader,!1),i.CalculatorOptions.extensions[478825422]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.ext,r.object.extend(t,proto.mediapipe.tasks.vision.gesture_recognizer.proto)})(gesture_embedder_graph_options_pb),function(t){var e=googleProtobuf,r=e,s=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||s!==void 0&&s||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;r.object.extend(proto,o);var i=calculator_options_pb;r.object.extend(proto,i);var n=base_options_pb;r.object.extend(proto,n);var p=gesture_classifier_graph_options_pb;r.object.extend(proto,p);var d=gesture_embedder_graph_options_pb;r.object.extend(proto,d),r.exportSymbol("proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions",null,s),proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions=function(l){e.Message.initialize(this,l,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.displayName="proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.toObject=function(l){return proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.toObject(l,this)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.toObject=function(l,u){var c,g={baseOptions:(c=u.getBaseOptions())&&n.BaseOptions.toObject(l,c),gestureEmbedderGraphOptions:(c=u.getGestureEmbedderGraphOptions())&&d.GestureEmbedderGraphOptions.toObject(l,c),cannedGestureClassifierGraphOptions:(c=u.getCannedGestureClassifierGraphOptions())&&p.GestureClassifierGraphOptions.toObject(l,c),customGestureClassifierGraphOptions:(c=u.getCustomGestureClassifierGraphOptions())&&p.GestureClassifierGraphOptions.toObject(l,c)};return l&&(g.$jspbMessageInstance=u),g}),proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.deserializeBinary=function(l){var u=new e.BinaryReader(l),c=new proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.deserializeBinaryFromReader(c,u)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.deserializeBinaryFromReader=function(l,u){for(;u.nextField()&&!u.isEndGroup();)switch(u.getFieldNumber()){case 1:var c=new n.BaseOptions;u.readMessage(c,n.BaseOptions.deserializeBinaryFromReader),l.setBaseOptions(c);break;case 2:c=new d.GestureEmbedderGraphOptions,u.readMessage(c,d.GestureEmbedderGraphOptions.deserializeBinaryFromReader),l.setGestureEmbedderGraphOptions(c);break;case 3:c=new p.GestureClassifierGraphOptions,u.readMessage(c,p.GestureClassifierGraphOptions.deserializeBinaryFromReader),l.setCannedGestureClassifierGraphOptions(c);break;case 4:c=new p.GestureClassifierGraphOptions,u.readMessage(c,p.GestureClassifierGraphOptions.deserializeBinaryFromReader),l.setCustomGestureClassifierGraphOptions(c);break;default:u.skipField()}return l},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.serializeBinary=function(){var l=new e.BinaryWriter;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.serializeBinaryToWriter(this,l),l.getResultBuffer()},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.serializeBinaryToWriter=function(l,u){var c=void 0;(c=l.getBaseOptions())!=null&&u.writeMessage(1,c,n.BaseOptions.serializeBinaryToWriter),(c=l.getGestureEmbedderGraphOptions())!=null&&u.writeMessage(2,c,d.GestureEmbedderGraphOptions.serializeBinaryToWriter),(c=l.getCannedGestureClassifierGraphOptions())!=null&&u.writeMessage(3,c,p.GestureClassifierGraphOptions.serializeBinaryToWriter),(c=l.getCustomGestureClassifierGraphOptions())!=null&&u.writeMessage(4,c,p.GestureClassifierGraphOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.ext=new e.ExtensionFieldInfo(463370452,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.toObject,0),i.CalculatorOptions.extensionsBinary[463370452]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.deserializeBinaryFromReader,!1),i.CalculatorOptions.extensions[463370452]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.ext,proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,n.BaseOptions,1)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.setBaseOptions=function(l){return e.Message.setWrapperField(this,1,l)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.getGestureEmbedderGraphOptions=function(){return e.Message.getWrapperField(this,d.GestureEmbedderGraphOptions,2)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.setGestureEmbedderGraphOptions=function(l){return e.Message.setWrapperField(this,2,l)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.clearGestureEmbedderGraphOptions=function(){return this.setGestureEmbedderGraphOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.hasGestureEmbedderGraphOptions=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.getCannedGestureClassifierGraphOptions=function(){return e.Message.getWrapperField(this,p.GestureClassifierGraphOptions,3)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.setCannedGestureClassifierGraphOptions=function(l){return e.Message.setWrapperField(this,3,l)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.clearCannedGestureClassifierGraphOptions=function(){return this.setCannedGestureClassifierGraphOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.hasCannedGestureClassifierGraphOptions=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.getCustomGestureClassifierGraphOptions=function(){return e.Message.getWrapperField(this,p.GestureClassifierGraphOptions,4)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.setCustomGestureClassifierGraphOptions=function(l){return e.Message.setWrapperField(this,4,l)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.clearCustomGestureClassifierGraphOptions=function(){return this.setCustomGestureClassifierGraphOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.hasCustomGestureClassifierGraphOptions=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.ext=new e.ExtensionFieldInfo(463370452,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.toObject,0),i.CalculatorOptions.extensionsBinary[463370452]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.deserializeBinaryFromReader,!1),i.CalculatorOptions.extensions[463370452]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.ext,r.object.extend(t,proto.mediapipe.tasks.vision.gesture_recognizer.proto)}(hand_gesture_recognizer_graph_options_pb);var hand_landmarker_graph_options_pb={},hand_detector_graph_options_pb={};(function(t){var e=googleProtobuf,r=e,s=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||s!==void 0&&s||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;r.object.extend(proto,o);var i=calculator_options_pb;r.object.extend(proto,i);var n=base_options_pb;r.object.extend(proto,n),r.exportSymbol("proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions",null,s),proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions=function(p){e.Message.initialize(this,p,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.displayName="proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.toObject=function(p){return proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.toObject(p,this)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.toObject=function(p,d){var l,u={baseOptions:(l=d.getBaseOptions())&&n.BaseOptions.toObject(p,l),minDetectionConfidence:e.Message.getFloatingPointFieldWithDefault(d,2,.5),numHands:(l=e.Message.getField(d,3))==null?void 0:l};return p&&(u.$jspbMessageInstance=d),u}),proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.deserializeBinary=function(p){var d=new e.BinaryReader(p),l=new proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions;return proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.deserializeBinaryFromReader(l,d)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.deserializeBinaryFromReader=function(p,d){for(;d.nextField()&&!d.isEndGroup();)switch(d.getFieldNumber()){case 1:var l=new n.BaseOptions;d.readMessage(l,n.BaseOptions.deserializeBinaryFromReader),p.setBaseOptions(l);break;case 2:l=d.readFloat(),p.setMinDetectionConfidence(l);break;case 3:l=d.readInt32(),p.setNumHands(l);break;default:d.skipField()}return p},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.serializeBinary=function(){var p=new e.BinaryWriter;return proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.serializeBinaryToWriter(this,p),p.getResultBuffer()},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.serializeBinaryToWriter=function(p,d){var l=void 0;(l=p.getBaseOptions())!=null&&d.writeMessage(1,l,n.BaseOptions.serializeBinaryToWriter),(l=e.Message.getField(p,2))!=null&&d.writeFloat(2,l),(l=e.Message.getField(p,3))!=null&&d.writeInt32(3,l)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.ext=new e.ExtensionFieldInfo(464864288,{ext:0},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions,proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.toObject,0),i.CalculatorOptions.extensionsBinary[464864288]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.deserializeBinaryFromReader,!1),i.CalculatorOptions.extensions[464864288]=proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.ext,proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,n.BaseOptions,1)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.setBaseOptions=function(p){return e.Message.setWrapperField(this,1,p)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.getMinDetectionConfidence=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,.5)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.setMinDetectionConfidence=function(p){return e.Message.setField(this,2,p)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.clearMinDetectionConfidence=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.hasMinDetectionConfidence=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.getNumHands=function(){return e.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.setNumHands=function(p){return e.Message.setField(this,3,p)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.clearNumHands=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.hasNumHands=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.ext=new e.ExtensionFieldInfo(464864288,{ext:0},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions,proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.toObject,0),i.CalculatorOptions.extensionsBinary[464864288]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.deserializeBinaryFromReader,!1),i.CalculatorOptions.extensions[464864288]=proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.ext,r.object.extend(t,proto.mediapipe.tasks.vision.hand_detector.proto)})(hand_detector_graph_options_pb);var hand_landmarks_detector_graph_options_pb={};(function(t){var e=googleProtobuf,r=e,s=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||s!==void 0&&s||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;r.object.extend(proto,o);var i=calculator_options_pb;r.object.extend(proto,i);var n=base_options_pb;r.object.extend(proto,n),r.exportSymbol("proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions",null,s),proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions=function(p){e.Message.initialize(this,p,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.displayName="proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.toObject=function(p){return proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.toObject(p,this)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.toObject=function(p,d){var l,u={baseOptions:(l=d.getBaseOptions())&&n.BaseOptions.toObject(p,l),minDetectionConfidence:e.Message.getFloatingPointFieldWithDefault(d,2,.5)};return p&&(u.$jspbMessageInstance=d),u}),proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.deserializeBinary=function(p){var d=new e.BinaryReader(p),l=new proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions;return proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.deserializeBinaryFromReader(l,d)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.deserializeBinaryFromReader=function(p,d){for(;d.nextField()&&!d.isEndGroup();)switch(d.getFieldNumber()){case 1:var l=new n.BaseOptions;d.readMessage(l,n.BaseOptions.deserializeBinaryFromReader),p.setBaseOptions(l);break;case 2:l=d.readFloat(),p.setMinDetectionConfidence(l);break;default:d.skipField()}return p},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.serializeBinary=function(){var p=new e.BinaryWriter;return proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.serializeBinaryToWriter(this,p),p.getResultBuffer()},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.serializeBinaryToWriter=function(p,d){var l=void 0;(l=p.getBaseOptions())!=null&&d.writeMessage(1,l,n.BaseOptions.serializeBinaryToWriter),(l=e.Message.getField(p,2))!=null&&d.writeFloat(2,l)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.ext=new e.ExtensionFieldInfo(474472470,{ext:0},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.toObject,0),i.CalculatorOptions.extensionsBinary[474472470]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.deserializeBinaryFromReader,!1),i.CalculatorOptions.extensions[474472470]=proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.ext,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,n.BaseOptions,1)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.setBaseOptions=function(p){return e.Message.setWrapperField(this,1,p)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.getMinDetectionConfidence=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,.5)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.setMinDetectionConfidence=function(p){return e.Message.setField(this,2,p)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.clearMinDetectionConfidence=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.hasMinDetectionConfidence=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.ext=new e.ExtensionFieldInfo(474472470,{ext:0},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.toObject,0),i.CalculatorOptions.extensionsBinary[474472470]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.deserializeBinaryFromReader,!1),i.CalculatorOptions.extensions[474472470]=proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.ext,r.object.extend(t,proto.mediapipe.tasks.vision.hand_landmarker.proto)})(hand_landmarks_detector_graph_options_pb),function(t){var e=googleProtobuf,r=e,s=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||s!==void 0&&s||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;r.object.extend(proto,o);var i=calculator_options_pb;r.object.extend(proto,i);var n=base_options_pb;r.object.extend(proto,n);var p=hand_detector_graph_options_pb;r.object.extend(proto,p);var d=hand_landmarks_detector_graph_options_pb;r.object.extend(proto,d),r.exportSymbol("proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions",null,s),proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions=function(l){e.Message.initialize(this,l,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.displayName="proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.toObject=function(l){return proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.toObject(l,this)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.toObject=function(l,u){var c,g={baseOptions:(c=u.getBaseOptions())&&n.BaseOptions.toObject(l,c),handDetectorGraphOptions:(c=u.getHandDetectorGraphOptions())&&p.HandDetectorGraphOptions.toObject(l,c),handLandmarksDetectorGraphOptions:(c=u.getHandLandmarksDetectorGraphOptions())&&d.HandLandmarksDetectorGraphOptions.toObject(l,c),minTrackingConfidence:e.Message.getFloatingPointFieldWithDefault(u,4,.5)};return l&&(g.$jspbMessageInstance=u),g}),proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.deserializeBinary=function(l){var u=new e.BinaryReader(l),c=new proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions;return proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.deserializeBinaryFromReader(c,u)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.deserializeBinaryFromReader=function(l,u){for(;u.nextField()&&!u.isEndGroup();)switch(u.getFieldNumber()){case 1:var c=new n.BaseOptions;u.readMessage(c,n.BaseOptions.deserializeBinaryFromReader),l.setBaseOptions(c);break;case 2:c=new p.HandDetectorGraphOptions,u.readMessage(c,p.HandDetectorGraphOptions.deserializeBinaryFromReader),l.setHandDetectorGraphOptions(c);break;case 3:c=new d.HandLandmarksDetectorGraphOptions,u.readMessage(c,d.HandLandmarksDetectorGraphOptions.deserializeBinaryFromReader),l.setHandLandmarksDetectorGraphOptions(c);break;case 4:c=u.readFloat(),l.setMinTrackingConfidence(c);break;default:u.skipField()}return l},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.serializeBinary=function(){var l=new e.BinaryWriter;return proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.serializeBinaryToWriter(this,l),l.getResultBuffer()},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.serializeBinaryToWriter=function(l,u){var c=void 0;(c=l.getBaseOptions())!=null&&u.writeMessage(1,c,n.BaseOptions.serializeBinaryToWriter),(c=l.getHandDetectorGraphOptions())!=null&&u.writeMessage(2,c,p.HandDetectorGraphOptions.serializeBinaryToWriter),(c=l.getHandLandmarksDetectorGraphOptions())!=null&&u.writeMessage(3,c,d.HandLandmarksDetectorGraphOptions.serializeBinaryToWriter),(c=e.Message.getField(l,4))!=null&&u.writeFloat(4,c)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.ext=new e.ExtensionFieldInfo(462713202,{ext:0},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.toObject,0),i.CalculatorOptions.extensionsBinary[462713202]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.deserializeBinaryFromReader,!1),i.CalculatorOptions.extensions[462713202]=proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.ext,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,n.BaseOptions,1)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.setBaseOptions=function(l){return e.Message.setWrapperField(this,1,l)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.getHandDetectorGraphOptions=function(){return e.Message.getWrapperField(this,p.HandDetectorGraphOptions,2)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.setHandDetectorGraphOptions=function(l){return e.Message.setWrapperField(this,2,l)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.clearHandDetectorGraphOptions=function(){return this.setHandDetectorGraphOptions(void 0)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.hasHandDetectorGraphOptions=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.getHandLandmarksDetectorGraphOptions=function(){return e.Message.getWrapperField(this,d.HandLandmarksDetectorGraphOptions,3)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.setHandLandmarksDetectorGraphOptions=function(l){return e.Message.setWrapperField(this,3,l)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.clearHandLandmarksDetectorGraphOptions=function(){return this.setHandLandmarksDetectorGraphOptions(void 0)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.hasHandLandmarksDetectorGraphOptions=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.getMinTrackingConfidence=function(){return e.Message.getFloatingPointFieldWithDefault(this,4,.5)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.setMinTrackingConfidence=function(l){return e.Message.setField(this,4,l)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.clearMinTrackingConfidence=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.hasMinTrackingConfidence=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.ext=new e.ExtensionFieldInfo(462713202,{ext:0},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.toObject,0),i.CalculatorOptions.extensionsBinary[462713202]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.deserializeBinaryFromReader,!1),i.CalculatorOptions.extensions[462713202]=proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.ext,r.object.extend(t,proto.mediapipe.tasks.vision.hand_landmarker.proto)}(hand_landmarker_graph_options_pb),function(t){var e=googleProtobuf,r=e,s=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||s!==void 0&&s||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;r.object.extend(proto,o);var i=calculator_options_pb;r.object.extend(proto,i);var n=base_options_pb;r.object.extend(proto,n);var p=hand_gesture_recognizer_graph_options_pb;r.object.extend(proto,p);var d=hand_landmarker_graph_options_pb;r.object.extend(proto,d),r.exportSymbol("proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions",null,s),proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions=function(l){e.Message.initialize(this,l,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.displayName="proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.toObject=function(l){return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.toObject(l,this)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.toObject=function(l,u){var c,g={baseOptions:(c=u.getBaseOptions())&&n.BaseOptions.toObject(l,c),handLandmarkerGraphOptions:(c=u.getHandLandmarkerGraphOptions())&&d.HandLandmarkerGraphOptions.toObject(l,c),handGestureRecognizerGraphOptions:(c=u.getHandGestureRecognizerGraphOptions())&&p.HandGestureRecognizerGraphOptions.toObject(l,c)};return l&&(g.$jspbMessageInstance=u),g}),proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.deserializeBinary=function(l){var u=new e.BinaryReader(l),c=new proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.deserializeBinaryFromReader(c,u)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.deserializeBinaryFromReader=function(l,u){for(;u.nextField()&&!u.isEndGroup();)switch(u.getFieldNumber()){case 1:var c=new n.BaseOptions;u.readMessage(c,n.BaseOptions.deserializeBinaryFromReader),l.setBaseOptions(c);break;case 2:c=new d.HandLandmarkerGraphOptions,u.readMessage(c,d.HandLandmarkerGraphOptions.deserializeBinaryFromReader),l.setHandLandmarkerGraphOptions(c);break;case 3:c=new p.HandGestureRecognizerGraphOptions,u.readMessage(c,p.HandGestureRecognizerGraphOptions.deserializeBinaryFromReader),l.setHandGestureRecognizerGraphOptions(c);break;default:u.skipField()}return l},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.serializeBinary=function(){var l=new e.BinaryWriter;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.serializeBinaryToWriter(this,l),l.getResultBuffer()},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.serializeBinaryToWriter=function(l,u){var c=void 0;(c=l.getBaseOptions())!=null&&u.writeMessage(1,c,n.BaseOptions.serializeBinaryToWriter),(c=l.getHandLandmarkerGraphOptions())!=null&&u.writeMessage(2,c,d.HandLandmarkerGraphOptions.serializeBinaryToWriter),(c=l.getHandGestureRecognizerGraphOptions())!=null&&u.writeMessage(3,c,p.HandGestureRecognizerGraphOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.ext=new e.ExtensionFieldInfo(479097054,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.toObject,0),i.CalculatorOptions.extensionsBinary[479097054]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.deserializeBinaryFromReader,!1),i.CalculatorOptions.extensions[479097054]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.ext,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,n.BaseOptions,1)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.setBaseOptions=function(l){return e.Message.setWrapperField(this,1,l)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.getHandLandmarkerGraphOptions=function(){return e.Message.getWrapperField(this,d.HandLandmarkerGraphOptions,2)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.setHandLandmarkerGraphOptions=function(l){return e.Message.setWrapperField(this,2,l)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.clearHandLandmarkerGraphOptions=function(){return this.setHandLandmarkerGraphOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.hasHandLandmarkerGraphOptions=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.getHandGestureRecognizerGraphOptions=function(){return e.Message.getWrapperField(this,p.HandGestureRecognizerGraphOptions,3)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.setHandGestureRecognizerGraphOptions=function(l){return e.Message.setWrapperField(this,3,l)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.clearHandGestureRecognizerGraphOptions=function(){return this.setHandGestureRecognizerGraphOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.hasHandGestureRecognizerGraphOptions=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.ext=new e.ExtensionFieldInfo(479097054,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.toObject,0),i.CalculatorOptions.extensionsBinary[479097054]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.deserializeBinaryFromReader,!1),i.CalculatorOptions.extensions[479097054]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.ext,r.object.extend(t,proto.mediapipe.tasks.vision.gesture_recognizer.proto)}(gesture_recognizer_graph_options_pb);var classifier_options={};Object.defineProperty(classifier_options,"__esModule",{value:!0}),classifier_options.convertClassifierOptionsToProto=void 0;const classifier_options_pb_1=classifier_options_pb;function convertClassifierOptionsToProto(t,e){const r=e?e.clone():new classifier_options_pb_1.ClassifierOptions;return t.displayNamesLocale!==void 0?r.setDisplayNamesLocale(t.displayNamesLocale):t.displayNamesLocale===void 0&&r.clearDisplayNamesLocale(),t.maxResults!==void 0?r.setMaxResults(t.maxResults):"maxResults"in t&&r.clearMaxResults(),t.scoreThreshold!==void 0?r.setScoreThreshold(t.scoreThreshold):"scoreThreshold"in t&&r.clearScoreThreshold(),t.categoryAllowlist!==void 0?r.setCategoryAllowlistList(t.categoryAllowlist):"categoryAllowlist"in t&&r.clearCategoryAllowlistList(),t.categoryDenylist!==void 0?r.setCategoryDenylistList(t.categoryDenylist):"categoryDenylist"in t&&r.clearCategoryDenylistList(),r}classifier_options.convertClassifierOptionsToProto=convertClassifierOptionsToProto;var hand_landmarks_connections={};Object.defineProperty(hand_landmarks_connections,"__esModule",{value:!0}),hand_landmarks_connections.HAND_CONNECTIONS=void 0,hand_landmarks_connections.HAND_CONNECTIONS=[{start:0,end:1},{start:1,end:2},{start:2,end:3},{start:3,end:4},{start:0,end:5},{start:5,end:6},{start:6,end:7},{start:7,end:8},{start:5,end:9},{start:9,end:10},{start:10,end:11},{start:11,end:12},{start:9,end:13},{start:13,end:14},{start:14,end:15},{start:15,end:16},{start:13,end:17},{start:0,end:17},{start:17,end:18},{start:18,end:19},{start:19,end:20}];var gesture_recognizer_options={};Object.defineProperty(gesture_recognizer_options,"__esModule",{value:!0});var gesture_recognizer_result={};Object.defineProperty(gesture_recognizer_result,"__esModule",{value:!0}),function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(M,E,B,N){N===void 0&&(N=B);var w=Object.getOwnPropertyDescriptor(E,B);w&&!("get"in w?!E.__esModule:w.writable||w.configurable)||(w={enumerable:!0,get:function(){return E[B]}}),Object.defineProperty(M,N,w)}:function(M,E,B,N){N===void 0&&(N=B),M[N]=E[B]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(M,E){for(var B in M)B==="default"||Object.prototype.hasOwnProperty.call(E,B)||e(E,M,B)};Object.defineProperty(t,"__esModule",{value:!0}),t.GestureRecognizer=void 0;const s=calculator_pb,o=calculator_options_pb,i=classification_pb,n=landmark_pb,p=base_options_pb,d=gesture_classifier_graph_options_pb,l=gesture_recognizer_graph_options_pb,u=hand_gesture_recognizer_graph_options_pb,c=hand_detector_graph_options_pb,g=hand_landmarker_graph_options_pb,f=hand_landmarks_detector_graph_options_pb,y=classifier_options,_=vision_task_runner,m=hand_landmarks_connections;r(gesture_recognizer_options,t),r(gesture_recognizer_result,t);const h="image_in",R="norm_rect",b="hand_gestures",v="hand_landmarks",S="world_hand_landmarks",T="handedness",O=.5;class C extends _.VisionTaskRunner{static createFromOptions(E,B){return _.VisionTaskRunner.createVisionInstance(C,E,B)}static createFromModelBuffer(E,B){return _.VisionTaskRunner.createVisionInstance(C,E,{baseOptions:{modelAssetBuffer:B}})}static createFromModelPath(E,B){return _.VisionTaskRunner.createVisionInstance(C,E,{baseOptions:{modelAssetPath:B}})}constructor(E,B){super(new _.VisionGraphRunner(E,B),h,R,!1),this.gestures=[],this.landmarks=[],this.worldLandmarks=[],this.handednesses=[],this.options=new l.GestureRecognizerGraphOptions,this.options.setBaseOptions(new p.BaseOptions),this.handLandmarkerGraphOptions=new g.HandLandmarkerGraphOptions,this.options.setHandLandmarkerGraphOptions(this.handLandmarkerGraphOptions),this.handLandmarksDetectorGraphOptions=new f.HandLandmarksDetectorGraphOptions,this.handLandmarkerGraphOptions.setHandLandmarksDetectorGraphOptions(this.handLandmarksDetectorGraphOptions),this.handDetectorGraphOptions=new c.HandDetectorGraphOptions,this.handLandmarkerGraphOptions.setHandDetectorGraphOptions(this.handDetectorGraphOptions),this.handGestureRecognizerGraphOptions=new u.HandGestureRecognizerGraphOptions,this.options.setHandGestureRecognizerGraphOptions(this.handGestureRecognizerGraphOptions),this.handDetectorGraphOptions.setMinDetectionConfidence(O),this.handLandmarkerGraphOptions.setMinTrackingConfidence(O),this.handLandmarksDetectorGraphOptions.setMinDetectionConfidence(O)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(E){this.options.setBaseOptions(E)}setOptions(E){var B,N,w,D,G,K,j,Y;if(this.handDetectorGraphOptions.setNumHands((B=E.numHands)!==null&&B!==void 0?B:1),"minHandDetectionConfidence"in E&&this.handDetectorGraphOptions.setMinDetectionConfidence((N=E.minHandDetectionConfidence)!==null&&N!==void 0?N:O),"minTrackingConfidence"in E&&this.handLandmarkerGraphOptions.setMinTrackingConfidence((w=E.minTrackingConfidence)!==null&&w!==void 0?w:O),"minHandPresenceConfidence"in E&&this.handLandmarksDetectorGraphOptions.setMinDetectionConfidence((D=E.minHandPresenceConfidence)!==null&&D!==void 0?D:O),E.cannedGesturesClassifierOptions){const J=new d.GestureClassifierGraphOptions;J.setClassifierOptions((0,y.convertClassifierOptionsToProto)(E.cannedGesturesClassifierOptions,(G=this.handGestureRecognizerGraphOptions.getCannedGestureClassifierGraphOptions())===null||G===void 0?void 0:G.getClassifierOptions())),this.handGestureRecognizerGraphOptions.setCannedGestureClassifierGraphOptions(J)}else E.cannedGesturesClassifierOptions===void 0&&((K=this.handGestureRecognizerGraphOptions.getCannedGestureClassifierGraphOptions())===null||K===void 0||K.clearClassifierOptions());if(E.customGesturesClassifierOptions){const J=new d.GestureClassifierGraphOptions;J.setClassifierOptions((0,y.convertClassifierOptionsToProto)(E.customGesturesClassifierOptions,(j=this.handGestureRecognizerGraphOptions.getCustomGestureClassifierGraphOptions())===null||j===void 0?void 0:j.getClassifierOptions())),this.handGestureRecognizerGraphOptions.setCustomGestureClassifierGraphOptions(J)}else E.customGesturesClassifierOptions===void 0&&((Y=this.handGestureRecognizerGraphOptions.getCustomGestureClassifierGraphOptions())===null||Y===void 0||Y.clearClassifierOptions());return this.applyOptions(E)}recognize(E,B){return this.resetResults(),this.processImageData(E,B),this.processResults()}recognizeForVideo(E,B,N){return this.resetResults(),this.processVideoData(E,N,B),this.processResults()}resetResults(){this.gestures=[],this.landmarks=[],this.worldLandmarks=[],this.handednesses=[]}processResults(){return this.gestures.length===0?{gestures:[],landmarks:[],worldLandmarks:[],handednesses:[]}:{gestures:this.gestures,landmarks:this.landmarks,worldLandmarks:this.worldLandmarks,handednesses:this.handednesses}}toJsCategories(E,B=!0){var N,w,D;const G=[];for(const K of E){const j=i.ClassificationList.deserializeBinary(K),Y=[];for(const J of j.getClassificationList()){const q=B&&J.hasIndex()?J.getIndex():-1;Y.push({score:(N=J.getScore())!==null&&N!==void 0?N:0,index:q,categoryName:(w=J.getLabel())!==null&&w!==void 0?w:"",displayName:(D=J.getDisplayName())!==null&&D!==void 0?D:""})}G.push(Y)}return G}addJsLandmarks(E){var B,N,w;for(const D of E){const G=n.NormalizedLandmarkList.deserializeBinary(D),K=[];for(const j of G.getLandmarkList())K.push({x:(B=j.getX())!==null&&B!==void 0?B:0,y:(N=j.getY())!==null&&N!==void 0?N:0,z:(w=j.getZ())!==null&&w!==void 0?w:0});this.landmarks.push(K)}}adddJsWorldLandmarks(E){var B,N,w;for(const D of E){const G=n.LandmarkList.deserializeBinary(D),K=[];for(const j of G.getLandmarkList())K.push({x:(B=j.getX())!==null&&B!==void 0?B:0,y:(N=j.getY())!==null&&N!==void 0?N:0,z:(w=j.getZ())!==null&&w!==void 0?w:0});this.worldLandmarks.push(K)}}refreshGraph(){const E=new s.CalculatorGraphConfig;E.addInputStream(h),E.addInputStream(R),E.addOutputStream(b),E.addOutputStream(v),E.addOutputStream(S),E.addOutputStream(T);const B=new o.CalculatorOptions;B.setExtension(l.GestureRecognizerGraphOptions.ext,this.options);const N=new s.CalculatorGraphConfig.Node;N.setCalculator("mediapipe.tasks.vision.gesture_recognizer.GestureRecognizerGraph"),N.addInputStream("IMAGE:"+h),N.addInputStream("NORM_RECT:"+R),N.addOutputStream("HAND_GESTURES:"+b),N.addOutputStream("LANDMARKS:"+v),N.addOutputStream("WORLD_LANDMARKS:"+S),N.addOutputStream("HANDEDNESS:"+T),N.setOptions(B),E.addNode(N),this.graphRunner.attachProtoVectorListener(v,(D,G)=>{this.addJsLandmarks(D),this.setLatestOutputTimestamp(G)}),this.graphRunner.attachEmptyPacketListener(v,D=>{this.setLatestOutputTimestamp(D)}),this.graphRunner.attachProtoVectorListener(S,(D,G)=>{this.adddJsWorldLandmarks(D),this.setLatestOutputTimestamp(G)}),this.graphRunner.attachEmptyPacketListener(S,D=>{this.setLatestOutputTimestamp(D)}),this.graphRunner.attachProtoVectorListener(b,(D,G)=>{this.gestures.push(...this.toJsCategories(D,!1)),this.setLatestOutputTimestamp(G)}),this.graphRunner.attachEmptyPacketListener(b,D=>{this.setLatestOutputTimestamp(D)}),this.graphRunner.attachProtoVectorListener(T,(D,G)=>{this.handednesses.push(...this.toJsCategories(D)),this.setLatestOutputTimestamp(G)}),this.graphRunner.attachEmptyPacketListener(T,D=>{this.setLatestOutputTimestamp(D)});const w=E.serializeBinary();this.setGraph(new Uint8Array(w),!0)}}t.GestureRecognizer=C,C.HAND_CONNECTIONS=m.HAND_CONNECTIONS}(gesture_recognizer);var hand_landmarker={},hand_landmarker_options={};Object.defineProperty(hand_landmarker_options,"__esModule",{value:!0});var hand_landmarker_result={};Object.defineProperty(hand_landmarker_result,"__esModule",{value:!0}),function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(S,T,O,C){C===void 0&&(C=O);var M=Object.getOwnPropertyDescriptor(T,O);M&&!("get"in M?!T.__esModule:M.writable||M.configurable)||(M={enumerable:!0,get:function(){return T[O]}}),Object.defineProperty(S,C,M)}:function(S,T,O,C){C===void 0&&(C=O),S[C]=T[O]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(S,T){for(var O in S)O==="default"||Object.prototype.hasOwnProperty.call(T,O)||e(T,S,O)};Object.defineProperty(t,"__esModule",{value:!0}),t.HandLandmarker=void 0;const s=calculator_pb,o=calculator_options_pb,i=classification_pb,n=landmark_pb,p=base_options_pb,d=hand_detector_graph_options_pb,l=hand_landmarker_graph_options_pb,u=hand_landmarks_detector_graph_options_pb,c=landmark_result,g=vision_task_runner,f=hand_landmarks_connections;r(hand_landmarker_options,t),r(hand_landmarker_result,t);const y="image_in",_="norm_rect",m="hand_landmarks",h="world_hand_landmarks",R="handedness",b=.5;class v extends g.VisionTaskRunner{static createFromOptions(T,O){return g.VisionTaskRunner.createVisionInstance(v,T,O)}static createFromModelBuffer(T,O){return g.VisionTaskRunner.createVisionInstance(v,T,{baseOptions:{modelAssetBuffer:O}})}static createFromModelPath(T,O){return g.VisionTaskRunner.createVisionInstance(v,T,{baseOptions:{modelAssetPath:O}})}constructor(T,O){super(new g.VisionGraphRunner(T,O),y,_,!1),this.landmarks=[],this.worldLandmarks=[],this.handednesses=[],this.options=new l.HandLandmarkerGraphOptions,this.options.setBaseOptions(new p.BaseOptions),this.handLandmarksDetectorGraphOptions=new u.HandLandmarksDetectorGraphOptions,this.options.setHandLandmarksDetectorGraphOptions(this.handLandmarksDetectorGraphOptions),this.handDetectorGraphOptions=new d.HandDetectorGraphOptions,this.options.setHandDetectorGraphOptions(this.handDetectorGraphOptions),this.initDefaults()}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(T){this.options.setBaseOptions(T)}setOptions(T){var O,C,M,E;return"numHands"in T&&this.handDetectorGraphOptions.setNumHands((O=T.numHands)!==null&&O!==void 0?O:1),"minHandDetectionConfidence"in T&&this.handDetectorGraphOptions.setMinDetectionConfidence((C=T.minHandDetectionConfidence)!==null&&C!==void 0?C:b),"minTrackingConfidence"in T&&this.options.setMinTrackingConfidence((M=T.minTrackingConfidence)!==null&&M!==void 0?M:b),"minHandPresenceConfidence"in T&&this.handLandmarksDetectorGraphOptions.setMinDetectionConfidence((E=T.minHandPresenceConfidence)!==null&&E!==void 0?E:b),this.applyOptions(T)}detect(T,O){return this.resetResults(),this.processImageData(T,O),this.processResults()}detectForVideo(T,O,C){return this.resetResults(),this.processVideoData(T,C,O),this.processResults()}resetResults(){this.landmarks=[],this.worldLandmarks=[],this.handednesses=[]}processResults(){return{landmarks:this.landmarks,worldLandmarks:this.worldLandmarks,handednesses:this.handednesses}}initDefaults(){this.handDetectorGraphOptions.setNumHands(1),this.handDetectorGraphOptions.setMinDetectionConfidence(b),this.handLandmarksDetectorGraphOptions.setMinDetectionConfidence(b),this.options.setMinTrackingConfidence(b)}toJsCategories(T){var O,C,M,E;const B=[];for(const N of T){const w=i.ClassificationList.deserializeBinary(N),D=[];for(const G of w.getClassificationList())D.push({score:(O=G.getScore())!==null&&O!==void 0?O:0,index:(C=G.getIndex())!==null&&C!==void 0?C:-1,categoryName:(M=G.getLabel())!==null&&M!==void 0?M:"",displayName:(E=G.getDisplayName())!==null&&E!==void 0?E:""});B.push(D)}return B}addJsLandmarks(T){for(const O of T){const C=n.NormalizedLandmarkList.deserializeBinary(O);this.landmarks.push((0,c.convertToLandmarks)(C))}}adddJsWorldLandmarks(T){for(const O of T){const C=n.LandmarkList.deserializeBinary(O);this.worldLandmarks.push((0,c.convertToWorldLandmarks)(C))}}refreshGraph(){const T=new s.CalculatorGraphConfig;T.addInputStream(y),T.addInputStream(_),T.addOutputStream(m),T.addOutputStream(h),T.addOutputStream(R);const O=new o.CalculatorOptions;O.setExtension(l.HandLandmarkerGraphOptions.ext,this.options);const C=new s.CalculatorGraphConfig.Node;C.setCalculator("mediapipe.tasks.vision.hand_landmarker.HandLandmarkerGraph"),C.addInputStream("IMAGE:"+y),C.addInputStream("NORM_RECT:"+_),C.addOutputStream("LANDMARKS:"+m),C.addOutputStream("WORLD_LANDMARKS:"+h),C.addOutputStream("HANDEDNESS:"+R),C.setOptions(O),T.addNode(C),this.graphRunner.attachProtoVectorListener(m,(E,B)=>{this.addJsLandmarks(E),this.setLatestOutputTimestamp(B)}),this.graphRunner.attachEmptyPacketListener(m,E=>{this.setLatestOutputTimestamp(E)}),this.graphRunner.attachProtoVectorListener(h,(E,B)=>{this.adddJsWorldLandmarks(E),this.setLatestOutputTimestamp(B)}),this.graphRunner.attachEmptyPacketListener(h,E=>{this.setLatestOutputTimestamp(E)}),this.graphRunner.attachProtoVectorListener(R,(E,B)=>{this.handednesses.push(...this.toJsCategories(E)),this.setLatestOutputTimestamp(B)}),this.graphRunner.attachEmptyPacketListener(R,E=>{this.setLatestOutputTimestamp(E)});const M=T.serializeBinary();this.setGraph(new Uint8Array(M),!0)}}t.HandLandmarker=v,v.HAND_CONNECTIONS=f.HAND_CONNECTIONS}(hand_landmarker);var image_classifier={},classifications_pb={};(function(t){var e=googleProtobuf,r=e,s=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||s!==void 0&&s||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=classification_pb;r.object.extend(proto,o),r.exportSymbol("proto.mediapipe.tasks.components.containers.proto.ClassificationResult",null,s),r.exportSymbol("proto.mediapipe.tasks.components.containers.proto.Classifications",null,s),proto.mediapipe.tasks.components.containers.proto.Classifications=function(i){e.Message.initialize(this,i,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.components.containers.proto.Classifications,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.containers.proto.Classifications.displayName="proto.mediapipe.tasks.components.containers.proto.Classifications"),proto.mediapipe.tasks.components.containers.proto.ClassificationResult=function(i){e.Message.initialize(this,i,0,-1,proto.mediapipe.tasks.components.containers.proto.ClassificationResult.repeatedFields_,null)},r.inherits(proto.mediapipe.tasks.components.containers.proto.ClassificationResult,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.containers.proto.ClassificationResult.displayName="proto.mediapipe.tasks.components.containers.proto.ClassificationResult"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.toObject=function(i){return proto.mediapipe.tasks.components.containers.proto.Classifications.toObject(i,this)},proto.mediapipe.tasks.components.containers.proto.Classifications.toObject=function(i,n){var p,d={classificationList:(p=n.getClassificationList())&&o.ClassificationList.toObject(i,p),headIndex:(p=e.Message.getField(n,2))==null?void 0:p,headName:(p=e.Message.getField(n,3))==null?void 0:p};return i&&(d.$jspbMessageInstance=n),d}),proto.mediapipe.tasks.components.containers.proto.Classifications.deserializeBinary=function(i){var n=new e.BinaryReader(i),p=new proto.mediapipe.tasks.components.containers.proto.Classifications;return proto.mediapipe.tasks.components.containers.proto.Classifications.deserializeBinaryFromReader(p,n)},proto.mediapipe.tasks.components.containers.proto.Classifications.deserializeBinaryFromReader=function(i,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 4:var p=new o.ClassificationList;n.readMessage(p,o.ClassificationList.deserializeBinaryFromReader),i.setClassificationList(p);break;case 2:p=n.readInt32(),i.setHeadIndex(p);break;case 3:p=n.readString(),i.setHeadName(p);break;default:n.skipField()}return i},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.serializeBinary=function(){var i=new e.BinaryWriter;return proto.mediapipe.tasks.components.containers.proto.Classifications.serializeBinaryToWriter(this,i),i.getResultBuffer()},proto.mediapipe.tasks.components.containers.proto.Classifications.serializeBinaryToWriter=function(i,n){var p=void 0;(p=i.getClassificationList())!=null&&n.writeMessage(4,p,o.ClassificationList.serializeBinaryToWriter),(p=e.Message.getField(i,2))!=null&&n.writeInt32(2,p),(p=e.Message.getField(i,3))!=null&&n.writeString(3,p)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.getClassificationList=function(){return e.Message.getWrapperField(this,o.ClassificationList,4)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.setClassificationList=function(i){return e.Message.setWrapperField(this,4,i)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.clearClassificationList=function(){return this.setClassificationList(void 0)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.hasClassificationList=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.getHeadIndex=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.setHeadIndex=function(i){return e.Message.setField(this,2,i)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.clearHeadIndex=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.hasHeadIndex=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.getHeadName=function(){return e.Message.getFieldWithDefault(this,3,"")},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.setHeadName=function(i){return e.Message.setField(this,3,i)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.clearHeadName=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.hasHeadName=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.toObject=function(i){return proto.mediapipe.tasks.components.containers.proto.ClassificationResult.toObject(i,this)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.toObject=function(i,n){var p,d={classificationsList:e.Message.toObjectList(n.getClassificationsList(),proto.mediapipe.tasks.components.containers.proto.Classifications.toObject,i),timestampMs:(p=e.Message.getField(n,2))==null?void 0:p};return i&&(d.$jspbMessageInstance=n),d}),proto.mediapipe.tasks.components.containers.proto.ClassificationResult.deserializeBinary=function(i){var n=new e.BinaryReader(i),p=new proto.mediapipe.tasks.components.containers.proto.ClassificationResult;return proto.mediapipe.tasks.components.containers.proto.ClassificationResult.deserializeBinaryFromReader(p,n)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.deserializeBinaryFromReader=function(i,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:var p=new proto.mediapipe.tasks.components.containers.proto.Classifications;n.readMessage(p,proto.mediapipe.tasks.components.containers.proto.Classifications.deserializeBinaryFromReader),i.addClassifications(p);break;case 2:p=n.readInt64(),i.setTimestampMs(p);break;default:n.skipField()}return i},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.serializeBinary=function(){var i=new e.BinaryWriter;return proto.mediapipe.tasks.components.containers.proto.ClassificationResult.serializeBinaryToWriter(this,i),i.getResultBuffer()},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.serializeBinaryToWriter=function(i,n){var p=void 0;(p=i.getClassificationsList()).length>0&&n.writeRepeatedMessage(1,p,proto.mediapipe.tasks.components.containers.proto.Classifications.serializeBinaryToWriter),(p=e.Message.getField(i,2))!=null&&n.writeInt64(2,p)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.getClassificationsList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.tasks.components.containers.proto.Classifications,1)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.setClassificationsList=function(i){return e.Message.setRepeatedWrapperField(this,1,i)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.addClassifications=function(i,n){return e.Message.addToRepeatedWrapperField(this,1,i,proto.mediapipe.tasks.components.containers.proto.Classifications,n)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.clearClassificationsList=function(){return this.setClassificationsList([])},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.getTimestampMs=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.setTimestampMs=function(i){return e.Message.setField(this,2,i)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.clearTimestampMs=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.hasTimestampMs=function(){return e.Message.getField(this,2)!=null},r.object.extend(t,proto.mediapipe.tasks.components.containers.proto)})(classifications_pb);var image_classifier_graph_options_pb={};(function(t){var e=googleProtobuf,r=e,s=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||s!==void 0&&s||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;r.object.extend(proto,o);var i=calculator_options_pb;r.object.extend(proto,i);var n=classifier_options_pb;r.object.extend(proto,n);var p=base_options_pb;r.object.extend(proto,p),r.exportSymbol("proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions",null,s),proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions=function(d){e.Message.initialize(this,d,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.displayName="proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.toObject=function(d){return proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.toObject(d,this)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.toObject=function(d,l){var u,c={baseOptions:(u=l.getBaseOptions())&&p.BaseOptions.toObject(d,u),classifierOptions:(u=l.getClassifierOptions())&&n.ClassifierOptions.toObject(d,u)};return d&&(c.$jspbMessageInstance=l),c}),proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.deserializeBinary=function(d){var l=new e.BinaryReader(d),u=new proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions;return proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.deserializeBinaryFromReader(u,l)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.deserializeBinaryFromReader=function(d,l){for(;l.nextField()&&!l.isEndGroup();)switch(l.getFieldNumber()){case 1:var u=new p.BaseOptions;l.readMessage(u,p.BaseOptions.deserializeBinaryFromReader),d.setBaseOptions(u);break;case 2:u=new n.ClassifierOptions,l.readMessage(u,n.ClassifierOptions.deserializeBinaryFromReader),d.setClassifierOptions(u);break;default:l.skipField()}return d},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.serializeBinary=function(){var d=new e.BinaryWriter;return proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.serializeBinaryToWriter(this,d),d.getResultBuffer()},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.serializeBinaryToWriter=function(d,l){var u=void 0;(u=d.getBaseOptions())!=null&&l.writeMessage(1,u,p.BaseOptions.serializeBinaryToWriter),(u=d.getClassifierOptions())!=null&&l.writeMessage(2,u,n.ClassifierOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.ext=new e.ExtensionFieldInfo(456383383,{ext:0},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions,proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.toObject,0),i.CalculatorOptions.extensionsBinary[456383383]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.deserializeBinaryFromReader,!1),i.CalculatorOptions.extensions[456383383]=proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.ext,proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,p.BaseOptions,1)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.setBaseOptions=function(d){return e.Message.setWrapperField(this,1,d)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.getClassifierOptions=function(){return e.Message.getWrapperField(this,n.ClassifierOptions,2)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.setClassifierOptions=function(d){return e.Message.setWrapperField(this,2,d)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.clearClassifierOptions=function(){return this.setClassifierOptions(void 0)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.hasClassifierOptions=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.ext=new e.ExtensionFieldInfo(456383383,{ext:0},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions,proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.toObject,0),i.CalculatorOptions.extensionsBinary[456383383]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.deserializeBinaryFromReader,!1),i.CalculatorOptions.extensions[456383383]=proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.ext,r.object.extend(t,proto.mediapipe.tasks.vision.image_classifier.proto)})(image_classifier_graph_options_pb);var image_classifier_options={};Object.defineProperty(image_classifier_options,"__esModule",{value:!0});var image_classifier_result={};Object.defineProperty(image_classifier_result,"__esModule",{value:!0}),function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(_,m,h,R){R===void 0&&(R=h);var b=Object.getOwnPropertyDescriptor(m,h);b&&!("get"in b?!m.__esModule:b.writable||b.configurable)||(b={enumerable:!0,get:function(){return m[h]}}),Object.defineProperty(_,R,b)}:function(_,m,h,R){R===void 0&&(R=h),_[R]=m[h]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(_,m){for(var h in _)h==="default"||Object.prototype.hasOwnProperty.call(m,h)||e(m,_,h)};Object.defineProperty(t,"__esModule",{value:!0}),t.ImageClassifier=void 0;const s=calculator_pb,o=calculator_options_pb,i=classifications_pb,n=base_options_pb,p=image_classifier_graph_options_pb,d=classifier_options,l=classifier_result,u=vision_task_runner,c="input_image",g="norm_rect",f="classifications";r(image_classifier_options,t),r(image_classifier_result,t);class y extends u.VisionTaskRunner{static createFromOptions(m,h){return u.VisionTaskRunner.createVisionInstance(y,m,h)}static createFromModelBuffer(m,h){return u.VisionTaskRunner.createVisionInstance(y,m,{baseOptions:{modelAssetBuffer:h}})}static createFromModelPath(m,h){return u.VisionTaskRunner.createVisionInstance(y,m,{baseOptions:{modelAssetPath:h}})}constructor(m,h){super(new u.VisionGraphRunner(m,h),c,g,!0),this.classificationResult={classifications:[]},this.options=new p.ImageClassifierGraphOptions,this.options.setBaseOptions(new n.BaseOptions)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(m){this.options.setBaseOptions(m)}setOptions(m){return this.options.setClassifierOptions((0,d.convertClassifierOptionsToProto)(m,this.options.getClassifierOptions())),this.applyOptions(m)}classify(m,h){return this.classificationResult={classifications:[]},this.processImageData(m,h),this.classificationResult}classifyForVideo(m,h,R){return this.classificationResult={classifications:[]},this.processVideoData(m,R,h),this.classificationResult}refreshGraph(){const m=new s.CalculatorGraphConfig;m.addInputStream(c),m.addInputStream(g),m.addOutputStream(f);const h=new o.CalculatorOptions;h.setExtension(p.ImageClassifierGraphOptions.ext,this.options);const R=new s.CalculatorGraphConfig.Node;R.setCalculator("mediapipe.tasks.vision.image_classifier.ImageClassifierGraph"),R.addInputStream("IMAGE:"+c),R.addInputStream("NORM_RECT:"+g),R.addOutputStream("CLASSIFICATIONS:"+f),R.setOptions(h),m.addNode(R),this.graphRunner.attachProtoListener(f,(v,S)=>{this.classificationResult=(0,l.convertFromClassificationResultProto)(i.ClassificationResult.deserializeBinary(v)),this.setLatestOutputTimestamp(S)}),this.graphRunner.attachEmptyPacketListener(f,v=>{this.setLatestOutputTimestamp(v)});const b=m.serializeBinary();this.setGraph(new Uint8Array(b),!0)}}t.ImageClassifier=y}(image_classifier);var image_embedder={},embeddings_pb={};(function(t){var e=googleProtobuf,r=e,s=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||s!==void 0&&s||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.tasks.components.containers.proto.Embedding",null,s),r.exportSymbol("proto.mediapipe.tasks.components.containers.proto.Embedding.EmbeddingCase",null,s),r.exportSymbol("proto.mediapipe.tasks.components.containers.proto.EmbeddingResult",null,s),r.exportSymbol("proto.mediapipe.tasks.components.containers.proto.FloatEmbedding",null,s),r.exportSymbol("proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding",null,s),proto.mediapipe.tasks.components.containers.proto.FloatEmbedding=function(o){e.Message.initialize(this,o,0,-1,proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.repeatedFields_,null)},r.inherits(proto.mediapipe.tasks.components.containers.proto.FloatEmbedding,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.displayName="proto.mediapipe.tasks.components.containers.proto.FloatEmbedding"),proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding=function(o){e.Message.initialize(this,o,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.displayName="proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding"),proto.mediapipe.tasks.components.containers.proto.Embedding=function(o){e.Message.initialize(this,o,0,-1,null,proto.mediapipe.tasks.components.containers.proto.Embedding.oneofGroups_)},r.inherits(proto.mediapipe.tasks.components.containers.proto.Embedding,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.containers.proto.Embedding.displayName="proto.mediapipe.tasks.components.containers.proto.Embedding"),proto.mediapipe.tasks.components.containers.proto.EmbeddingResult=function(o){e.Message.initialize(this,o,0,-1,proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.repeatedFields_,null)},r.inherits(proto.mediapipe.tasks.components.containers.proto.EmbeddingResult,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.displayName="proto.mediapipe.tasks.components.containers.proto.EmbeddingResult"),proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.prototype.toObject=function(o){return proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.toObject(o,this)},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.toObject=function(o,i){var n,p={valuesList:(n=e.Message.getRepeatedFloatingPointField(i,1))==null?void 0:n};return o&&(p.$jspbMessageInstance=i),p}),proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.deserializeBinary=function(o){var i=new e.BinaryReader(o),n=new proto.mediapipe.tasks.components.containers.proto.FloatEmbedding;return proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.deserializeBinaryFromReader(n,i)},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.deserializeBinaryFromReader=function(o,i){for(;i.nextField()&&!i.isEndGroup();)if(i.getFieldNumber()===1)for(var n=i.isDelimited()?i.readPackedFloat():[i.readFloat()],p=0;p<n.length;p++)o.addValues(n[p]);else i.skipField();return o},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.serializeBinaryToWriter=function(o,i){var n;(n=o.getValuesList()).length>0&&i.writePackedFloat(1,n)},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.prototype.getValuesList=function(){return e.Message.getRepeatedFloatingPointField(this,1)},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.prototype.setValuesList=function(o){return e.Message.setField(this,1,o||[])},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.prototype.addValues=function(o,i){return e.Message.addToRepeatedField(this,1,o,i)},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.prototype.clearValuesList=function(){return this.setValuesList([])},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.toObject=function(o){return proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.toObject(o,this)},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.toObject=function(o,i){var n={values:i.getValues_asB64()};return o&&(n.$jspbMessageInstance=i),n}),proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.deserializeBinary=function(o){var i=new e.BinaryReader(o),n=new proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding;return proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.deserializeBinaryFromReader(n,i)},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.deserializeBinaryFromReader=function(o,i){for(;i.nextField()&&!i.isEndGroup();)if(i.getFieldNumber()===1){var n=i.readBytes();o.setValues(n)}else i.skipField();return o},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.serializeBinaryToWriter=function(o,i){var n;(n=e.Message.getField(o,1))!=null&&i.writeBytes(1,n)},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.getValues=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.getValues_asB64=function(){return e.Message.bytesAsB64(this.getValues())},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.getValues_asU8=function(){return e.Message.bytesAsU8(this.getValues())},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.setValues=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.clearValues=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.hasValues=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.components.containers.proto.Embedding.oneofGroups_=[[1,2]],proto.mediapipe.tasks.components.containers.proto.Embedding.EmbeddingCase={EMBEDDING_NOT_SET:0,FLOAT_EMBEDDING:1,QUANTIZED_EMBEDDING:2},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.getEmbeddingCase=function(){return e.Message.computeOneofCase(this,proto.mediapipe.tasks.components.containers.proto.Embedding.oneofGroups_[0])},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.toObject=function(o){return proto.mediapipe.tasks.components.containers.proto.Embedding.toObject(o,this)},proto.mediapipe.tasks.components.containers.proto.Embedding.toObject=function(o,i){var n,p={floatEmbedding:(n=i.getFloatEmbedding())&&proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.toObject(o,n),quantizedEmbedding:(n=i.getQuantizedEmbedding())&&proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.toObject(o,n),headIndex:(n=e.Message.getField(i,3))==null?void 0:n,headName:(n=e.Message.getField(i,4))==null?void 0:n};return o&&(p.$jspbMessageInstance=i),p}),proto.mediapipe.tasks.components.containers.proto.Embedding.deserializeBinary=function(o){var i=new e.BinaryReader(o),n=new proto.mediapipe.tasks.components.containers.proto.Embedding;return proto.mediapipe.tasks.components.containers.proto.Embedding.deserializeBinaryFromReader(n,i)},proto.mediapipe.tasks.components.containers.proto.Embedding.deserializeBinaryFromReader=function(o,i){for(;i.nextField()&&!i.isEndGroup();)switch(i.getFieldNumber()){case 1:var n=new proto.mediapipe.tasks.components.containers.proto.FloatEmbedding;i.readMessage(n,proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.deserializeBinaryFromReader),o.setFloatEmbedding(n);break;case 2:n=new proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding,i.readMessage(n,proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.deserializeBinaryFromReader),o.setQuantizedEmbedding(n);break;case 3:n=i.readInt32(),o.setHeadIndex(n);break;case 4:n=i.readString(),o.setHeadName(n);break;default:i.skipField()}return o},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.tasks.components.containers.proto.Embedding.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.tasks.components.containers.proto.Embedding.serializeBinaryToWriter=function(o,i){var n=void 0;(n=o.getFloatEmbedding())!=null&&i.writeMessage(1,n,proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.serializeBinaryToWriter),(n=o.getQuantizedEmbedding())!=null&&i.writeMessage(2,n,proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.serializeBinaryToWriter),(n=e.Message.getField(o,3))!=null&&i.writeInt32(3,n),(n=e.Message.getField(o,4))!=null&&i.writeString(4,n)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.getFloatEmbedding=function(){return e.Message.getWrapperField(this,proto.mediapipe.tasks.components.containers.proto.FloatEmbedding,1)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.setFloatEmbedding=function(o){return e.Message.setOneofWrapperField(this,1,proto.mediapipe.tasks.components.containers.proto.Embedding.oneofGroups_[0],o)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.clearFloatEmbedding=function(){return this.setFloatEmbedding(void 0)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.hasFloatEmbedding=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.getQuantizedEmbedding=function(){return e.Message.getWrapperField(this,proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding,2)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.setQuantizedEmbedding=function(o){return e.Message.setOneofWrapperField(this,2,proto.mediapipe.tasks.components.containers.proto.Embedding.oneofGroups_[0],o)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.clearQuantizedEmbedding=function(){return this.setQuantizedEmbedding(void 0)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.hasQuantizedEmbedding=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.getHeadIndex=function(){return e.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.setHeadIndex=function(o){return e.Message.setField(this,3,o)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.clearHeadIndex=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.hasHeadIndex=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.getHeadName=function(){return e.Message.getFieldWithDefault(this,4,"")},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.setHeadName=function(o){return e.Message.setField(this,4,o)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.clearHeadName=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.hasHeadName=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.toObject=function(o){return proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.toObject(o,this)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.toObject=function(o,i){var n,p={embeddingsList:e.Message.toObjectList(i.getEmbeddingsList(),proto.mediapipe.tasks.components.containers.proto.Embedding.toObject,o),timestampMs:(n=e.Message.getField(i,2))==null?void 0:n};return o&&(p.$jspbMessageInstance=i),p}),proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.deserializeBinary=function(o){var i=new e.BinaryReader(o),n=new proto.mediapipe.tasks.components.containers.proto.EmbeddingResult;return proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.deserializeBinaryFromReader(n,i)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.deserializeBinaryFromReader=function(o,i){for(;i.nextField()&&!i.isEndGroup();)switch(i.getFieldNumber()){case 1:var n=new proto.mediapipe.tasks.components.containers.proto.Embedding;i.readMessage(n,proto.mediapipe.tasks.components.containers.proto.Embedding.deserializeBinaryFromReader),o.addEmbeddings(n);break;case 2:n=i.readInt64(),o.setTimestampMs(n);break;default:i.skipField()}return o},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.serializeBinaryToWriter=function(o,i){var n=void 0;(n=o.getEmbeddingsList()).length>0&&i.writeRepeatedMessage(1,n,proto.mediapipe.tasks.components.containers.proto.Embedding.serializeBinaryToWriter),(n=e.Message.getField(o,2))!=null&&i.writeInt64(2,n)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.getEmbeddingsList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.tasks.components.containers.proto.Embedding,1)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.setEmbeddingsList=function(o){return e.Message.setRepeatedWrapperField(this,1,o)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.addEmbeddings=function(o,i){return e.Message.addToRepeatedWrapperField(this,1,o,proto.mediapipe.tasks.components.containers.proto.Embedding,i)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.clearEmbeddingsList=function(){return this.setEmbeddingsList([])},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.getTimestampMs=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.setTimestampMs=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.clearTimestampMs=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.hasTimestampMs=function(){return e.Message.getField(this,2)!=null},r.object.extend(t,proto.mediapipe.tasks.components.containers.proto)})(embeddings_pb);var image_embedder_graph_options_pb={},embedder_options_pb={};(function(t){var e=googleProtobuf,r=e,s=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||s!==void 0&&s||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.tasks.components.processors.proto.EmbedderOptions",null,s),proto.mediapipe.tasks.components.processors.proto.EmbedderOptions=function(o){e.Message.initialize(this,o,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.components.processors.proto.EmbedderOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.displayName="proto.mediapipe.tasks.components.processors.proto.EmbedderOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.toObject=function(o){return proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.toObject(o,this)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.toObject=function(o,i){var n,p={l2Normalize:(n=e.Message.getBooleanField(i,1))==null?void 0:n,quantize:(n=e.Message.getBooleanField(i,2))==null?void 0:n};return o&&(p.$jspbMessageInstance=i),p}),proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.deserializeBinary=function(o){var i=new e.BinaryReader(o),n=new proto.mediapipe.tasks.components.processors.proto.EmbedderOptions;return proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.deserializeBinaryFromReader(n,i)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.deserializeBinaryFromReader=function(o,i){for(;i.nextField()&&!i.isEndGroup();)switch(i.getFieldNumber()){case 1:var n=i.readBool();o.setL2Normalize(n);break;case 2:n=i.readBool(),o.setQuantize(n);break;default:i.skipField()}return o},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.serializeBinaryToWriter=function(o,i){var n=void 0;(n=e.Message.getField(o,1))!=null&&i.writeBool(1,n),(n=e.Message.getField(o,2))!=null&&i.writeBool(2,n)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.getL2Normalize=function(){return e.Message.getBooleanFieldWithDefault(this,1,!1)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.setL2Normalize=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.clearL2Normalize=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.hasL2Normalize=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.getQuantize=function(){return e.Message.getBooleanFieldWithDefault(this,2,!1)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.setQuantize=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.clearQuantize=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.hasQuantize=function(){return e.Message.getField(this,2)!=null},r.object.extend(t,proto.mediapipe.tasks.components.processors.proto)})(embedder_options_pb),function(t){var e=googleProtobuf,r=e,s=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||s!==void 0&&s||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;r.object.extend(proto,o);var i=calculator_options_pb;r.object.extend(proto,i);var n=embedder_options_pb;r.object.extend(proto,n);var p=base_options_pb;r.object.extend(proto,p),r.exportSymbol("proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions",null,s),proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions=function(d){e.Message.initialize(this,d,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.displayName="proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.toObject=function(d){return proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.toObject(d,this)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.toObject=function(d,l){var u,c={baseOptions:(u=l.getBaseOptions())&&p.BaseOptions.toObject(d,u),embedderOptions:(u=l.getEmbedderOptions())&&n.EmbedderOptions.toObject(d,u)};return d&&(c.$jspbMessageInstance=l),c}),proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.deserializeBinary=function(d){var l=new e.BinaryReader(d),u=new proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions;return proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.deserializeBinaryFromReader(u,l)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.deserializeBinaryFromReader=function(d,l){for(;l.nextField()&&!l.isEndGroup();)switch(l.getFieldNumber()){case 1:var u=new p.BaseOptions;l.readMessage(u,p.BaseOptions.deserializeBinaryFromReader),d.setBaseOptions(u);break;case 2:u=new n.EmbedderOptions,l.readMessage(u,n.EmbedderOptions.deserializeBinaryFromReader),d.setEmbedderOptions(u);break;default:l.skipField()}return d},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.serializeBinary=function(){var d=new e.BinaryWriter;return proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.serializeBinaryToWriter(this,d),d.getResultBuffer()},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.serializeBinaryToWriter=function(d,l){var u=void 0;(u=d.getBaseOptions())!=null&&l.writeMessage(1,u,p.BaseOptions.serializeBinaryToWriter),(u=d.getEmbedderOptions())!=null&&l.writeMessage(2,u,n.EmbedderOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.ext=new e.ExtensionFieldInfo(476348187,{ext:0},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions,proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.toObject,0),i.CalculatorOptions.extensionsBinary[476348187]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.deserializeBinaryFromReader,!1),i.CalculatorOptions.extensions[476348187]=proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.ext,proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,p.BaseOptions,1)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.setBaseOptions=function(d){return e.Message.setWrapperField(this,1,d)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.getEmbedderOptions=function(){return e.Message.getWrapperField(this,n.EmbedderOptions,2)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.setEmbedderOptions=function(d){return e.Message.setWrapperField(this,2,d)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.clearEmbedderOptions=function(){return this.setEmbedderOptions(void 0)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.hasEmbedderOptions=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.ext=new e.ExtensionFieldInfo(476348187,{ext:0},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions,proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.toObject,0),i.CalculatorOptions.extensionsBinary[476348187]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.deserializeBinaryFromReader,!1),i.CalculatorOptions.extensions[476348187]=proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.ext,r.object.extend(t,proto.mediapipe.tasks.vision.image_embedder.proto)}(image_embedder_graph_options_pb);var embedder_options={};Object.defineProperty(embedder_options,"__esModule",{value:!0}),embedder_options.convertEmbedderOptionsToProto=void 0;const embedder_options_pb_1=embedder_options_pb;function convertEmbedderOptionsToProto(t,e){const r=e?e.clone():new embedder_options_pb_1.EmbedderOptions;return t.l2Normalize!==void 0?r.setL2Normalize(t.l2Normalize):"l2Normalize"in t&&r.clearL2Normalize(),t.quantize!==void 0?r.setQuantize(t.quantize):"quantize"in t&&r.clearQuantize(),r}embedder_options.convertEmbedderOptionsToProto=convertEmbedderOptionsToProto;var embedder_result={};Object.defineProperty(embedder_result,"__esModule",{value:!0}),embedder_result.convertFromEmbeddingResultProto=void 0;const DEFAULT_INDEX=-1;function convertFromEmbeddingsProto(t){var e,r,s,o;const i={headIndex:(e=t.getHeadIndex())!==null&&e!==void 0?e:DEFAULT_INDEX,headName:(r=t.getHeadName())!==null&&r!==void 0?r:""};if(t.hasFloatEmbedding())i.floatEmbedding=t.getFloatEmbedding().getValuesList();else{const n=(o=(s=t.getQuantizedEmbedding())===null||s===void 0?void 0:s.getValues())!==null&&o!==void 0?o:"";i.quantizedEmbedding=typeof n=="string"?Uint8Array.from(atob(n),p=>p.charCodeAt(0)):n}return i}function convertFromEmbeddingResultProto(t){return{embeddings:t.getEmbeddingsList().map(e=>convertFromEmbeddingsProto(e)),timestampMs:t.getTimestampMs()}}embedder_result.convertFromEmbeddingResultProto=convertFromEmbeddingResultProto;var cosine_similarity={};function computeCosineSimilarity(t,e){if(t.floatEmbedding&&e.floatEmbedding)return compute(t.floatEmbedding,e.floatEmbedding);if(t.quantizedEmbedding&&e.quantizedEmbedding)return compute(convertToBytes(t.quantizedEmbedding),convertToBytes(e.quantizedEmbedding));throw new Error("Cannot compute cosine similarity between quantized and float embeddings.")}function convertToBytes(t){return Array.from(t,e=>e>127?e-256:e)}function compute(t,e){if(t.length!==e.length)throw new Error(`Cannot compute cosine similarity between embeddings of different sizes (${t.length} vs. ${e.length}).`);let r=0,s=0,o=0;for(let i=0;i<t.length;i++)r+=t[i]*e[i],s+=t[i]*t[i],o+=e[i]*e[i];if(s<=0||o<=0)throw new Error("Cannot compute cosine similarity on embedding with 0 norm.");return r/Math.sqrt(s*o)}Object.defineProperty(cosine_similarity,"__esModule",{value:!0}),cosine_similarity.computeCosineSimilarity=void 0,cosine_similarity.computeCosineSimilarity=computeCosineSimilarity;var image_embedder_options={};Object.defineProperty(image_embedder_options,"__esModule",{value:!0});var image_embedder_result={};Object.defineProperty(image_embedder_result,"__esModule",{value:!0}),function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(m,h,R,b){b===void 0&&(b=R);var v=Object.getOwnPropertyDescriptor(h,R);v&&!("get"in v?!h.__esModule:v.writable||v.configurable)||(v={enumerable:!0,get:function(){return h[R]}}),Object.defineProperty(m,b,v)}:function(m,h,R,b){b===void 0&&(b=R),m[b]=h[R]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(m,h){for(var R in m)R==="default"||Object.prototype.hasOwnProperty.call(h,R)||e(h,m,R)};Object.defineProperty(t,"__esModule",{value:!0}),t.ImageEmbedder=void 0;const s=calculator_pb,o=calculator_options_pb,i=embeddings_pb,n=base_options_pb,p=image_embedder_graph_options_pb,d=embedder_options,l=embedder_result,u=cosine_similarity,c=vision_task_runner,g="image_in",f="norm_rect",y="embeddings_out";r(image_embedder_options,t),r(image_embedder_result,t);class _ extends c.VisionTaskRunner{static createFromOptions(h,R){return c.VisionTaskRunner.createVisionInstance(_,h,R)}static createFromModelBuffer(h,R){return c.VisionTaskRunner.createVisionInstance(_,h,{baseOptions:{modelAssetBuffer:R}})}static createFromModelPath(h,R){return c.VisionTaskRunner.createVisionInstance(_,h,{baseOptions:{modelAssetPath:R}})}constructor(h,R){super(new c.VisionGraphRunner(h,R),g,f,!0),this.options=new p.ImageEmbedderGraphOptions,this.embeddings={embeddings:[]},this.options.setBaseOptions(new n.BaseOptions)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(h){this.options.setBaseOptions(h)}setOptions(h){return this.options.setEmbedderOptions((0,d.convertEmbedderOptionsToProto)(h,this.options.getEmbedderOptions())),this.applyOptions(h)}embed(h,R){return this.processImageData(h,R),this.embeddings}embedForVideo(h,R,b){return this.processVideoData(h,b,R),this.embeddings}static cosineSimilarity(h,R){return(0,u.computeCosineSimilarity)(h,R)}addJsImageEmdedding(h){const R=i.EmbeddingResult.deserializeBinary(h);this.embeddings=(0,l.convertFromEmbeddingResultProto)(R)}refreshGraph(){const h=new s.CalculatorGraphConfig;h.addInputStream(g),h.addInputStream(f),h.addOutputStream(y);const R=new o.CalculatorOptions;R.setExtension(p.ImageEmbedderGraphOptions.ext,this.options);const b=new s.CalculatorGraphConfig.Node;b.setCalculator("mediapipe.tasks.vision.image_embedder.ImageEmbedderGraph"),b.addInputStream("IMAGE:"+g),b.addInputStream("NORM_RECT:"+f),b.addOutputStream("EMBEDDINGS:"+y),b.setOptions(R),h.addNode(b),this.graphRunner.attachProtoListener(y,(S,T)=>{this.addJsImageEmdedding(S),this.setLatestOutputTimestamp(T)}),this.graphRunner.attachEmptyPacketListener(y,S=>{this.setLatestOutputTimestamp(S)});const v=h.serializeBinary();this.setGraph(new Uint8Array(v),!0)}}t.ImageEmbedder=_}(image_embedder);var image_segmenter={},tensors_to_segmentation_calculator_pb={},segmenter_options_pb={};(function(t){var e=googleProtobuf,r=e,s=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||s!==void 0&&s||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions",null,s),r.exportSymbol("proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.Activation",null,s),r.exportSymbol("proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.OutputType",null,s),proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions=function(o){e.Message.initialize(this,o,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.displayName="proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.toObject=function(o){return proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.toObject(o,this)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.toObject=function(o,i){var n,p={outputType:(n=e.Message.getField(i,1))==null?void 0:n,activation:e.Message.getFieldWithDefault(i,2,0)};return o&&(p.$jspbMessageInstance=i),p}),proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.deserializeBinary=function(o){var i=new e.BinaryReader(o),n=new proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions;return proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.deserializeBinaryFromReader(n,i)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.deserializeBinaryFromReader=function(o,i){for(;i.nextField()&&!i.isEndGroup();)switch(i.getFieldNumber()){case 1:var n=i.readEnum();o.setOutputType(n);break;case 2:n=i.readEnum(),o.setActivation(n);break;default:i.skipField()}return o},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.serializeBinaryToWriter=function(o,i){var n=void 0;(n=e.Message.getField(o,1))!=null&&i.writeEnum(1,n),(n=e.Message.getField(o,2))!=null&&i.writeEnum(2,n)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.OutputType={UNSPECIFIED:0,CATEGORY_MASK:1,CONFIDENCE_MASK:2},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.Activation={NONE:0,SIGMOID:1,SOFTMAX:2},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.getOutputType=function(){return e.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.setOutputType=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.clearOutputType=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.hasOutputType=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.getActivation=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.setActivation=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.clearActivation=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.hasActivation=function(){return e.Message.getField(this,2)!=null},r.object.extend(t,proto.mediapipe.tasks.vision.image_segmenter.proto)})(segmenter_options_pb);var label_map_pb={};(function(t){var e=googleProtobuf,r=e,s=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||s!==void 0&&s||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.LabelMapItem",null,s),proto.mediapipe.LabelMapItem=function(o){e.Message.initialize(this,o,0,-1,proto.mediapipe.LabelMapItem.repeatedFields_,null)},r.inherits(proto.mediapipe.LabelMapItem,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.LabelMapItem.displayName="proto.mediapipe.LabelMapItem"),proto.mediapipe.LabelMapItem.repeatedFields_=[3],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LabelMapItem.prototype.toObject=function(o){return proto.mediapipe.LabelMapItem.toObject(o,this)},proto.mediapipe.LabelMapItem.toObject=function(o,i){var n,p={name:(n=e.Message.getField(i,1))==null?void 0:n,displayName:(n=e.Message.getField(i,2))==null?void 0:n,childNameList:(n=e.Message.getRepeatedField(i,3))==null?void 0:n};return o&&(p.$jspbMessageInstance=i),p}),proto.mediapipe.LabelMapItem.deserializeBinary=function(o){var i=new e.BinaryReader(o),n=new proto.mediapipe.LabelMapItem;return proto.mediapipe.LabelMapItem.deserializeBinaryFromReader(n,i)},proto.mediapipe.LabelMapItem.deserializeBinaryFromReader=function(o,i){for(;i.nextField()&&!i.isEndGroup();)switch(i.getFieldNumber()){case 1:var n=i.readString();o.setName(n);break;case 2:n=i.readString(),o.setDisplayName(n);break;case 3:n=i.readString(),o.addChildName(n);break;default:i.skipField()}return o},proto.mediapipe.LabelMapItem.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.LabelMapItem.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.LabelMapItem.serializeBinaryToWriter=function(o,i){var n=void 0;(n=e.Message.getField(o,1))!=null&&i.writeString(1,n),(n=e.Message.getField(o,2))!=null&&i.writeString(2,n),(n=o.getChildNameList()).length>0&&i.writeRepeatedString(3,n)},proto.mediapipe.LabelMapItem.prototype.getName=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.LabelMapItem.prototype.setName=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.LabelMapItem.prototype.clearName=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.LabelMapItem.prototype.hasName=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.LabelMapItem.prototype.getDisplayName=function(){return e.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.LabelMapItem.prototype.setDisplayName=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.LabelMapItem.prototype.clearDisplayName=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.LabelMapItem.prototype.hasDisplayName=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.LabelMapItem.prototype.getChildNameList=function(){return e.Message.getRepeatedField(this,3)},proto.mediapipe.LabelMapItem.prototype.setChildNameList=function(o){return e.Message.setField(this,3,o||[])},proto.mediapipe.LabelMapItem.prototype.addChildName=function(o,i){return e.Message.addToRepeatedField(this,3,o,i)},proto.mediapipe.LabelMapItem.prototype.clearChildNameList=function(){return this.setChildNameList([])},r.object.extend(t,proto.mediapipe)})(label_map_pb),function(t){var e=googleProtobuf,r=e,s=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||s!==void 0&&s||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_options_pb;r.object.extend(proto,o);var i=segmenter_options_pb;r.object.extend(proto,i);var n=label_map_pb;r.object.extend(proto,n),r.exportSymbol("proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions",null,s),proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions=function(p){e.Message.initialize(this,p,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.displayName="proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.prototype.toObject=function(p){return proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.toObject(p,this)},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.toObject=function(p,d){var l,u={segmenterOptions:(l=d.getSegmenterOptions())&&i.SegmenterOptions.toObject(p,l),labelItemsMap:(l=d.getLabelItemsMap())?l.toObject(p,proto.mediapipe.LabelMapItem.toObject):[]};return p&&(u.$jspbMessageInstance=d),u}),proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.deserializeBinary=function(p){var d=new e.BinaryReader(p),l=new proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions;return proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.deserializeBinaryFromReader(l,d)},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.deserializeBinaryFromReader=function(p,d){for(;d.nextField()&&!d.isEndGroup();)switch(d.getFieldNumber()){case 1:var l=new i.SegmenterOptions;d.readMessage(l,i.SegmenterOptions.deserializeBinaryFromReader),p.setSegmenterOptions(l);break;case 2:l=p.getLabelItemsMap(),d.readMessage(l,function(u,c){e.Map.deserializeBinary(u,c,e.BinaryReader.prototype.readInt64,e.BinaryReader.prototype.readMessage,proto.mediapipe.LabelMapItem.deserializeBinaryFromReader,0,new proto.mediapipe.LabelMapItem)});break;default:d.skipField()}return p},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.prototype.serializeBinary=function(){var p=new e.BinaryWriter;return proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.serializeBinaryToWriter(this,p),p.getResultBuffer()},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.serializeBinaryToWriter=function(p,d){var l=void 0;(l=p.getSegmenterOptions())!=null&&d.writeMessage(1,l,i.SegmenterOptions.serializeBinaryToWriter),(l=p.getLabelItemsMap(!0))&&l.getLength()>0&&l.serializeBinary(2,d,e.BinaryWriter.prototype.writeInt64,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.LabelMapItem.serializeBinaryToWriter)},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.ext=new e.ExtensionFieldInfo(458105876,{ext:0},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions,proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.toObject,0),o.CalculatorOptions.extensionsBinary[458105876]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.serializeBinaryToWriter,proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[458105876]=proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.ext,proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.prototype.getSegmenterOptions=function(){return e.Message.getWrapperField(this,i.SegmenterOptions,1)},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.prototype.setSegmenterOptions=function(p){return e.Message.setWrapperField(this,1,p)},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.prototype.clearSegmenterOptions=function(){return this.setSegmenterOptions(void 0)},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.prototype.hasSegmenterOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.prototype.getLabelItemsMap=function(p){return e.Message.getMapField(this,2,p,proto.mediapipe.LabelMapItem)},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.prototype.clearLabelItemsMap=function(){return this.getLabelItemsMap().clear(),this},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.ext=new e.ExtensionFieldInfo(458105876,{ext:0},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions,proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.toObject,0),o.CalculatorOptions.extensionsBinary[458105876]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.serializeBinaryToWriter,proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.deserializeBinaryFromReader,!1),o.CalculatorOptions.extensions[458105876]=proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.ext,r.object.extend(t,proto.mediapipe.tasks)}(tensors_to_segmentation_calculator_pb);var image_segmenter_graph_options_pb={};(function(t){var e=googleProtobuf,r=e,s=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||s!==void 0&&s||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;r.object.extend(proto,o);var i=calculator_options_pb;r.object.extend(proto,i);var n=base_options_pb;r.object.extend(proto,n);var p=segmenter_options_pb;r.object.extend(proto,p),r.exportSymbol("proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions",null,s),proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions=function(d){e.Message.initialize(this,d,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.displayName="proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.toObject=function(d){return proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.toObject(d,this)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.toObject=function(d,l){var u,c={baseOptions:(u=l.getBaseOptions())&&n.BaseOptions.toObject(d,u),displayNamesLocale:e.Message.getFieldWithDefault(l,2,"en"),segmenterOptions:(u=l.getSegmenterOptions())&&p.SegmenterOptions.toObject(d,u)};return d&&(c.$jspbMessageInstance=l),c}),proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.deserializeBinary=function(d){var l=new e.BinaryReader(d),u=new proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions;return proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.deserializeBinaryFromReader(u,l)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.deserializeBinaryFromReader=function(d,l){for(;l.nextField()&&!l.isEndGroup();)switch(l.getFieldNumber()){case 1:var u=new n.BaseOptions;l.readMessage(u,n.BaseOptions.deserializeBinaryFromReader),d.setBaseOptions(u);break;case 2:u=l.readString(),d.setDisplayNamesLocale(u);break;case 3:u=new p.SegmenterOptions,l.readMessage(u,p.SegmenterOptions.deserializeBinaryFromReader),d.setSegmenterOptions(u);break;default:l.skipField()}return d},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.serializeBinary=function(){var d=new e.BinaryWriter;return proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.serializeBinaryToWriter(this,d),d.getResultBuffer()},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.serializeBinaryToWriter=function(d,l){var u=void 0;(u=d.getBaseOptions())!=null&&l.writeMessage(1,u,n.BaseOptions.serializeBinaryToWriter),(u=e.Message.getField(d,2))!=null&&l.writeString(2,u),(u=d.getSegmenterOptions())!=null&&l.writeMessage(3,u,p.SegmenterOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.ext=new e.ExtensionFieldInfo(458105758,{ext:0},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions,proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.toObject,0),i.CalculatorOptions.extensionsBinary[458105758]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.deserializeBinaryFromReader,!1),i.CalculatorOptions.extensions[458105758]=proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.ext,proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,n.BaseOptions,1)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.setBaseOptions=function(d){return e.Message.setWrapperField(this,1,d)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.getDisplayNamesLocale=function(){return e.Message.getFieldWithDefault(this,2,"en")},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.setDisplayNamesLocale=function(d){return e.Message.setField(this,2,d)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.clearDisplayNamesLocale=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.hasDisplayNamesLocale=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.getSegmenterOptions=function(){return e.Message.getWrapperField(this,p.SegmenterOptions,3)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.setSegmenterOptions=function(d){return e.Message.setWrapperField(this,3,d)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.clearSegmenterOptions=function(){return this.setSegmenterOptions(void 0)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.hasSegmenterOptions=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.ext=new e.ExtensionFieldInfo(458105758,{ext:0},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions,proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.toObject,0),i.CalculatorOptions.extensionsBinary[458105758]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.deserializeBinaryFromReader,!1),i.CalculatorOptions.extensions[458105758]=proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.ext,r.object.extend(t,proto.mediapipe.tasks.vision.image_segmenter.proto)})(image_segmenter_graph_options_pb);var image_segmenter_result={};Object.defineProperty(image_segmenter_result,"__esModule",{value:!0}),image_segmenter_result.ImageSegmenterResult=void 0;class ImageSegmenterResult{constructor(e,r,s){this.confidenceMasks=e,this.categoryMask=r,this.qualityScores=s}close(){var e,r;(e=this.confidenceMasks)===null||e===void 0||e.forEach(s=>{s.close()}),(r=this.categoryMask)===null||r===void 0||r.close()}}image_segmenter_result.ImageSegmenterResult=ImageSegmenterResult;var image_segmenter_options={};Object.defineProperty(image_segmenter_options,"__esModule",{value:!0}),function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(R,b,v,S){S===void 0&&(S=v);var T=Object.getOwnPropertyDescriptor(b,v);T&&!("get"in T?!b.__esModule:T.writable||T.configurable)||(T={enumerable:!0,get:function(){return b[v]}}),Object.defineProperty(R,S,T)}:function(R,b,v,S){S===void 0&&(S=v),R[S]=b[v]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(R,b){for(var v in R)v==="default"||Object.prototype.hasOwnProperty.call(b,v)||e(b,R,v)};Object.defineProperty(t,"__esModule",{value:!0}),t.ImageSegmenter=void 0;const s=calculator_pb,o=calculator_options_pb,i=base_options_pb,n=tensors_to_segmentation_calculator_pb,p=image_segmenter_graph_options_pb,d=segmenter_options_pb,l=vision_task_runner,u=image_segmenter_result;r(image_segmenter_options,t),r(image_segmenter_result,t);const c="image_in",g="norm_rect",f="confidence_masks",y="category_mask",_="quality_scores",m="mediapipe.tasks.TensorsToSegmentationCalculator";class h extends l.VisionTaskRunner{static createFromOptions(b,v){return l.VisionTaskRunner.createVisionInstance(h,b,v)}static createFromModelBuffer(b,v){return l.VisionTaskRunner.createVisionInstance(h,b,{baseOptions:{modelAssetBuffer:v}})}static createFromModelPath(b,v){return l.VisionTaskRunner.createVisionInstance(h,b,{baseOptions:{modelAssetPath:v}})}constructor(b,v){super(new l.VisionGraphRunner(b,v),c,g,!1),this.labels=[],this.outputCategoryMask=!1,this.outputConfidenceMasks=!0,this.options=new p.ImageSegmenterGraphOptions,this.segmenterOptions=new d.SegmenterOptions,this.options.setSegmenterOptions(this.segmenterOptions),this.options.setBaseOptions(new i.BaseOptions)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(b){this.options.setBaseOptions(b)}setOptions(b){var v,S;return b.displayNamesLocale!==void 0?this.options.setDisplayNamesLocale(b.displayNamesLocale):"displayNamesLocale"in b&&this.options.clearDisplayNamesLocale(),"outputCategoryMask"in b&&(this.outputCategoryMask=(v=b.outputCategoryMask)!==null&&v!==void 0&&v),"outputConfidenceMasks"in b&&(this.outputConfidenceMasks=(S=b.outputConfidenceMasks)===null||S===void 0||S),super.applyOptions(b)}onGraphRefreshed(){this.populateLabels()}populateLabels(){var b,v,S;const T=this.getCalculatorGraphConfig().getNodeList().filter(O=>O.getName().includes(m));if(this.labels=[],T.length>1)throw new Error(`The graph has more than one ${m}.`);T.length===1&&((S=(v=(b=T[0].getOptions())===null||b===void 0?void 0:b.getExtension(n.TensorsToSegmentationCalculatorOptions.ext))===null||v===void 0?void 0:v.getLabelItemsMap())!==null&&S!==void 0?S:new Map).forEach((O,C)=>{this.labels[Number(C)]=O.getName()})}segment(b,v,S){const T=typeof v!="function"?v:{};return this.userCallback=typeof v=="function"?v:S,this.reset(),this.processImageData(b,T),this.processResults()}segmentForVideo(b,v,S,T){const O=typeof S!="function"?S:{};return this.userCallback=typeof S=="function"?S:T,this.reset(),this.processVideoData(b,O,v),this.processResults()}getLabels(){return this.labels}reset(){this.categoryMask=void 0,this.confidenceMasks=void 0,this.qualityScores=void 0}processResults(){try{const b=new u.ImageSegmenterResult(this.confidenceMasks,this.categoryMask,this.qualityScores);if(!this.userCallback)return b;this.userCallback(b)}finally{this.freeKeepaliveStreams()}}refreshGraph(){const b=new s.CalculatorGraphConfig;b.addInputStream(c),b.addInputStream(g);const v=new o.CalculatorOptions;v.setExtension(p.ImageSegmenterGraphOptions.ext,this.options);const S=new s.CalculatorGraphConfig.Node;S.setCalculator("mediapipe.tasks.vision.image_segmenter.ImageSegmenterGraph"),S.addInputStream("IMAGE:"+c),S.addInputStream("NORM_RECT:"+g),S.setOptions(v),b.addNode(S),this.addKeepaliveNode(b),this.outputConfidenceMasks&&(b.addOutputStream(f),S.addOutputStream("CONFIDENCE_MASKS:"+f),this.keepStreamAlive(f),this.graphRunner.attachImageVectorListener(f,(O,C)=>{this.confidenceMasks=O.map(M=>this.convertToMPMask(M,!this.userCallback)),this.setLatestOutputTimestamp(C)}),this.graphRunner.attachEmptyPacketListener(f,O=>{this.confidenceMasks=[],this.setLatestOutputTimestamp(O)})),this.outputCategoryMask&&(b.addOutputStream(y),S.addOutputStream("CATEGORY_MASK:"+y),this.keepStreamAlive(y),this.graphRunner.attachImageListener(y,(O,C)=>{this.categoryMask=this.convertToMPMask(O,!this.userCallback),this.setLatestOutputTimestamp(C)}),this.graphRunner.attachEmptyPacketListener(y,O=>{this.categoryMask=void 0,this.setLatestOutputTimestamp(O)})),b.addOutputStream(_),S.addOutputStream("QUALITY_SCORES:"+_),this.graphRunner.attachFloatVectorListener(_,(O,C)=>{this.qualityScores=O,this.setLatestOutputTimestamp(C)}),this.graphRunner.attachEmptyPacketListener(_,O=>{this.categoryMask=void 0,this.setLatestOutputTimestamp(O)});const T=b.serializeBinary();this.setGraph(new Uint8Array(T),!0)}}t.ImageSegmenter=h}(image_segmenter);var interactive_segmenter={},color_pb={};(function(t){var e=googleProtobuf,r=e,s=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||s!==void 0&&s||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();r.exportSymbol("proto.mediapipe.Color",null,s),r.exportSymbol("proto.mediapipe.ColorMap",null,s),proto.mediapipe.Color=function(o){e.Message.initialize(this,o,0,-1,null,null)},r.inherits(proto.mediapipe.Color,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.Color.displayName="proto.mediapipe.Color"),proto.mediapipe.ColorMap=function(o){e.Message.initialize(this,o,0,-1,null,null)},r.inherits(proto.mediapipe.ColorMap,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.ColorMap.displayName="proto.mediapipe.ColorMap"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Color.prototype.toObject=function(o){return proto.mediapipe.Color.toObject(o,this)},proto.mediapipe.Color.toObject=function(o,i){var n,p={r:(n=e.Message.getField(i,1))==null?void 0:n,g:(n=e.Message.getField(i,2))==null?void 0:n,b:(n=e.Message.getField(i,3))==null?void 0:n};return o&&(p.$jspbMessageInstance=i),p}),proto.mediapipe.Color.deserializeBinary=function(o){var i=new e.BinaryReader(o),n=new proto.mediapipe.Color;return proto.mediapipe.Color.deserializeBinaryFromReader(n,i)},proto.mediapipe.Color.deserializeBinaryFromReader=function(o,i){for(;i.nextField()&&!i.isEndGroup();)switch(i.getFieldNumber()){case 1:var n=i.readInt32();o.setR(n);break;case 2:n=i.readInt32(),o.setG(n);break;case 3:n=i.readInt32(),o.setB(n);break;default:i.skipField()}return o},proto.mediapipe.Color.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.Color.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.Color.serializeBinaryToWriter=function(o,i){var n=void 0;(n=e.Message.getField(o,1))!=null&&i.writeInt32(1,n),(n=e.Message.getField(o,2))!=null&&i.writeInt32(2,n),(n=e.Message.getField(o,3))!=null&&i.writeInt32(3,n)},proto.mediapipe.Color.prototype.getR=function(){return e.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.Color.prototype.setR=function(o){return e.Message.setField(this,1,o)},proto.mediapipe.Color.prototype.clearR=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.Color.prototype.hasR=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.Color.prototype.getG=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.Color.prototype.setG=function(o){return e.Message.setField(this,2,o)},proto.mediapipe.Color.prototype.clearG=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.Color.prototype.hasG=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.Color.prototype.getB=function(){return e.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.Color.prototype.setB=function(o){return e.Message.setField(this,3,o)},proto.mediapipe.Color.prototype.clearB=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.Color.prototype.hasB=function(){return e.Message.getField(this,3)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.ColorMap.prototype.toObject=function(o){return proto.mediapipe.ColorMap.toObject(o,this)},proto.mediapipe.ColorMap.toObject=function(o,i){var n,p={labelToColorMap:(n=i.getLabelToColorMap())?n.toObject(o,proto.mediapipe.Color.toObject):[]};return o&&(p.$jspbMessageInstance=i),p}),proto.mediapipe.ColorMap.deserializeBinary=function(o){var i=new e.BinaryReader(o),n=new proto.mediapipe.ColorMap;return proto.mediapipe.ColorMap.deserializeBinaryFromReader(n,i)},proto.mediapipe.ColorMap.deserializeBinaryFromReader=function(o,i){for(;i.nextField()&&!i.isEndGroup();)if(i.getFieldNumber()===1){var n=o.getLabelToColorMap();i.readMessage(n,function(p,d){e.Map.deserializeBinary(p,d,e.BinaryReader.prototype.readString,e.BinaryReader.prototype.readMessage,proto.mediapipe.Color.deserializeBinaryFromReader,"",new proto.mediapipe.Color)})}else i.skipField();return o},proto.mediapipe.ColorMap.prototype.serializeBinary=function(){var o=new e.BinaryWriter;return proto.mediapipe.ColorMap.serializeBinaryToWriter(this,o),o.getResultBuffer()},proto.mediapipe.ColorMap.serializeBinaryToWriter=function(o,i){var n=void 0;(n=o.getLabelToColorMap(!0))&&n.getLength()>0&&n.serializeBinary(1,i,e.BinaryWriter.prototype.writeString,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.Color.serializeBinaryToWriter)},proto.mediapipe.ColorMap.prototype.getLabelToColorMap=function(o){return e.Message.getMapField(this,1,o,proto.mediapipe.Color)},proto.mediapipe.ColorMap.prototype.clearLabelToColorMap=function(){return this.getLabelToColorMap().clear(),this},r.object.extend(t,proto.mediapipe)})(color_pb);var render_data_pb={};(function(t){var e=googleProtobuf,r=e,s=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||s!==void 0&&s||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=color_pb;r.object.extend(proto,o),r.exportSymbol("proto.mediapipe.RenderAnnotation",null,s),r.exportSymbol("proto.mediapipe.RenderAnnotation.Arrow",null,s),r.exportSymbol("proto.mediapipe.RenderAnnotation.DataCase",null,s),r.exportSymbol("proto.mediapipe.RenderAnnotation.FilledOval",null,s),r.exportSymbol("proto.mediapipe.RenderAnnotation.FilledRectangle",null,s),r.exportSymbol("proto.mediapipe.RenderAnnotation.FilledRoundedRectangle",null,s),r.exportSymbol("proto.mediapipe.RenderAnnotation.GradientLine",null,s),r.exportSymbol("proto.mediapipe.RenderAnnotation.Line",null,s),r.exportSymbol("proto.mediapipe.RenderAnnotation.Line.LineType",null,s),r.exportSymbol("proto.mediapipe.RenderAnnotation.Oval",null,s),r.exportSymbol("proto.mediapipe.RenderAnnotation.Point",null,s),r.exportSymbol("proto.mediapipe.RenderAnnotation.Rectangle",null,s),r.exportSymbol("proto.mediapipe.RenderAnnotation.RoundedRectangle",null,s),r.exportSymbol("proto.mediapipe.RenderAnnotation.Scribble",null,s),r.exportSymbol("proto.mediapipe.RenderAnnotation.Text",null,s),r.exportSymbol("proto.mediapipe.RenderData",null,s),r.exportSymbol("proto.mediapipe.RenderViewport",null,s),proto.mediapipe.RenderData=function(i){e.Message.initialize(this,i,0,-1,proto.mediapipe.RenderData.repeatedFields_,null)},r.inherits(proto.mediapipe.RenderData,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderData.displayName="proto.mediapipe.RenderData"),proto.mediapipe.RenderAnnotation=function(i){e.Message.initialize(this,i,0,-1,null,proto.mediapipe.RenderAnnotation.oneofGroups_)},r.inherits(proto.mediapipe.RenderAnnotation,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.displayName="proto.mediapipe.RenderAnnotation"),proto.mediapipe.RenderAnnotation.Rectangle=function(i){e.Message.initialize(this,i,0,-1,null,null)},r.inherits(proto.mediapipe.RenderAnnotation.Rectangle,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.Rectangle.displayName="proto.mediapipe.RenderAnnotation.Rectangle"),proto.mediapipe.RenderAnnotation.FilledRectangle=function(i){e.Message.initialize(this,i,0,-1,null,null)},r.inherits(proto.mediapipe.RenderAnnotation.FilledRectangle,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.FilledRectangle.displayName="proto.mediapipe.RenderAnnotation.FilledRectangle"),proto.mediapipe.RenderAnnotation.RoundedRectangle=function(i){e.Message.initialize(this,i,0,-1,null,null)},r.inherits(proto.mediapipe.RenderAnnotation.RoundedRectangle,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.RoundedRectangle.displayName="proto.mediapipe.RenderAnnotation.RoundedRectangle"),proto.mediapipe.RenderAnnotation.FilledRoundedRectangle=function(i){e.Message.initialize(this,i,0,-1,null,null)},r.inherits(proto.mediapipe.RenderAnnotation.FilledRoundedRectangle,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.displayName="proto.mediapipe.RenderAnnotation.FilledRoundedRectangle"),proto.mediapipe.RenderAnnotation.Oval=function(i){e.Message.initialize(this,i,0,-1,null,null)},r.inherits(proto.mediapipe.RenderAnnotation.Oval,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.Oval.displayName="proto.mediapipe.RenderAnnotation.Oval"),proto.mediapipe.RenderAnnotation.FilledOval=function(i){e.Message.initialize(this,i,0,-1,null,null)},r.inherits(proto.mediapipe.RenderAnnotation.FilledOval,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.FilledOval.displayName="proto.mediapipe.RenderAnnotation.FilledOval"),proto.mediapipe.RenderAnnotation.Point=function(i){e.Message.initialize(this,i,0,-1,null,null)},r.inherits(proto.mediapipe.RenderAnnotation.Point,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.Point.displayName="proto.mediapipe.RenderAnnotation.Point"),proto.mediapipe.RenderAnnotation.Line=function(i){e.Message.initialize(this,i,0,-1,null,null)},r.inherits(proto.mediapipe.RenderAnnotation.Line,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.Line.displayName="proto.mediapipe.RenderAnnotation.Line"),proto.mediapipe.RenderAnnotation.GradientLine=function(i){e.Message.initialize(this,i,0,-1,null,null)},r.inherits(proto.mediapipe.RenderAnnotation.GradientLine,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.GradientLine.displayName="proto.mediapipe.RenderAnnotation.GradientLine"),proto.mediapipe.RenderAnnotation.Scribble=function(i){e.Message.initialize(this,i,0,-1,proto.mediapipe.RenderAnnotation.Scribble.repeatedFields_,null)},r.inherits(proto.mediapipe.RenderAnnotation.Scribble,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.Scribble.displayName="proto.mediapipe.RenderAnnotation.Scribble"),proto.mediapipe.RenderAnnotation.Arrow=function(i){e.Message.initialize(this,i,0,-1,null,null)},r.inherits(proto.mediapipe.RenderAnnotation.Arrow,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.Arrow.displayName="proto.mediapipe.RenderAnnotation.Arrow"),proto.mediapipe.RenderAnnotation.Text=function(i){e.Message.initialize(this,i,0,-1,null,null)},r.inherits(proto.mediapipe.RenderAnnotation.Text,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.Text.displayName="proto.mediapipe.RenderAnnotation.Text"),proto.mediapipe.RenderViewport=function(i){e.Message.initialize(this,i,0,-1,null,null)},r.inherits(proto.mediapipe.RenderViewport,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.RenderViewport.displayName="proto.mediapipe.RenderViewport"),proto.mediapipe.RenderData.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderData.prototype.toObject=function(i){return proto.mediapipe.RenderData.toObject(i,this)},proto.mediapipe.RenderData.toObject=function(i,n){var p,d={renderAnnotationsList:e.Message.toObjectList(n.getRenderAnnotationsList(),proto.mediapipe.RenderAnnotation.toObject,i),sceneClass:(p=e.Message.getField(n,2))==null?void 0:p,sceneViewport:(p=n.getSceneViewport())&&proto.mediapipe.RenderViewport.toObject(i,p)};return i&&(d.$jspbMessageInstance=n),d}),proto.mediapipe.RenderData.deserializeBinary=function(i){var n=new e.BinaryReader(i),p=new proto.mediapipe.RenderData;return proto.mediapipe.RenderData.deserializeBinaryFromReader(p,n)},proto.mediapipe.RenderData.deserializeBinaryFromReader=function(i,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:var p=new proto.mediapipe.RenderAnnotation;n.readMessage(p,proto.mediapipe.RenderAnnotation.deserializeBinaryFromReader),i.addRenderAnnotations(p);break;case 2:p=n.readString(),i.setSceneClass(p);break;case 3:p=new proto.mediapipe.RenderViewport,n.readMessage(p,proto.mediapipe.RenderViewport.deserializeBinaryFromReader),i.setSceneViewport(p);break;default:n.skipField()}return i},proto.mediapipe.RenderData.prototype.serializeBinary=function(){var i=new e.BinaryWriter;return proto.mediapipe.RenderData.serializeBinaryToWriter(this,i),i.getResultBuffer()},proto.mediapipe.RenderData.serializeBinaryToWriter=function(i,n){var p=void 0;(p=i.getRenderAnnotationsList()).length>0&&n.writeRepeatedMessage(1,p,proto.mediapipe.RenderAnnotation.serializeBinaryToWriter),(p=e.Message.getField(i,2))!=null&&n.writeString(2,p),(p=i.getSceneViewport())!=null&&n.writeMessage(3,p,proto.mediapipe.RenderViewport.serializeBinaryToWriter)},proto.mediapipe.RenderData.prototype.getRenderAnnotationsList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.RenderAnnotation,1)},proto.mediapipe.RenderData.prototype.setRenderAnnotationsList=function(i){return e.Message.setRepeatedWrapperField(this,1,i)},proto.mediapipe.RenderData.prototype.addRenderAnnotations=function(i,n){return e.Message.addToRepeatedWrapperField(this,1,i,proto.mediapipe.RenderAnnotation,n)},proto.mediapipe.RenderData.prototype.clearRenderAnnotationsList=function(){return this.setRenderAnnotationsList([])},proto.mediapipe.RenderData.prototype.getSceneClass=function(){return e.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.RenderData.prototype.setSceneClass=function(i){return e.Message.setField(this,2,i)},proto.mediapipe.RenderData.prototype.clearSceneClass=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.RenderData.prototype.hasSceneClass=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.RenderData.prototype.getSceneViewport=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderViewport,3)},proto.mediapipe.RenderData.prototype.setSceneViewport=function(i){return e.Message.setWrapperField(this,3,i)},proto.mediapipe.RenderData.prototype.clearSceneViewport=function(){return this.setSceneViewport(void 0)},proto.mediapipe.RenderData.prototype.hasSceneViewport=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.RenderAnnotation.oneofGroups_=[[1,2,3,4,5,6,7,8,9,10,14,15]],proto.mediapipe.RenderAnnotation.DataCase={DATA_NOT_SET:0,RECTANGLE:1,FILLED_RECTANGLE:2,OVAL:3,FILLED_OVAL:4,POINT:5,LINE:6,ARROW:7,TEXT:8,ROUNDED_RECTANGLE:9,FILLED_ROUNDED_RECTANGLE:10,GRADIENT_LINE:14,SCRIBBLE:15},proto.mediapipe.RenderAnnotation.prototype.getDataCase=function(){return e.Message.computeOneofCase(this,proto.mediapipe.RenderAnnotation.oneofGroups_[0])},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.prototype.toObject=function(i){return proto.mediapipe.RenderAnnotation.toObject(i,this)},proto.mediapipe.RenderAnnotation.toObject=function(i,n){var p,d={rectangle:(p=n.getRectangle())&&proto.mediapipe.RenderAnnotation.Rectangle.toObject(i,p),filledRectangle:(p=n.getFilledRectangle())&&proto.mediapipe.RenderAnnotation.FilledRectangle.toObject(i,p),oval:(p=n.getOval())&&proto.mediapipe.RenderAnnotation.Oval.toObject(i,p),filledOval:(p=n.getFilledOval())&&proto.mediapipe.RenderAnnotation.FilledOval.toObject(i,p),point:(p=n.getPoint())&&proto.mediapipe.RenderAnnotation.Point.toObject(i,p),line:(p=n.getLine())&&proto.mediapipe.RenderAnnotation.Line.toObject(i,p),arrow:(p=n.getArrow())&&proto.mediapipe.RenderAnnotation.Arrow.toObject(i,p),text:(p=n.getText())&&proto.mediapipe.RenderAnnotation.Text.toObject(i,p),roundedRectangle:(p=n.getRoundedRectangle())&&proto.mediapipe.RenderAnnotation.RoundedRectangle.toObject(i,p),filledRoundedRectangle:(p=n.getFilledRoundedRectangle())&&proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.toObject(i,p),gradientLine:(p=n.getGradientLine())&&proto.mediapipe.RenderAnnotation.GradientLine.toObject(i,p),scribble:(p=n.getScribble())&&proto.mediapipe.RenderAnnotation.Scribble.toObject(i,p),thickness:e.Message.getFloatingPointFieldWithDefault(n,11,1),color:(p=n.getColor())&&o.Color.toObject(i,p),sceneTag:(p=e.Message.getField(n,13))==null?void 0:p};return i&&(d.$jspbMessageInstance=n),d}),proto.mediapipe.RenderAnnotation.deserializeBinary=function(i){var n=new e.BinaryReader(i),p=new proto.mediapipe.RenderAnnotation;return proto.mediapipe.RenderAnnotation.deserializeBinaryFromReader(p,n)},proto.mediapipe.RenderAnnotation.deserializeBinaryFromReader=function(i,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:var p=new proto.mediapipe.RenderAnnotation.Rectangle;n.readMessage(p,proto.mediapipe.RenderAnnotation.Rectangle.deserializeBinaryFromReader),i.setRectangle(p);break;case 2:p=new proto.mediapipe.RenderAnnotation.FilledRectangle,n.readMessage(p,proto.mediapipe.RenderAnnotation.FilledRectangle.deserializeBinaryFromReader),i.setFilledRectangle(p);break;case 3:p=new proto.mediapipe.RenderAnnotation.Oval,n.readMessage(p,proto.mediapipe.RenderAnnotation.Oval.deserializeBinaryFromReader),i.setOval(p);break;case 4:p=new proto.mediapipe.RenderAnnotation.FilledOval,n.readMessage(p,proto.mediapipe.RenderAnnotation.FilledOval.deserializeBinaryFromReader),i.setFilledOval(p);break;case 5:p=new proto.mediapipe.RenderAnnotation.Point,n.readMessage(p,proto.mediapipe.RenderAnnotation.Point.deserializeBinaryFromReader),i.setPoint(p);break;case 6:p=new proto.mediapipe.RenderAnnotation.Line,n.readMessage(p,proto.mediapipe.RenderAnnotation.Line.deserializeBinaryFromReader),i.setLine(p);break;case 7:p=new proto.mediapipe.RenderAnnotation.Arrow,n.readMessage(p,proto.mediapipe.RenderAnnotation.Arrow.deserializeBinaryFromReader),i.setArrow(p);break;case 8:p=new proto.mediapipe.RenderAnnotation.Text,n.readMessage(p,proto.mediapipe.RenderAnnotation.Text.deserializeBinaryFromReader),i.setText(p);break;case 9:p=new proto.mediapipe.RenderAnnotation.RoundedRectangle,n.readMessage(p,proto.mediapipe.RenderAnnotation.RoundedRectangle.deserializeBinaryFromReader),i.setRoundedRectangle(p);break;case 10:p=new proto.mediapipe.RenderAnnotation.FilledRoundedRectangle,n.readMessage(p,proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.deserializeBinaryFromReader),i.setFilledRoundedRectangle(p);break;case 14:p=new proto.mediapipe.RenderAnnotation.GradientLine,n.readMessage(p,proto.mediapipe.RenderAnnotation.GradientLine.deserializeBinaryFromReader),i.setGradientLine(p);break;case 15:p=new proto.mediapipe.RenderAnnotation.Scribble,n.readMessage(p,proto.mediapipe.RenderAnnotation.Scribble.deserializeBinaryFromReader),i.setScribble(p);break;case 11:p=n.readDouble(),i.setThickness(p);break;case 12:p=new o.Color,n.readMessage(p,o.Color.deserializeBinaryFromReader),i.setColor(p);break;case 13:p=n.readString(),i.setSceneTag(p);break;default:n.skipField()}return i},proto.mediapipe.RenderAnnotation.prototype.serializeBinary=function(){var i=new e.BinaryWriter;return proto.mediapipe.RenderAnnotation.serializeBinaryToWriter(this,i),i.getResultBuffer()},proto.mediapipe.RenderAnnotation.serializeBinaryToWriter=function(i,n){var p=void 0;(p=i.getRectangle())!=null&&n.writeMessage(1,p,proto.mediapipe.RenderAnnotation.Rectangle.serializeBinaryToWriter),(p=i.getFilledRectangle())!=null&&n.writeMessage(2,p,proto.mediapipe.RenderAnnotation.FilledRectangle.serializeBinaryToWriter),(p=i.getOval())!=null&&n.writeMessage(3,p,proto.mediapipe.RenderAnnotation.Oval.serializeBinaryToWriter),(p=i.getFilledOval())!=null&&n.writeMessage(4,p,proto.mediapipe.RenderAnnotation.FilledOval.serializeBinaryToWriter),(p=i.getPoint())!=null&&n.writeMessage(5,p,proto.mediapipe.RenderAnnotation.Point.serializeBinaryToWriter),(p=i.getLine())!=null&&n.writeMessage(6,p,proto.mediapipe.RenderAnnotation.Line.serializeBinaryToWriter),(p=i.getArrow())!=null&&n.writeMessage(7,p,proto.mediapipe.RenderAnnotation.Arrow.serializeBinaryToWriter),(p=i.getText())!=null&&n.writeMessage(8,p,proto.mediapipe.RenderAnnotation.Text.serializeBinaryToWriter),(p=i.getRoundedRectangle())!=null&&n.writeMessage(9,p,proto.mediapipe.RenderAnnotation.RoundedRectangle.serializeBinaryToWriter),(p=i.getFilledRoundedRectangle())!=null&&n.writeMessage(10,p,proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.serializeBinaryToWriter),(p=i.getGradientLine())!=null&&n.writeMessage(14,p,proto.mediapipe.RenderAnnotation.GradientLine.serializeBinaryToWriter),(p=i.getScribble())!=null&&n.writeMessage(15,p,proto.mediapipe.RenderAnnotation.Scribble.serializeBinaryToWriter),(p=e.Message.getField(i,11))!=null&&n.writeDouble(11,p),(p=i.getColor())!=null&&n.writeMessage(12,p,o.Color.serializeBinaryToWriter),(p=e.Message.getField(i,13))!=null&&n.writeString(13,p)},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.Rectangle.prototype.toObject=function(i){return proto.mediapipe.RenderAnnotation.Rectangle.toObject(i,this)},proto.mediapipe.RenderAnnotation.Rectangle.toObject=function(i,n){var p,d={left:(p=e.Message.getOptionalFloatingPointField(n,1))==null?void 0:p,top:(p=e.Message.getOptionalFloatingPointField(n,2))==null?void 0:p,right:(p=e.Message.getOptionalFloatingPointField(n,3))==null?void 0:p,bottom:(p=e.Message.getOptionalFloatingPointField(n,4))==null?void 0:p,normalized:e.Message.getBooleanFieldWithDefault(n,5,!1),rotation:(p=e.Message.getOptionalFloatingPointField(n,6))==null?void 0:p,topLeftThickness:(p=e.Message.getOptionalFloatingPointField(n,7))==null?void 0:p};return i&&(d.$jspbMessageInstance=n),d}),proto.mediapipe.RenderAnnotation.Rectangle.deserializeBinary=function(i){var n=new e.BinaryReader(i),p=new proto.mediapipe.RenderAnnotation.Rectangle;return proto.mediapipe.RenderAnnotation.Rectangle.deserializeBinaryFromReader(p,n)},proto.mediapipe.RenderAnnotation.Rectangle.deserializeBinaryFromReader=function(i,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:var p=n.readDouble();i.setLeft(p);break;case 2:p=n.readDouble(),i.setTop(p);break;case 3:p=n.readDouble(),i.setRight(p);break;case 4:p=n.readDouble(),i.setBottom(p);break;case 5:p=n.readBool(),i.setNormalized(p);break;case 6:p=n.readDouble(),i.setRotation(p);break;case 7:p=n.readDouble(),i.setTopLeftThickness(p);break;default:n.skipField()}return i},proto.mediapipe.RenderAnnotation.Rectangle.prototype.serializeBinary=function(){var i=new e.BinaryWriter;return proto.mediapipe.RenderAnnotation.Rectangle.serializeBinaryToWriter(this,i),i.getResultBuffer()},proto.mediapipe.RenderAnnotation.Rectangle.serializeBinaryToWriter=function(i,n){var p=void 0;(p=e.Message.getField(i,1))!=null&&n.writeDouble(1,p),(p=e.Message.getField(i,2))!=null&&n.writeDouble(2,p),(p=e.Message.getField(i,3))!=null&&n.writeDouble(3,p),(p=e.Message.getField(i,4))!=null&&n.writeDouble(4,p),(p=e.Message.getField(i,5))!=null&&n.writeBool(5,p),(p=e.Message.getField(i,6))!=null&&n.writeDouble(6,p),(p=e.Message.getField(i,7))!=null&&n.writeDouble(7,p)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.getLeft=function(){return e.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.setLeft=function(i){return e.Message.setField(this,1,i)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.clearLeft=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.hasLeft=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.RenderAnnotation.Rectangle.prototype.getTop=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.setTop=function(i){return e.Message.setField(this,2,i)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.clearTop=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.hasTop=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.RenderAnnotation.Rectangle.prototype.getRight=function(){return e.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.setRight=function(i){return e.Message.setField(this,3,i)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.clearRight=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.hasRight=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.RenderAnnotation.Rectangle.prototype.getBottom=function(){return e.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.setBottom=function(i){return e.Message.setField(this,4,i)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.clearBottom=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.hasBottom=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.RenderAnnotation.Rectangle.prototype.getNormalized=function(){return e.Message.getBooleanFieldWithDefault(this,5,!1)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.setNormalized=function(i){return e.Message.setField(this,5,i)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.clearNormalized=function(){return e.Message.setField(this,5,void 0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.hasNormalized=function(){return e.Message.getField(this,5)!=null},proto.mediapipe.RenderAnnotation.Rectangle.prototype.getRotation=function(){return e.Message.getFloatingPointFieldWithDefault(this,6,0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.setRotation=function(i){return e.Message.setField(this,6,i)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.clearRotation=function(){return e.Message.setField(this,6,void 0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.hasRotation=function(){return e.Message.getField(this,6)!=null},proto.mediapipe.RenderAnnotation.Rectangle.prototype.getTopLeftThickness=function(){return e.Message.getFloatingPointFieldWithDefault(this,7,0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.setTopLeftThickness=function(i){return e.Message.setField(this,7,i)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.clearTopLeftThickness=function(){return e.Message.setField(this,7,void 0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.hasTopLeftThickness=function(){return e.Message.getField(this,7)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.toObject=function(i){return proto.mediapipe.RenderAnnotation.FilledRectangle.toObject(i,this)},proto.mediapipe.RenderAnnotation.FilledRectangle.toObject=function(i,n){var p,d={rectangle:(p=n.getRectangle())&&proto.mediapipe.RenderAnnotation.Rectangle.toObject(i,p),fillColor:(p=n.getFillColor())&&o.Color.toObject(i,p)};return i&&(d.$jspbMessageInstance=n),d}),proto.mediapipe.RenderAnnotation.FilledRectangle.deserializeBinary=function(i){var n=new e.BinaryReader(i),p=new proto.mediapipe.RenderAnnotation.FilledRectangle;return proto.mediapipe.RenderAnnotation.FilledRectangle.deserializeBinaryFromReader(p,n)},proto.mediapipe.RenderAnnotation.FilledRectangle.deserializeBinaryFromReader=function(i,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:var p=new proto.mediapipe.RenderAnnotation.Rectangle;n.readMessage(p,proto.mediapipe.RenderAnnotation.Rectangle.deserializeBinaryFromReader),i.setRectangle(p);break;case 2:p=new o.Color,n.readMessage(p,o.Color.deserializeBinaryFromReader),i.setFillColor(p);break;default:n.skipField()}return i},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.serializeBinary=function(){var i=new e.BinaryWriter;return proto.mediapipe.RenderAnnotation.FilledRectangle.serializeBinaryToWriter(this,i),i.getResultBuffer()},proto.mediapipe.RenderAnnotation.FilledRectangle.serializeBinaryToWriter=function(i,n){var p=void 0;(p=i.getRectangle())!=null&&n.writeMessage(1,p,proto.mediapipe.RenderAnnotation.Rectangle.serializeBinaryToWriter),(p=i.getFillColor())!=null&&n.writeMessage(2,p,o.Color.serializeBinaryToWriter)},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.getRectangle=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Rectangle,1)},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.setRectangle=function(i){return e.Message.setWrapperField(this,1,i)},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.clearRectangle=function(){return this.setRectangle(void 0)},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.hasRectangle=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.getFillColor=function(){return e.Message.getWrapperField(this,o.Color,2)},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.setFillColor=function(i){return e.Message.setWrapperField(this,2,i)},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.clearFillColor=function(){return this.setFillColor(void 0)},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.hasFillColor=function(){return e.Message.getField(this,2)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.toObject=function(i){return proto.mediapipe.RenderAnnotation.RoundedRectangle.toObject(i,this)},proto.mediapipe.RenderAnnotation.RoundedRectangle.toObject=function(i,n){var p,d={rectangle:(p=n.getRectangle())&&proto.mediapipe.RenderAnnotation.Rectangle.toObject(i,p),cornerRadius:e.Message.getFieldWithDefault(n,2,0),lineType:e.Message.getFieldWithDefault(n,3,4)};return i&&(d.$jspbMessageInstance=n),d}),proto.mediapipe.RenderAnnotation.RoundedRectangle.deserializeBinary=function(i){var n=new e.BinaryReader(i),p=new proto.mediapipe.RenderAnnotation.RoundedRectangle;return proto.mediapipe.RenderAnnotation.RoundedRectangle.deserializeBinaryFromReader(p,n)},proto.mediapipe.RenderAnnotation.RoundedRectangle.deserializeBinaryFromReader=function(i,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:var p=new proto.mediapipe.RenderAnnotation.Rectangle;n.readMessage(p,proto.mediapipe.RenderAnnotation.Rectangle.deserializeBinaryFromReader),i.setRectangle(p);break;case 2:p=n.readInt32(),i.setCornerRadius(p);break;case 3:p=n.readInt32(),i.setLineType(p);break;default:n.skipField()}return i},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.serializeBinary=function(){var i=new e.BinaryWriter;return proto.mediapipe.RenderAnnotation.RoundedRectangle.serializeBinaryToWriter(this,i),i.getResultBuffer()},proto.mediapipe.RenderAnnotation.RoundedRectangle.serializeBinaryToWriter=function(i,n){var p=void 0;(p=i.getRectangle())!=null&&n.writeMessage(1,p,proto.mediapipe.RenderAnnotation.Rectangle.serializeBinaryToWriter),(p=e.Message.getField(i,2))!=null&&n.writeInt32(2,p),(p=e.Message.getField(i,3))!=null&&n.writeInt32(3,p)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.getRectangle=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Rectangle,1)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.setRectangle=function(i){return e.Message.setWrapperField(this,1,i)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.clearRectangle=function(){return this.setRectangle(void 0)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.hasRectangle=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.getCornerRadius=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.setCornerRadius=function(i){return e.Message.setField(this,2,i)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.clearCornerRadius=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.hasCornerRadius=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.getLineType=function(){return e.Message.getFieldWithDefault(this,3,4)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.setLineType=function(i){return e.Message.setField(this,3,i)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.clearLineType=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.hasLineType=function(){return e.Message.getField(this,3)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.toObject=function(i){return proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.toObject(i,this)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.toObject=function(i,n){var p,d={roundedRectangle:(p=n.getRoundedRectangle())&&proto.mediapipe.RenderAnnotation.RoundedRectangle.toObject(i,p),fillColor:(p=n.getFillColor())&&o.Color.toObject(i,p)};return i&&(d.$jspbMessageInstance=n),d}),proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.deserializeBinary=function(i){var n=new e.BinaryReader(i),p=new proto.mediapipe.RenderAnnotation.FilledRoundedRectangle;return proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.deserializeBinaryFromReader(p,n)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.deserializeBinaryFromReader=function(i,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:var p=new proto.mediapipe.RenderAnnotation.RoundedRectangle;n.readMessage(p,proto.mediapipe.RenderAnnotation.RoundedRectangle.deserializeBinaryFromReader),i.setRoundedRectangle(p);break;case 2:p=new o.Color,n.readMessage(p,o.Color.deserializeBinaryFromReader),i.setFillColor(p);break;default:n.skipField()}return i},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.serializeBinary=function(){var i=new e.BinaryWriter;return proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.serializeBinaryToWriter(this,i),i.getResultBuffer()},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.serializeBinaryToWriter=function(i,n){var p=void 0;(p=i.getRoundedRectangle())!=null&&n.writeMessage(1,p,proto.mediapipe.RenderAnnotation.RoundedRectangle.serializeBinaryToWriter),(p=i.getFillColor())!=null&&n.writeMessage(2,p,o.Color.serializeBinaryToWriter)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.getRoundedRectangle=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.RoundedRectangle,1)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.setRoundedRectangle=function(i){return e.Message.setWrapperField(this,1,i)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.clearRoundedRectangle=function(){return this.setRoundedRectangle(void 0)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.hasRoundedRectangle=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.getFillColor=function(){return e.Message.getWrapperField(this,o.Color,2)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.setFillColor=function(i){return e.Message.setWrapperField(this,2,i)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.clearFillColor=function(){return this.setFillColor(void 0)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.hasFillColor=function(){return e.Message.getField(this,2)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.Oval.prototype.toObject=function(i){return proto.mediapipe.RenderAnnotation.Oval.toObject(i,this)},proto.mediapipe.RenderAnnotation.Oval.toObject=function(i,n){var p,d={rectangle:(p=n.getRectangle())&&proto.mediapipe.RenderAnnotation.Rectangle.toObject(i,p)};return i&&(d.$jspbMessageInstance=n),d}),proto.mediapipe.RenderAnnotation.Oval.deserializeBinary=function(i){var n=new e.BinaryReader(i),p=new proto.mediapipe.RenderAnnotation.Oval;return proto.mediapipe.RenderAnnotation.Oval.deserializeBinaryFromReader(p,n)},proto.mediapipe.RenderAnnotation.Oval.deserializeBinaryFromReader=function(i,n){for(;n.nextField()&&!n.isEndGroup();)if(n.getFieldNumber()===1){var p=new proto.mediapipe.RenderAnnotation.Rectangle;n.readMessage(p,proto.mediapipe.RenderAnnotation.Rectangle.deserializeBinaryFromReader),i.setRectangle(p)}else n.skipField();return i},proto.mediapipe.RenderAnnotation.Oval.prototype.serializeBinary=function(){var i=new e.BinaryWriter;return proto.mediapipe.RenderAnnotation.Oval.serializeBinaryToWriter(this,i),i.getResultBuffer()},proto.mediapipe.RenderAnnotation.Oval.serializeBinaryToWriter=function(i,n){var p;(p=i.getRectangle())!=null&&n.writeMessage(1,p,proto.mediapipe.RenderAnnotation.Rectangle.serializeBinaryToWriter)},proto.mediapipe.RenderAnnotation.Oval.prototype.getRectangle=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Rectangle,1)},proto.mediapipe.RenderAnnotation.Oval.prototype.setRectangle=function(i){return e.Message.setWrapperField(this,1,i)},proto.mediapipe.RenderAnnotation.Oval.prototype.clearRectangle=function(){return this.setRectangle(void 0)},proto.mediapipe.RenderAnnotation.Oval.prototype.hasRectangle=function(){return e.Message.getField(this,1)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.FilledOval.prototype.toObject=function(i){return proto.mediapipe.RenderAnnotation.FilledOval.toObject(i,this)},proto.mediapipe.RenderAnnotation.FilledOval.toObject=function(i,n){var p,d={oval:(p=n.getOval())&&proto.mediapipe.RenderAnnotation.Oval.toObject(i,p),fillColor:(p=n.getFillColor())&&o.Color.toObject(i,p)};return i&&(d.$jspbMessageInstance=n),d}),proto.mediapipe.RenderAnnotation.FilledOval.deserializeBinary=function(i){var n=new e.BinaryReader(i),p=new proto.mediapipe.RenderAnnotation.FilledOval;return proto.mediapipe.RenderAnnotation.FilledOval.deserializeBinaryFromReader(p,n)},proto.mediapipe.RenderAnnotation.FilledOval.deserializeBinaryFromReader=function(i,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:var p=new proto.mediapipe.RenderAnnotation.Oval;n.readMessage(p,proto.mediapipe.RenderAnnotation.Oval.deserializeBinaryFromReader),i.setOval(p);break;case 2:p=new o.Color,n.readMessage(p,o.Color.deserializeBinaryFromReader),i.setFillColor(p);break;default:n.skipField()}return i},proto.mediapipe.RenderAnnotation.FilledOval.prototype.serializeBinary=function(){var i=new e.BinaryWriter;return proto.mediapipe.RenderAnnotation.FilledOval.serializeBinaryToWriter(this,i),i.getResultBuffer()},proto.mediapipe.RenderAnnotation.FilledOval.serializeBinaryToWriter=function(i,n){var p=void 0;(p=i.getOval())!=null&&n.writeMessage(1,p,proto.mediapipe.RenderAnnotation.Oval.serializeBinaryToWriter),(p=i.getFillColor())!=null&&n.writeMessage(2,p,o.Color.serializeBinaryToWriter)},proto.mediapipe.RenderAnnotation.FilledOval.prototype.getOval=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Oval,1)},proto.mediapipe.RenderAnnotation.FilledOval.prototype.setOval=function(i){return e.Message.setWrapperField(this,1,i)},proto.mediapipe.RenderAnnotation.FilledOval.prototype.clearOval=function(){return this.setOval(void 0)},proto.mediapipe.RenderAnnotation.FilledOval.prototype.hasOval=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.RenderAnnotation.FilledOval.prototype.getFillColor=function(){return e.Message.getWrapperField(this,o.Color,2)},proto.mediapipe.RenderAnnotation.FilledOval.prototype.setFillColor=function(i){return e.Message.setWrapperField(this,2,i)},proto.mediapipe.RenderAnnotation.FilledOval.prototype.clearFillColor=function(){return this.setFillColor(void 0)},proto.mediapipe.RenderAnnotation.FilledOval.prototype.hasFillColor=function(){return e.Message.getField(this,2)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.Point.prototype.toObject=function(i){return proto.mediapipe.RenderAnnotation.Point.toObject(i,this)},proto.mediapipe.RenderAnnotation.Point.toObject=function(i,n){var p,d={x:(p=e.Message.getOptionalFloatingPointField(n,1))==null?void 0:p,y:(p=e.Message.getOptionalFloatingPointField(n,2))==null?void 0:p,normalized:e.Message.getBooleanFieldWithDefault(n,3,!1)};return i&&(d.$jspbMessageInstance=n),d}),proto.mediapipe.RenderAnnotation.Point.deserializeBinary=function(i){var n=new e.BinaryReader(i),p=new proto.mediapipe.RenderAnnotation.Point;return proto.mediapipe.RenderAnnotation.Point.deserializeBinaryFromReader(p,n)},proto.mediapipe.RenderAnnotation.Point.deserializeBinaryFromReader=function(i,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:var p=n.readDouble();i.setX(p);break;case 2:p=n.readDouble(),i.setY(p);break;case 3:p=n.readBool(),i.setNormalized(p);break;default:n.skipField()}return i},proto.mediapipe.RenderAnnotation.Point.prototype.serializeBinary=function(){var i=new e.BinaryWriter;return proto.mediapipe.RenderAnnotation.Point.serializeBinaryToWriter(this,i),i.getResultBuffer()},proto.mediapipe.RenderAnnotation.Point.serializeBinaryToWriter=function(i,n){var p=void 0;(p=e.Message.getField(i,1))!=null&&n.writeDouble(1,p),(p=e.Message.getField(i,2))!=null&&n.writeDouble(2,p),(p=e.Message.getField(i,3))!=null&&n.writeBool(3,p)},proto.mediapipe.RenderAnnotation.Point.prototype.getX=function(){return e.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.RenderAnnotation.Point.prototype.setX=function(i){return e.Message.setField(this,1,i)},proto.mediapipe.RenderAnnotation.Point.prototype.clearX=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.RenderAnnotation.Point.prototype.hasX=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.RenderAnnotation.Point.prototype.getY=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.RenderAnnotation.Point.prototype.setY=function(i){return e.Message.setField(this,2,i)},proto.mediapipe.RenderAnnotation.Point.prototype.clearY=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.RenderAnnotation.Point.prototype.hasY=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.RenderAnnotation.Point.prototype.getNormalized=function(){return e.Message.getBooleanFieldWithDefault(this,3,!1)},proto.mediapipe.RenderAnnotation.Point.prototype.setNormalized=function(i){return e.Message.setField(this,3,i)},proto.mediapipe.RenderAnnotation.Point.prototype.clearNormalized=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.RenderAnnotation.Point.prototype.hasNormalized=function(){return e.Message.getField(this,3)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.Line.prototype.toObject=function(i){return proto.mediapipe.RenderAnnotation.Line.toObject(i,this)},proto.mediapipe.RenderAnnotation.Line.toObject=function(i,n){var p,d={xStart:(p=e.Message.getOptionalFloatingPointField(n,1))==null?void 0:p,yStart:(p=e.Message.getOptionalFloatingPointField(n,2))==null?void 0:p,xEnd:(p=e.Message.getOptionalFloatingPointField(n,3))==null?void 0:p,yEnd:(p=e.Message.getOptionalFloatingPointField(n,4))==null?void 0:p,normalized:e.Message.getBooleanFieldWithDefault(n,5,!1),lineType:e.Message.getFieldWithDefault(n,6,1)};return i&&(d.$jspbMessageInstance=n),d}),proto.mediapipe.RenderAnnotation.Line.deserializeBinary=function(i){var n=new e.BinaryReader(i),p=new proto.mediapipe.RenderAnnotation.Line;return proto.mediapipe.RenderAnnotation.Line.deserializeBinaryFromReader(p,n)},proto.mediapipe.RenderAnnotation.Line.deserializeBinaryFromReader=function(i,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:var p=n.readDouble();i.setXStart(p);break;case 2:p=n.readDouble(),i.setYStart(p);break;case 3:p=n.readDouble(),i.setXEnd(p);break;case 4:p=n.readDouble(),i.setYEnd(p);break;case 5:p=n.readBool(),i.setNormalized(p);break;case 6:p=n.readEnum(),i.setLineType(p);break;default:n.skipField()}return i},proto.mediapipe.RenderAnnotation.Line.prototype.serializeBinary=function(){var i=new e.BinaryWriter;return proto.mediapipe.RenderAnnotation.Line.serializeBinaryToWriter(this,i),i.getResultBuffer()},proto.mediapipe.RenderAnnotation.Line.serializeBinaryToWriter=function(i,n){var p=void 0;(p=e.Message.getField(i,1))!=null&&n.writeDouble(1,p),(p=e.Message.getField(i,2))!=null&&n.writeDouble(2,p),(p=e.Message.getField(i,3))!=null&&n.writeDouble(3,p),(p=e.Message.getField(i,4))!=null&&n.writeDouble(4,p),(p=e.Message.getField(i,5))!=null&&n.writeBool(5,p),(p=e.Message.getField(i,6))!=null&&n.writeEnum(6,p)},proto.mediapipe.RenderAnnotation.Line.LineType={UNKNOWN:0,SOLID:1,DASHED:2},proto.mediapipe.RenderAnnotation.Line.prototype.getXStart=function(){return e.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.RenderAnnotation.Line.prototype.setXStart=function(i){return e.Message.setField(this,1,i)},proto.mediapipe.RenderAnnotation.Line.prototype.clearXStart=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.RenderAnnotation.Line.prototype.hasXStart=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.RenderAnnotation.Line.prototype.getYStart=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.RenderAnnotation.Line.prototype.setYStart=function(i){return e.Message.setField(this,2,i)},proto.mediapipe.RenderAnnotation.Line.prototype.clearYStart=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.RenderAnnotation.Line.prototype.hasYStart=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.RenderAnnotation.Line.prototype.getXEnd=function(){return e.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.RenderAnnotation.Line.prototype.setXEnd=function(i){return e.Message.setField(this,3,i)},proto.mediapipe.RenderAnnotation.Line.prototype.clearXEnd=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.RenderAnnotation.Line.prototype.hasXEnd=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.RenderAnnotation.Line.prototype.getYEnd=function(){return e.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.RenderAnnotation.Line.prototype.setYEnd=function(i){return e.Message.setField(this,4,i)},proto.mediapipe.RenderAnnotation.Line.prototype.clearYEnd=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.RenderAnnotation.Line.prototype.hasYEnd=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.RenderAnnotation.Line.prototype.getNormalized=function(){return e.Message.getBooleanFieldWithDefault(this,5,!1)},proto.mediapipe.RenderAnnotation.Line.prototype.setNormalized=function(i){return e.Message.setField(this,5,i)},proto.mediapipe.RenderAnnotation.Line.prototype.clearNormalized=function(){return e.Message.setField(this,5,void 0)},proto.mediapipe.RenderAnnotation.Line.prototype.hasNormalized=function(){return e.Message.getField(this,5)!=null},proto.mediapipe.RenderAnnotation.Line.prototype.getLineType=function(){return e.Message.getFieldWithDefault(this,6,1)},proto.mediapipe.RenderAnnotation.Line.prototype.setLineType=function(i){return e.Message.setField(this,6,i)},proto.mediapipe.RenderAnnotation.Line.prototype.clearLineType=function(){return e.Message.setField(this,6,void 0)},proto.mediapipe.RenderAnnotation.Line.prototype.hasLineType=function(){return e.Message.getField(this,6)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.GradientLine.prototype.toObject=function(i){return proto.mediapipe.RenderAnnotation.GradientLine.toObject(i,this)},proto.mediapipe.RenderAnnotation.GradientLine.toObject=function(i,n){var p,d={xStart:(p=e.Message.getOptionalFloatingPointField(n,1))==null?void 0:p,yStart:(p=e.Message.getOptionalFloatingPointField(n,2))==null?void 0:p,xEnd:(p=e.Message.getOptionalFloatingPointField(n,3))==null?void 0:p,yEnd:(p=e.Message.getOptionalFloatingPointField(n,4))==null?void 0:p,normalized:e.Message.getBooleanFieldWithDefault(n,5,!1),color1:(p=n.getColor1())&&o.Color.toObject(i,p),color2:(p=n.getColor2())&&o.Color.toObject(i,p)};return i&&(d.$jspbMessageInstance=n),d}),proto.mediapipe.RenderAnnotation.GradientLine.deserializeBinary=function(i){var n=new e.BinaryReader(i),p=new proto.mediapipe.RenderAnnotation.GradientLine;return proto.mediapipe.RenderAnnotation.GradientLine.deserializeBinaryFromReader(p,n)},proto.mediapipe.RenderAnnotation.GradientLine.deserializeBinaryFromReader=function(i,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:var p=n.readDouble();i.setXStart(p);break;case 2:p=n.readDouble(),i.setYStart(p);break;case 3:p=n.readDouble(),i.setXEnd(p);break;case 4:p=n.readDouble(),i.setYEnd(p);break;case 5:p=n.readBool(),i.setNormalized(p);break;case 6:p=new o.Color,n.readMessage(p,o.Color.deserializeBinaryFromReader),i.setColor1(p);break;case 7:p=new o.Color,n.readMessage(p,o.Color.deserializeBinaryFromReader),i.setColor2(p);break;default:n.skipField()}return i},proto.mediapipe.RenderAnnotation.GradientLine.prototype.serializeBinary=function(){var i=new e.BinaryWriter;return proto.mediapipe.RenderAnnotation.GradientLine.serializeBinaryToWriter(this,i),i.getResultBuffer()},proto.mediapipe.RenderAnnotation.GradientLine.serializeBinaryToWriter=function(i,n){var p=void 0;(p=e.Message.getField(i,1))!=null&&n.writeDouble(1,p),(p=e.Message.getField(i,2))!=null&&n.writeDouble(2,p),(p=e.Message.getField(i,3))!=null&&n.writeDouble(3,p),(p=e.Message.getField(i,4))!=null&&n.writeDouble(4,p),(p=e.Message.getField(i,5))!=null&&n.writeBool(5,p),(p=i.getColor1())!=null&&n.writeMessage(6,p,o.Color.serializeBinaryToWriter),(p=i.getColor2())!=null&&n.writeMessage(7,p,o.Color.serializeBinaryToWriter)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.getXStart=function(){return e.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.setXStart=function(i){return e.Message.setField(this,1,i)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.clearXStart=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.hasXStart=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.RenderAnnotation.GradientLine.prototype.getYStart=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.setYStart=function(i){return e.Message.setField(this,2,i)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.clearYStart=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.hasYStart=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.RenderAnnotation.GradientLine.prototype.getXEnd=function(){return e.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.setXEnd=function(i){return e.Message.setField(this,3,i)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.clearXEnd=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.hasXEnd=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.RenderAnnotation.GradientLine.prototype.getYEnd=function(){return e.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.setYEnd=function(i){return e.Message.setField(this,4,i)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.clearYEnd=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.hasYEnd=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.RenderAnnotation.GradientLine.prototype.getNormalized=function(){return e.Message.getBooleanFieldWithDefault(this,5,!1)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.setNormalized=function(i){return e.Message.setField(this,5,i)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.clearNormalized=function(){return e.Message.setField(this,5,void 0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.hasNormalized=function(){return e.Message.getField(this,5)!=null},proto.mediapipe.RenderAnnotation.GradientLine.prototype.getColor1=function(){return e.Message.getWrapperField(this,o.Color,6)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.setColor1=function(i){return e.Message.setWrapperField(this,6,i)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.clearColor1=function(){return this.setColor1(void 0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.hasColor1=function(){return e.Message.getField(this,6)!=null},proto.mediapipe.RenderAnnotation.GradientLine.prototype.getColor2=function(){return e.Message.getWrapperField(this,o.Color,7)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.setColor2=function(i){return e.Message.setWrapperField(this,7,i)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.clearColor2=function(){return this.setColor2(void 0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.hasColor2=function(){return e.Message.getField(this,7)!=null},proto.mediapipe.RenderAnnotation.Scribble.repeatedFields_=[1],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.Scribble.prototype.toObject=function(i){return proto.mediapipe.RenderAnnotation.Scribble.toObject(i,this)},proto.mediapipe.RenderAnnotation.Scribble.toObject=function(i,n){var p={pointList:e.Message.toObjectList(n.getPointList(),proto.mediapipe.RenderAnnotation.Point.toObject,i)};return i&&(p.$jspbMessageInstance=n),p}),proto.mediapipe.RenderAnnotation.Scribble.deserializeBinary=function(i){var n=new e.BinaryReader(i),p=new proto.mediapipe.RenderAnnotation.Scribble;return proto.mediapipe.RenderAnnotation.Scribble.deserializeBinaryFromReader(p,n)},proto.mediapipe.RenderAnnotation.Scribble.deserializeBinaryFromReader=function(i,n){for(;n.nextField()&&!n.isEndGroup();)if(n.getFieldNumber()===1){var p=new proto.mediapipe.RenderAnnotation.Point;n.readMessage(p,proto.mediapipe.RenderAnnotation.Point.deserializeBinaryFromReader),i.addPoint(p)}else n.skipField();return i},proto.mediapipe.RenderAnnotation.Scribble.prototype.serializeBinary=function(){var i=new e.BinaryWriter;return proto.mediapipe.RenderAnnotation.Scribble.serializeBinaryToWriter(this,i),i.getResultBuffer()},proto.mediapipe.RenderAnnotation.Scribble.serializeBinaryToWriter=function(i,n){var p;(p=i.getPointList()).length>0&&n.writeRepeatedMessage(1,p,proto.mediapipe.RenderAnnotation.Point.serializeBinaryToWriter)},proto.mediapipe.RenderAnnotation.Scribble.prototype.getPointList=function(){return e.Message.getRepeatedWrapperField(this,proto.mediapipe.RenderAnnotation.Point,1)},proto.mediapipe.RenderAnnotation.Scribble.prototype.setPointList=function(i){return e.Message.setRepeatedWrapperField(this,1,i)},proto.mediapipe.RenderAnnotation.Scribble.prototype.addPoint=function(i,n){return e.Message.addToRepeatedWrapperField(this,1,i,proto.mediapipe.RenderAnnotation.Point,n)},proto.mediapipe.RenderAnnotation.Scribble.prototype.clearPointList=function(){return this.setPointList([])},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.Arrow.prototype.toObject=function(i){return proto.mediapipe.RenderAnnotation.Arrow.toObject(i,this)},proto.mediapipe.RenderAnnotation.Arrow.toObject=function(i,n){var p,d={xStart:(p=e.Message.getOptionalFloatingPointField(n,1))==null?void 0:p,yStart:(p=e.Message.getOptionalFloatingPointField(n,2))==null?void 0:p,xEnd:(p=e.Message.getOptionalFloatingPointField(n,3))==null?void 0:p,yEnd:(p=e.Message.getOptionalFloatingPointField(n,4))==null?void 0:p,normalized:e.Message.getBooleanFieldWithDefault(n,5,!1)};return i&&(d.$jspbMessageInstance=n),d}),proto.mediapipe.RenderAnnotation.Arrow.deserializeBinary=function(i){var n=new e.BinaryReader(i),p=new proto.mediapipe.RenderAnnotation.Arrow;return proto.mediapipe.RenderAnnotation.Arrow.deserializeBinaryFromReader(p,n)},proto.mediapipe.RenderAnnotation.Arrow.deserializeBinaryFromReader=function(i,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:var p=n.readDouble();i.setXStart(p);break;case 2:p=n.readDouble(),i.setYStart(p);break;case 3:p=n.readDouble(),i.setXEnd(p);break;case 4:p=n.readDouble(),i.setYEnd(p);break;case 5:p=n.readBool(),i.setNormalized(p);break;default:n.skipField()}return i},proto.mediapipe.RenderAnnotation.Arrow.prototype.serializeBinary=function(){var i=new e.BinaryWriter;return proto.mediapipe.RenderAnnotation.Arrow.serializeBinaryToWriter(this,i),i.getResultBuffer()},proto.mediapipe.RenderAnnotation.Arrow.serializeBinaryToWriter=function(i,n){var p=void 0;(p=e.Message.getField(i,1))!=null&&n.writeDouble(1,p),(p=e.Message.getField(i,2))!=null&&n.writeDouble(2,p),(p=e.Message.getField(i,3))!=null&&n.writeDouble(3,p),(p=e.Message.getField(i,4))!=null&&n.writeDouble(4,p),(p=e.Message.getField(i,5))!=null&&n.writeBool(5,p)},proto.mediapipe.RenderAnnotation.Arrow.prototype.getXStart=function(){return e.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.setXStart=function(i){return e.Message.setField(this,1,i)},proto.mediapipe.RenderAnnotation.Arrow.prototype.clearXStart=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.hasXStart=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.RenderAnnotation.Arrow.prototype.getYStart=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.setYStart=function(i){return e.Message.setField(this,2,i)},proto.mediapipe.RenderAnnotation.Arrow.prototype.clearYStart=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.hasYStart=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.RenderAnnotation.Arrow.prototype.getXEnd=function(){return e.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.setXEnd=function(i){return e.Message.setField(this,3,i)},proto.mediapipe.RenderAnnotation.Arrow.prototype.clearXEnd=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.hasXEnd=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.RenderAnnotation.Arrow.prototype.getYEnd=function(){return e.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.setYEnd=function(i){return e.Message.setField(this,4,i)},proto.mediapipe.RenderAnnotation.Arrow.prototype.clearYEnd=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.hasYEnd=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.RenderAnnotation.Arrow.prototype.getNormalized=function(){return e.Message.getBooleanFieldWithDefault(this,5,!1)},proto.mediapipe.RenderAnnotation.Arrow.prototype.setNormalized=function(i){return e.Message.setField(this,5,i)},proto.mediapipe.RenderAnnotation.Arrow.prototype.clearNormalized=function(){return e.Message.setField(this,5,void 0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.hasNormalized=function(){return e.Message.getField(this,5)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.Text.prototype.toObject=function(i){return proto.mediapipe.RenderAnnotation.Text.toObject(i,this)},proto.mediapipe.RenderAnnotation.Text.toObject=function(i,n){var p,d={displayText:(p=e.Message.getField(n,1))==null?void 0:p,left:(p=e.Message.getOptionalFloatingPointField(n,2))==null?void 0:p,baseline:(p=e.Message.getOptionalFloatingPointField(n,3))==null?void 0:p,fontHeight:e.Message.getFloatingPointFieldWithDefault(n,4,8),normalized:e.Message.getBooleanFieldWithDefault(n,5,!1),fontFace:e.Message.getFieldWithDefault(n,6,0),centerHorizontally:e.Message.getBooleanFieldWithDefault(n,7,!1),centerVertically:e.Message.getBooleanFieldWithDefault(n,8,!1),outlineThickness:e.Message.getFloatingPointFieldWithDefault(n,11,0),outlineColor:(p=n.getOutlineColor())&&o.Color.toObject(i,p)};return i&&(d.$jspbMessageInstance=n),d}),proto.mediapipe.RenderAnnotation.Text.deserializeBinary=function(i){var n=new e.BinaryReader(i),p=new proto.mediapipe.RenderAnnotation.Text;return proto.mediapipe.RenderAnnotation.Text.deserializeBinaryFromReader(p,n)},proto.mediapipe.RenderAnnotation.Text.deserializeBinaryFromReader=function(i,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:var p=n.readString();i.setDisplayText(p);break;case 2:p=n.readDouble(),i.setLeft(p);break;case 3:p=n.readDouble(),i.setBaseline(p);break;case 4:p=n.readDouble(),i.setFontHeight(p);break;case 5:p=n.readBool(),i.setNormalized(p);break;case 6:p=n.readInt32(),i.setFontFace(p);break;case 7:p=n.readBool(),i.setCenterHorizontally(p);break;case 8:p=n.readBool(),i.setCenterVertically(p);break;case 11:p=n.readDouble(),i.setOutlineThickness(p);break;case 12:p=new o.Color,n.readMessage(p,o.Color.deserializeBinaryFromReader),i.setOutlineColor(p);break;default:n.skipField()}return i},proto.mediapipe.RenderAnnotation.Text.prototype.serializeBinary=function(){var i=new e.BinaryWriter;return proto.mediapipe.RenderAnnotation.Text.serializeBinaryToWriter(this,i),i.getResultBuffer()},proto.mediapipe.RenderAnnotation.Text.serializeBinaryToWriter=function(i,n){var p=void 0;(p=e.Message.getField(i,1))!=null&&n.writeString(1,p),(p=e.Message.getField(i,2))!=null&&n.writeDouble(2,p),(p=e.Message.getField(i,3))!=null&&n.writeDouble(3,p),(p=e.Message.getField(i,4))!=null&&n.writeDouble(4,p),(p=e.Message.getField(i,5))!=null&&n.writeBool(5,p),(p=e.Message.getField(i,6))!=null&&n.writeInt32(6,p),(p=e.Message.getField(i,7))!=null&&n.writeBool(7,p),(p=e.Message.getField(i,8))!=null&&n.writeBool(8,p),(p=e.Message.getField(i,11))!=null&&n.writeDouble(11,p),(p=i.getOutlineColor())!=null&&n.writeMessage(12,p,o.Color.serializeBinaryToWriter)},proto.mediapipe.RenderAnnotation.Text.prototype.getDisplayText=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.RenderAnnotation.Text.prototype.setDisplayText=function(i){return e.Message.setField(this,1,i)},proto.mediapipe.RenderAnnotation.Text.prototype.clearDisplayText=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasDisplayText=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.RenderAnnotation.Text.prototype.getLeft=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.RenderAnnotation.Text.prototype.setLeft=function(i){return e.Message.setField(this,2,i)},proto.mediapipe.RenderAnnotation.Text.prototype.clearLeft=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasLeft=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.RenderAnnotation.Text.prototype.getBaseline=function(){return e.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.RenderAnnotation.Text.prototype.setBaseline=function(i){return e.Message.setField(this,3,i)},proto.mediapipe.RenderAnnotation.Text.prototype.clearBaseline=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasBaseline=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.RenderAnnotation.Text.prototype.getFontHeight=function(){return e.Message.getFloatingPointFieldWithDefault(this,4,8)},proto.mediapipe.RenderAnnotation.Text.prototype.setFontHeight=function(i){return e.Message.setField(this,4,i)},proto.mediapipe.RenderAnnotation.Text.prototype.clearFontHeight=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasFontHeight=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.RenderAnnotation.Text.prototype.getNormalized=function(){return e.Message.getBooleanFieldWithDefault(this,5,!1)},proto.mediapipe.RenderAnnotation.Text.prototype.setNormalized=function(i){return e.Message.setField(this,5,i)},proto.mediapipe.RenderAnnotation.Text.prototype.clearNormalized=function(){return e.Message.setField(this,5,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasNormalized=function(){return e.Message.getField(this,5)!=null},proto.mediapipe.RenderAnnotation.Text.prototype.getFontFace=function(){return e.Message.getFieldWithDefault(this,6,0)},proto.mediapipe.RenderAnnotation.Text.prototype.setFontFace=function(i){return e.Message.setField(this,6,i)},proto.mediapipe.RenderAnnotation.Text.prototype.clearFontFace=function(){return e.Message.setField(this,6,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasFontFace=function(){return e.Message.getField(this,6)!=null},proto.mediapipe.RenderAnnotation.Text.prototype.getCenterHorizontally=function(){return e.Message.getBooleanFieldWithDefault(this,7,!1)},proto.mediapipe.RenderAnnotation.Text.prototype.setCenterHorizontally=function(i){return e.Message.setField(this,7,i)},proto.mediapipe.RenderAnnotation.Text.prototype.clearCenterHorizontally=function(){return e.Message.setField(this,7,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasCenterHorizontally=function(){return e.Message.getField(this,7)!=null},proto.mediapipe.RenderAnnotation.Text.prototype.getCenterVertically=function(){return e.Message.getBooleanFieldWithDefault(this,8,!1)},proto.mediapipe.RenderAnnotation.Text.prototype.setCenterVertically=function(i){return e.Message.setField(this,8,i)},proto.mediapipe.RenderAnnotation.Text.prototype.clearCenterVertically=function(){return e.Message.setField(this,8,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasCenterVertically=function(){return e.Message.getField(this,8)!=null},proto.mediapipe.RenderAnnotation.Text.prototype.getOutlineThickness=function(){return e.Message.getFloatingPointFieldWithDefault(this,11,0)},proto.mediapipe.RenderAnnotation.Text.prototype.setOutlineThickness=function(i){return e.Message.setField(this,11,i)},proto.mediapipe.RenderAnnotation.Text.prototype.clearOutlineThickness=function(){return e.Message.setField(this,11,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasOutlineThickness=function(){return e.Message.getField(this,11)!=null},proto.mediapipe.RenderAnnotation.Text.prototype.getOutlineColor=function(){return e.Message.getWrapperField(this,o.Color,12)},proto.mediapipe.RenderAnnotation.Text.prototype.setOutlineColor=function(i){return e.Message.setWrapperField(this,12,i)},proto.mediapipe.RenderAnnotation.Text.prototype.clearOutlineColor=function(){return this.setOutlineColor(void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasOutlineColor=function(){return e.Message.getField(this,12)!=null},proto.mediapipe.RenderAnnotation.prototype.getRectangle=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Rectangle,1)},proto.mediapipe.RenderAnnotation.prototype.setRectangle=function(i){return e.Message.setOneofWrapperField(this,1,proto.mediapipe.RenderAnnotation.oneofGroups_[0],i)},proto.mediapipe.RenderAnnotation.prototype.clearRectangle=function(){return this.setRectangle(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasRectangle=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.RenderAnnotation.prototype.getFilledRectangle=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.FilledRectangle,2)},proto.mediapipe.RenderAnnotation.prototype.setFilledRectangle=function(i){return e.Message.setOneofWrapperField(this,2,proto.mediapipe.RenderAnnotation.oneofGroups_[0],i)},proto.mediapipe.RenderAnnotation.prototype.clearFilledRectangle=function(){return this.setFilledRectangle(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasFilledRectangle=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.RenderAnnotation.prototype.getOval=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Oval,3)},proto.mediapipe.RenderAnnotation.prototype.setOval=function(i){return e.Message.setOneofWrapperField(this,3,proto.mediapipe.RenderAnnotation.oneofGroups_[0],i)},proto.mediapipe.RenderAnnotation.prototype.clearOval=function(){return this.setOval(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasOval=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.RenderAnnotation.prototype.getFilledOval=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.FilledOval,4)},proto.mediapipe.RenderAnnotation.prototype.setFilledOval=function(i){return e.Message.setOneofWrapperField(this,4,proto.mediapipe.RenderAnnotation.oneofGroups_[0],i)},proto.mediapipe.RenderAnnotation.prototype.clearFilledOval=function(){return this.setFilledOval(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasFilledOval=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.RenderAnnotation.prototype.getPoint=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Point,5)},proto.mediapipe.RenderAnnotation.prototype.setPoint=function(i){return e.Message.setOneofWrapperField(this,5,proto.mediapipe.RenderAnnotation.oneofGroups_[0],i)},proto.mediapipe.RenderAnnotation.prototype.clearPoint=function(){return this.setPoint(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasPoint=function(){return e.Message.getField(this,5)!=null},proto.mediapipe.RenderAnnotation.prototype.getLine=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Line,6)},proto.mediapipe.RenderAnnotation.prototype.setLine=function(i){return e.Message.setOneofWrapperField(this,6,proto.mediapipe.RenderAnnotation.oneofGroups_[0],i)},proto.mediapipe.RenderAnnotation.prototype.clearLine=function(){return this.setLine(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasLine=function(){return e.Message.getField(this,6)!=null},proto.mediapipe.RenderAnnotation.prototype.getArrow=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Arrow,7)},proto.mediapipe.RenderAnnotation.prototype.setArrow=function(i){return e.Message.setOneofWrapperField(this,7,proto.mediapipe.RenderAnnotation.oneofGroups_[0],i)},proto.mediapipe.RenderAnnotation.prototype.clearArrow=function(){return this.setArrow(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasArrow=function(){return e.Message.getField(this,7)!=null},proto.mediapipe.RenderAnnotation.prototype.getText=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Text,8)},proto.mediapipe.RenderAnnotation.prototype.setText=function(i){return e.Message.setOneofWrapperField(this,8,proto.mediapipe.RenderAnnotation.oneofGroups_[0],i)},proto.mediapipe.RenderAnnotation.prototype.clearText=function(){return this.setText(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasText=function(){return e.Message.getField(this,8)!=null},proto.mediapipe.RenderAnnotation.prototype.getRoundedRectangle=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.RoundedRectangle,9)},proto.mediapipe.RenderAnnotation.prototype.setRoundedRectangle=function(i){return e.Message.setOneofWrapperField(this,9,proto.mediapipe.RenderAnnotation.oneofGroups_[0],i)},proto.mediapipe.RenderAnnotation.prototype.clearRoundedRectangle=function(){return this.setRoundedRectangle(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasRoundedRectangle=function(){return e.Message.getField(this,9)!=null},proto.mediapipe.RenderAnnotation.prototype.getFilledRoundedRectangle=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.FilledRoundedRectangle,10)},proto.mediapipe.RenderAnnotation.prototype.setFilledRoundedRectangle=function(i){return e.Message.setOneofWrapperField(this,10,proto.mediapipe.RenderAnnotation.oneofGroups_[0],i)},proto.mediapipe.RenderAnnotation.prototype.clearFilledRoundedRectangle=function(){return this.setFilledRoundedRectangle(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasFilledRoundedRectangle=function(){return e.Message.getField(this,10)!=null},proto.mediapipe.RenderAnnotation.prototype.getGradientLine=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.GradientLine,14)},proto.mediapipe.RenderAnnotation.prototype.setGradientLine=function(i){return e.Message.setOneofWrapperField(this,14,proto.mediapipe.RenderAnnotation.oneofGroups_[0],i)},proto.mediapipe.RenderAnnotation.prototype.clearGradientLine=function(){return this.setGradientLine(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasGradientLine=function(){return e.Message.getField(this,14)!=null},proto.mediapipe.RenderAnnotation.prototype.getScribble=function(){return e.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Scribble,15)},proto.mediapipe.RenderAnnotation.prototype.setScribble=function(i){return e.Message.setOneofWrapperField(this,15,proto.mediapipe.RenderAnnotation.oneofGroups_[0],i)},proto.mediapipe.RenderAnnotation.prototype.clearScribble=function(){return this.setScribble(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasScribble=function(){return e.Message.getField(this,15)!=null},proto.mediapipe.RenderAnnotation.prototype.getThickness=function(){return e.Message.getFloatingPointFieldWithDefault(this,11,1)},proto.mediapipe.RenderAnnotation.prototype.setThickness=function(i){return e.Message.setField(this,11,i)},proto.mediapipe.RenderAnnotation.prototype.clearThickness=function(){return e.Message.setField(this,11,void 0)},proto.mediapipe.RenderAnnotation.prototype.hasThickness=function(){return e.Message.getField(this,11)!=null},proto.mediapipe.RenderAnnotation.prototype.getColor=function(){return e.Message.getWrapperField(this,o.Color,12)},proto.mediapipe.RenderAnnotation.prototype.setColor=function(i){return e.Message.setWrapperField(this,12,i)},proto.mediapipe.RenderAnnotation.prototype.clearColor=function(){return this.setColor(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasColor=function(){return e.Message.getField(this,12)!=null},proto.mediapipe.RenderAnnotation.prototype.getSceneTag=function(){return e.Message.getFieldWithDefault(this,13,"")},proto.mediapipe.RenderAnnotation.prototype.setSceneTag=function(i){return e.Message.setField(this,13,i)},proto.mediapipe.RenderAnnotation.prototype.clearSceneTag=function(){return e.Message.setField(this,13,void 0)},proto.mediapipe.RenderAnnotation.prototype.hasSceneTag=function(){return e.Message.getField(this,13)!=null},e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderViewport.prototype.toObject=function(i){return proto.mediapipe.RenderViewport.toObject(i,this)},proto.mediapipe.RenderViewport.toObject=function(i,n){var p,d={id:(p=e.Message.getField(n,1))==null?void 0:p,widthPx:(p=e.Message.getField(n,2))==null?void 0:p,heightPx:(p=e.Message.getField(n,3))==null?void 0:p,composeOnVideo:(p=e.Message.getBooleanField(n,4))==null?void 0:p};return i&&(d.$jspbMessageInstance=n),d}),proto.mediapipe.RenderViewport.deserializeBinary=function(i){var n=new e.BinaryReader(i),p=new proto.mediapipe.RenderViewport;return proto.mediapipe.RenderViewport.deserializeBinaryFromReader(p,n)},proto.mediapipe.RenderViewport.deserializeBinaryFromReader=function(i,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:var p=n.readString();i.setId(p);break;case 2:p=n.readInt32(),i.setWidthPx(p);break;case 3:p=n.readInt32(),i.setHeightPx(p);break;case 4:p=n.readBool(),i.setComposeOnVideo(p);break;default:n.skipField()}return i},proto.mediapipe.RenderViewport.prototype.serializeBinary=function(){var i=new e.BinaryWriter;return proto.mediapipe.RenderViewport.serializeBinaryToWriter(this,i),i.getResultBuffer()},proto.mediapipe.RenderViewport.serializeBinaryToWriter=function(i,n){var p=void 0;(p=e.Message.getField(i,1))!=null&&n.writeString(1,p),(p=e.Message.getField(i,2))!=null&&n.writeInt32(2,p),(p=e.Message.getField(i,3))!=null&&n.writeInt32(3,p),(p=e.Message.getField(i,4))!=null&&n.writeBool(4,p)},proto.mediapipe.RenderViewport.prototype.getId=function(){return e.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.RenderViewport.prototype.setId=function(i){return e.Message.setField(this,1,i)},proto.mediapipe.RenderViewport.prototype.clearId=function(){return e.Message.setField(this,1,void 0)},proto.mediapipe.RenderViewport.prototype.hasId=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.RenderViewport.prototype.getWidthPx=function(){return e.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.RenderViewport.prototype.setWidthPx=function(i){return e.Message.setField(this,2,i)},proto.mediapipe.RenderViewport.prototype.clearWidthPx=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.RenderViewport.prototype.hasWidthPx=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.RenderViewport.prototype.getHeightPx=function(){return e.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.RenderViewport.prototype.setHeightPx=function(i){return e.Message.setField(this,3,i)},proto.mediapipe.RenderViewport.prototype.clearHeightPx=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.RenderViewport.prototype.hasHeightPx=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.RenderViewport.prototype.getComposeOnVideo=function(){return e.Message.getBooleanFieldWithDefault(this,4,!1)},proto.mediapipe.RenderViewport.prototype.setComposeOnVideo=function(i){return e.Message.setField(this,4,i)},proto.mediapipe.RenderViewport.prototype.clearComposeOnVideo=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.RenderViewport.prototype.hasComposeOnVideo=function(){return e.Message.getField(this,4)!=null},r.object.extend(t,proto.mediapipe)})(render_data_pb);var interactive_segmenter_result={};Object.defineProperty(interactive_segmenter_result,"__esModule",{value:!0}),interactive_segmenter_result.InteractiveSegmenterResult=void 0;class InteractiveSegmenterResult{constructor(e,r,s){this.confidenceMasks=e,this.categoryMask=r,this.qualityScores=s}close(){var e,r;(e=this.confidenceMasks)===null||e===void 0||e.forEach(s=>{s.close()}),(r=this.categoryMask)===null||r===void 0||r.close()}}interactive_segmenter_result.InteractiveSegmenterResult=InteractiveSegmenterResult;var interactive_segmenter_options={};Object.defineProperty(interactive_segmenter_options,"__esModule",{value:!0}),function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(b,v,S,T){T===void 0&&(T=S);var O=Object.getOwnPropertyDescriptor(v,S);O&&!("get"in O?!v.__esModule:O.writable||O.configurable)||(O={enumerable:!0,get:function(){return v[S]}}),Object.defineProperty(b,T,O)}:function(b,v,S,T){T===void 0&&(T=S),b[T]=v[S]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(b,v){for(var S in b)S==="default"||Object.prototype.hasOwnProperty.call(v,S)||e(v,b,S)};Object.defineProperty(t,"__esModule",{value:!0}),t.InteractiveSegmenter=void 0;const s=calculator_pb,o=calculator_options_pb,i=base_options_pb,n=image_segmenter_graph_options_pb,p=segmenter_options_pb,d=vision_task_runner,l=color_pb,u=render_data_pb,c=interactive_segmenter_result;r(interactive_segmenter_options,t),r(interactive_segmenter_result,t);const g="image_in",f="norm_rect_in",y="roi_in",_="confidence_masks",m="category_mask",h="quality_scores";class R extends d.VisionTaskRunner{static createFromOptions(v,S){return d.VisionTaskRunner.createVisionInstance(R,v,S)}static createFromModelBuffer(v,S){return d.VisionTaskRunner.createVisionInstance(R,v,{baseOptions:{modelAssetBuffer:S}})}static createFromModelPath(v,S){return d.VisionTaskRunner.createVisionInstance(R,v,{baseOptions:{modelAssetPath:S}})}constructor(v,S){super(new d.VisionGraphRunner(v,S),g,f,!1),this.outputCategoryMask=!1,this.outputConfidenceMasks=!0,this.options=new n.ImageSegmenterGraphOptions,this.segmenterOptions=new p.SegmenterOptions,this.options.setSegmenterOptions(this.segmenterOptions),this.options.setBaseOptions(new i.BaseOptions)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(v){this.options.setBaseOptions(v)}setOptions(v){var S,T;return"outputCategoryMask"in v&&(this.outputCategoryMask=(S=v.outputCategoryMask)!==null&&S!==void 0&&S),"outputConfidenceMasks"in v&&(this.outputConfidenceMasks=(T=v.outputConfidenceMasks)===null||T===void 0||T),super.applyOptions(v)}segment(v,S,T,O){const C=typeof T!="function"?T:{};return this.userCallback=typeof T=="function"?T:O,this.reset(),this.processRenderData(S,this.getSynctheticTimestamp()),this.processImageData(v,C),this.processResults()}reset(){this.confidenceMasks=void 0,this.categoryMask=void 0,this.qualityScores=void 0}processResults(){try{const v=new c.InteractiveSegmenterResult(this.confidenceMasks,this.categoryMask,this.qualityScores);if(!this.userCallback)return v;this.userCallback(v)}finally{this.freeKeepaliveStreams()}}refreshGraph(){const v=new s.CalculatorGraphConfig;v.addInputStream(g),v.addInputStream(y),v.addInputStream(f);const S=new o.CalculatorOptions;S.setExtension(n.ImageSegmenterGraphOptions.ext,this.options);const T=new s.CalculatorGraphConfig.Node;T.setCalculator("mediapipe.tasks.vision.interactive_segmenter.InteractiveSegmenterGraph"),T.addInputStream("IMAGE:"+g),T.addInputStream("ROI:"+y),T.addInputStream("NORM_RECT:"+f),T.setOptions(S),v.addNode(T),this.addKeepaliveNode(v),this.outputConfidenceMasks&&(v.addOutputStream(_),T.addOutputStream("CONFIDENCE_MASKS:"+_),this.keepStreamAlive(_),this.graphRunner.attachImageVectorListener(_,(C,M)=>{this.confidenceMasks=C.map(E=>this.convertToMPMask(E,!this.userCallback)),this.setLatestOutputTimestamp(M)}),this.graphRunner.attachEmptyPacketListener(_,C=>{this.confidenceMasks=[],this.setLatestOutputTimestamp(C)})),this.outputCategoryMask&&(v.addOutputStream(m),T.addOutputStream("CATEGORY_MASK:"+m),this.keepStreamAlive(m),this.graphRunner.attachImageListener(m,(C,M)=>{this.categoryMask=this.convertToMPMask(C,!this.userCallback),this.setLatestOutputTimestamp(M)}),this.graphRunner.attachEmptyPacketListener(m,C=>{this.categoryMask=void 0,this.setLatestOutputTimestamp(C)})),v.addOutputStream(h),T.addOutputStream("QUALITY_SCORES:"+h),this.graphRunner.attachFloatVectorListener(h,(C,M)=>{this.qualityScores=C,this.setLatestOutputTimestamp(M)}),this.graphRunner.attachEmptyPacketListener(h,C=>{this.categoryMask=void 0,this.setLatestOutputTimestamp(C)});const O=v.serializeBinary();this.setGraph(new Uint8Array(O),!0)}processRenderData(v,S){const T=new u.RenderData,O=new u.RenderAnnotation,C=new l.Color;if(C.setR(255),O.setColor(C),v.keypoint&&v.scribble)throw new Error("Cannot provide both keypoint and scribble.");if(v.keypoint){const M=new u.RenderAnnotation.Point;M.setNormalized(!0),M.setX(v.keypoint.x),M.setY(v.keypoint.y),O.setPoint(M)}else{if(!v.scribble)throw new Error("Must provide either a keypoint or a scribble.");{const M=new u.RenderAnnotation.Scribble;for(const E of v.scribble){const B=new u.RenderAnnotation.Point;B.setNormalized(!0),B.setX(E.x),B.setY(E.y),M.addPoint(B)}O.setScribble(M)}}T.addRenderAnnotations(O),this.graphRunner.addProtoToStream(T.serializeBinary(),"mediapipe.RenderData",y,S)}}t.InteractiveSegmenter=R}(interactive_segmenter);var object_detector={},object_detector_options_pb={};(function(t){var e=googleProtobuf,r=e,s=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||s!==void 0&&s||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;r.object.extend(proto,o);var i=calculator_options_pb;r.object.extend(proto,i);var n=base_options_pb;r.object.extend(proto,n),r.exportSymbol("proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions",null,s),proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions=function(p){e.Message.initialize(this,p,0,-1,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.repeatedFields_,null)},r.inherits(proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.displayName="proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions"),proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.repeatedFields_=[5,6],e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.toObject=function(p){return proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.toObject(p,this)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.toObject=function(p,d){var l,u={baseOptions:(l=d.getBaseOptions())&&n.BaseOptions.toObject(p,l),displayNamesLocale:e.Message.getFieldWithDefault(d,2,"en"),maxResults:e.Message.getFieldWithDefault(d,3,-1),scoreThreshold:(l=e.Message.getOptionalFloatingPointField(d,4))==null?void 0:l,categoryAllowlistList:(l=e.Message.getRepeatedField(d,5))==null?void 0:l,categoryDenylistList:(l=e.Message.getRepeatedField(d,6))==null?void 0:l};return p&&(u.$jspbMessageInstance=d),u}),proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.deserializeBinary=function(p){var d=new e.BinaryReader(p),l=new proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions;return proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.deserializeBinaryFromReader(l,d)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.deserializeBinaryFromReader=function(p,d){for(;d.nextField()&&!d.isEndGroup();)switch(d.getFieldNumber()){case 1:var l=new n.BaseOptions;d.readMessage(l,n.BaseOptions.deserializeBinaryFromReader),p.setBaseOptions(l);break;case 2:l=d.readString(),p.setDisplayNamesLocale(l);break;case 3:l=d.readInt32(),p.setMaxResults(l);break;case 4:l=d.readFloat(),p.setScoreThreshold(l);break;case 5:l=d.readString(),p.addCategoryAllowlist(l);break;case 6:l=d.readString(),p.addCategoryDenylist(l);break;default:d.skipField()}return p},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.serializeBinary=function(){var p=new e.BinaryWriter;return proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.serializeBinaryToWriter(this,p),p.getResultBuffer()},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.serializeBinaryToWriter=function(p,d){var l=void 0;(l=p.getBaseOptions())!=null&&d.writeMessage(1,l,n.BaseOptions.serializeBinaryToWriter),(l=e.Message.getField(p,2))!=null&&d.writeString(2,l),(l=e.Message.getField(p,3))!=null&&d.writeInt32(3,l),(l=e.Message.getField(p,4))!=null&&d.writeFloat(4,l),(l=p.getCategoryAllowlistList()).length>0&&d.writeRepeatedString(5,l),(l=p.getCategoryDenylistList()).length>0&&d.writeRepeatedString(6,l)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.ext=new e.ExtensionFieldInfo(443442058,{ext:0},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.toObject,0),i.CalculatorOptions.extensionsBinary[443442058]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.deserializeBinaryFromReader,!1),i.CalculatorOptions.extensions[443442058]=proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.ext,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,n.BaseOptions,1)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.setBaseOptions=function(p){return e.Message.setWrapperField(this,1,p)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.getDisplayNamesLocale=function(){return e.Message.getFieldWithDefault(this,2,"en")},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.setDisplayNamesLocale=function(p){return e.Message.setField(this,2,p)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.clearDisplayNamesLocale=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.hasDisplayNamesLocale=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.getMaxResults=function(){return e.Message.getFieldWithDefault(this,3,-1)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.setMaxResults=function(p){return e.Message.setField(this,3,p)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.clearMaxResults=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.hasMaxResults=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.getScoreThreshold=function(){return e.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.setScoreThreshold=function(p){return e.Message.setField(this,4,p)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.clearScoreThreshold=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.hasScoreThreshold=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.getCategoryAllowlistList=function(){return e.Message.getRepeatedField(this,5)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.setCategoryAllowlistList=function(p){return e.Message.setField(this,5,p||[])},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.addCategoryAllowlist=function(p,d){return e.Message.addToRepeatedField(this,5,p,d)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.clearCategoryAllowlistList=function(){return this.setCategoryAllowlistList([])},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.getCategoryDenylistList=function(){return e.Message.getRepeatedField(this,6)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.setCategoryDenylistList=function(p){return e.Message.setField(this,6,p||[])},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.addCategoryDenylist=function(p,d){return e.Message.addToRepeatedField(this,6,p,d)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.clearCategoryDenylistList=function(){return this.setCategoryDenylistList([])},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.ext=new e.ExtensionFieldInfo(443442058,{ext:0},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.toObject,0),i.CalculatorOptions.extensionsBinary[443442058]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.deserializeBinaryFromReader,!1),i.CalculatorOptions.extensions[443442058]=proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.ext,r.object.extend(t,proto.mediapipe.tasks.vision.object_detector.proto)})(object_detector_options_pb);var object_detector_options={};Object.defineProperty(object_detector_options,"__esModule",{value:!0});var object_detector_result={};Object.defineProperty(object_detector_result,"__esModule",{value:!0}),function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(y,_,m,h){h===void 0&&(h=m);var R=Object.getOwnPropertyDescriptor(_,m);R&&!("get"in R?!_.__esModule:R.writable||R.configurable)||(R={enumerable:!0,get:function(){return _[m]}}),Object.defineProperty(y,h,R)}:function(y,_,m,h){h===void 0&&(h=m),y[h]=_[m]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(y,_){for(var m in y)m==="default"||Object.prototype.hasOwnProperty.call(_,m)||e(_,y,m)};Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectDetector=void 0;const s=calculator_pb,o=calculator_options_pb,i=detection_pb,n=base_options_pb,p=object_detector_options_pb,d=detection_result,l=vision_task_runner,u="input_frame_gpu",c="norm_rect",g="detections";r(object_detector_options,t),r(object_detector_result,t);class f extends l.VisionTaskRunner{static createFromOptions(_,m){return l.VisionTaskRunner.createVisionInstance(f,_,m)}static createFromModelBuffer(_,m){return l.VisionTaskRunner.createVisionInstance(f,_,{baseOptions:{modelAssetBuffer:m}})}static async createFromModelPath(_,m){return l.VisionTaskRunner.createVisionInstance(f,_,{baseOptions:{modelAssetPath:m}})}constructor(_,m){super(new l.VisionGraphRunner(_,m),u,c,!1),this.result={detections:[]},this.options=new p.ObjectDetectorOptions,this.options.setBaseOptions(new n.BaseOptions)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(_){this.options.setBaseOptions(_)}setOptions(_){return _.displayNamesLocale!==void 0?this.options.setDisplayNamesLocale(_.displayNamesLocale):"displayNamesLocale"in _&&this.options.clearDisplayNamesLocale(),_.maxResults!==void 0?this.options.setMaxResults(_.maxResults):"maxResults"in _&&this.options.clearMaxResults(),_.scoreThreshold!==void 0?this.options.setScoreThreshold(_.scoreThreshold):"scoreThreshold"in _&&this.options.clearScoreThreshold(),_.categoryAllowlist!==void 0?this.options.setCategoryAllowlistList(_.categoryAllowlist):"categoryAllowlist"in _&&this.options.clearCategoryAllowlistList(),_.categoryDenylist!==void 0?this.options.setCategoryDenylistList(_.categoryDenylist):"categoryDenylist"in _&&this.options.clearCategoryDenylistList(),this.applyOptions(_)}detect(_,m){return this.result={detections:[]},this.processImageData(_,m),this.result}detectForVideo(_,m,h){return this.result={detections:[]},this.processVideoData(_,h,m),this.result}addJsObjectDetections(_){for(const m of _){const h=i.Detection.deserializeBinary(m);this.result.detections.push((0,d.convertFromDetectionProto)(h))}}refreshGraph(){const _=new s.CalculatorGraphConfig;_.addInputStream(u),_.addInputStream(c),_.addOutputStream(g);const m=new o.CalculatorOptions;m.setExtension(p.ObjectDetectorOptions.ext,this.options);const h=new s.CalculatorGraphConfig.Node;h.setCalculator("mediapipe.tasks.vision.ObjectDetectorGraph"),h.addInputStream("IMAGE:"+u),h.addInputStream("NORM_RECT:"+c),h.addOutputStream("DETECTIONS:"+g),h.setOptions(m),_.addNode(h),this.graphRunner.attachProtoVectorListener(g,(b,v)=>{this.addJsObjectDetections(b),this.setLatestOutputTimestamp(v)}),this.graphRunner.attachEmptyPacketListener(g,b=>{this.setLatestOutputTimestamp(b)});const R=_.serializeBinary();this.setGraph(new Uint8Array(R),!0)}}t.ObjectDetector=f}(object_detector);var pose_landmarker={},pose_detector_graph_options_pb={};(function(t){var e=googleProtobuf,r=e,s=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||s!==void 0&&s||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;r.object.extend(proto,o);var i=calculator_options_pb;r.object.extend(proto,i);var n=base_options_pb;r.object.extend(proto,n),r.exportSymbol("proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions",null,s),proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions=function(p){e.Message.initialize(this,p,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.displayName="proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.toObject=function(p){return proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.toObject(p,this)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.toObject=function(p,d){var l,u={baseOptions:(l=d.getBaseOptions())&&n.BaseOptions.toObject(p,l),minDetectionConfidence:e.Message.getFloatingPointFieldWithDefault(d,2,.5),minSuppressionThreshold:e.Message.getFloatingPointFieldWithDefault(d,3,.5),numPoses:(l=e.Message.getField(d,4))==null?void 0:l};return p&&(u.$jspbMessageInstance=d),u}),proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.deserializeBinary=function(p){var d=new e.BinaryReader(p),l=new proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions;return proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.deserializeBinaryFromReader(l,d)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.deserializeBinaryFromReader=function(p,d){for(;d.nextField()&&!d.isEndGroup();)switch(d.getFieldNumber()){case 1:var l=new n.BaseOptions;d.readMessage(l,n.BaseOptions.deserializeBinaryFromReader),p.setBaseOptions(l);break;case 2:l=d.readFloat(),p.setMinDetectionConfidence(l);break;case 3:l=d.readFloat(),p.setMinSuppressionThreshold(l);break;case 4:l=d.readInt32(),p.setNumPoses(l);break;default:d.skipField()}return p},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.serializeBinary=function(){var p=new e.BinaryWriter;return proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.serializeBinaryToWriter(this,p),p.getResultBuffer()},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.serializeBinaryToWriter=function(p,d){var l=void 0;(l=p.getBaseOptions())!=null&&d.writeMessage(1,l,n.BaseOptions.serializeBinaryToWriter),(l=e.Message.getField(p,2))!=null&&d.writeFloat(2,l),(l=e.Message.getField(p,3))!=null&&d.writeFloat(3,l),(l=e.Message.getField(p,4))!=null&&d.writeInt32(4,l)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.ext=new e.ExtensionFieldInfo(514774813,{ext:0},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions,proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.toObject,0),i.CalculatorOptions.extensionsBinary[514774813]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.deserializeBinaryFromReader,!1),i.CalculatorOptions.extensions[514774813]=proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.ext,proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,n.BaseOptions,1)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.setBaseOptions=function(p){return e.Message.setWrapperField(this,1,p)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.getMinDetectionConfidence=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,.5)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.setMinDetectionConfidence=function(p){return e.Message.setField(this,2,p)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.clearMinDetectionConfidence=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.hasMinDetectionConfidence=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.getMinSuppressionThreshold=function(){return e.Message.getFloatingPointFieldWithDefault(this,3,.5)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.setMinSuppressionThreshold=function(p){return e.Message.setField(this,3,p)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.clearMinSuppressionThreshold=function(){return e.Message.setField(this,3,void 0)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.hasMinSuppressionThreshold=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.getNumPoses=function(){return e.Message.getFieldWithDefault(this,4,0)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.setNumPoses=function(p){return e.Message.setField(this,4,p)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.clearNumPoses=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.hasNumPoses=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.ext=new e.ExtensionFieldInfo(514774813,{ext:0},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions,proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.toObject,0),i.CalculatorOptions.extensionsBinary[514774813]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.deserializeBinaryFromReader,!1),i.CalculatorOptions.extensions[514774813]=proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.ext,r.object.extend(t,proto.mediapipe.tasks.vision.pose_detector.proto)})(pose_detector_graph_options_pb);var pose_landmarker_graph_options_pb={},pose_landmarks_detector_graph_options_pb={};(function(t){var e=googleProtobuf,r=e,s=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||s!==void 0&&s||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;r.object.extend(proto,o);var i=calculator_options_pb;r.object.extend(proto,i);var n=base_options_pb;r.object.extend(proto,n),r.exportSymbol("proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions",null,s),proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions=function(p){e.Message.initialize(this,p,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.displayName="proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.prototype.toObject=function(p){return proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.toObject(p,this)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.toObject=function(p,d){var l,u={baseOptions:(l=d.getBaseOptions())&&n.BaseOptions.toObject(p,l),minDetectionConfidence:e.Message.getFloatingPointFieldWithDefault(d,2,.5)};return p&&(u.$jspbMessageInstance=d),u}),proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.deserializeBinary=function(p){var d=new e.BinaryReader(p),l=new proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions;return proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.deserializeBinaryFromReader(l,d)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.deserializeBinaryFromReader=function(p,d){for(;d.nextField()&&!d.isEndGroup();)switch(d.getFieldNumber()){case 1:var l=new n.BaseOptions;d.readMessage(l,n.BaseOptions.deserializeBinaryFromReader),p.setBaseOptions(l);break;case 2:l=d.readFloat(),p.setMinDetectionConfidence(l);break;default:d.skipField()}return p},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.prototype.serializeBinary=function(){var p=new e.BinaryWriter;return proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.serializeBinaryToWriter(this,p),p.getResultBuffer()},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.serializeBinaryToWriter=function(p,d){var l=void 0;(l=p.getBaseOptions())!=null&&d.writeMessage(1,l,n.BaseOptions.serializeBinaryToWriter),(l=e.Message.getField(p,2))!=null&&d.writeFloat(2,l)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.ext=new e.ExtensionFieldInfo(518928384,{ext:0},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.toObject,0),i.CalculatorOptions.extensionsBinary[518928384]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.deserializeBinaryFromReader,!1),i.CalculatorOptions.extensions[518928384]=proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.ext,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,n.BaseOptions,1)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.prototype.setBaseOptions=function(p){return e.Message.setWrapperField(this,1,p)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.prototype.getMinDetectionConfidence=function(){return e.Message.getFloatingPointFieldWithDefault(this,2,.5)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.prototype.setMinDetectionConfidence=function(p){return e.Message.setField(this,2,p)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.prototype.clearMinDetectionConfidence=function(){return e.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.prototype.hasMinDetectionConfidence=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.ext=new e.ExtensionFieldInfo(518928384,{ext:0},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.toObject,0),i.CalculatorOptions.extensionsBinary[518928384]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.deserializeBinaryFromReader,!1),i.CalculatorOptions.extensions[518928384]=proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.ext,r.object.extend(t,proto.mediapipe.tasks.vision.pose_landmarker.proto)})(pose_landmarks_detector_graph_options_pb),function(t){var e=googleProtobuf,r=e,s=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||s!==void 0&&s||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")(),o=calculator_pb;r.object.extend(proto,o);var i=calculator_options_pb;r.object.extend(proto,i);var n=base_options_pb;r.object.extend(proto,n);var p=pose_detector_graph_options_pb;r.object.extend(proto,p);var d=pose_landmarks_detector_graph_options_pb;r.object.extend(proto,d),r.exportSymbol("proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions",null,s),proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions=function(l){e.Message.initialize(this,l,0,-1,null,null)},r.inherits(proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions,e.Message),r.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.displayName="proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions"),e.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.toObject=function(l){return proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.toObject(l,this)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.toObject=function(l,u){var c,g={baseOptions:(c=u.getBaseOptions())&&n.BaseOptions.toObject(l,c),poseDetectorGraphOptions:(c=u.getPoseDetectorGraphOptions())&&p.PoseDetectorGraphOptions.toObject(l,c),poseLandmarksDetectorGraphOptions:(c=u.getPoseLandmarksDetectorGraphOptions())&&d.PoseLandmarksDetectorGraphOptions.toObject(l,c),minTrackingConfidence:e.Message.getFloatingPointFieldWithDefault(u,4,.5)};return l&&(g.$jspbMessageInstance=u),g}),proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.deserializeBinary=function(l){var u=new e.BinaryReader(l),c=new proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions;return proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.deserializeBinaryFromReader(c,u)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.deserializeBinaryFromReader=function(l,u){for(;u.nextField()&&!u.isEndGroup();)switch(u.getFieldNumber()){case 1:var c=new n.BaseOptions;u.readMessage(c,n.BaseOptions.deserializeBinaryFromReader),l.setBaseOptions(c);break;case 2:c=new p.PoseDetectorGraphOptions,u.readMessage(c,p.PoseDetectorGraphOptions.deserializeBinaryFromReader),l.setPoseDetectorGraphOptions(c);break;case 3:c=new d.PoseLandmarksDetectorGraphOptions,u.readMessage(c,d.PoseLandmarksDetectorGraphOptions.deserializeBinaryFromReader),l.setPoseLandmarksDetectorGraphOptions(c);break;case 4:c=u.readFloat(),l.setMinTrackingConfidence(c);break;default:u.skipField()}return l},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.serializeBinary=function(){var l=new e.BinaryWriter;return proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.serializeBinaryToWriter(this,l),l.getResultBuffer()},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.serializeBinaryToWriter=function(l,u){var c=void 0;(c=l.getBaseOptions())!=null&&u.writeMessage(1,c,n.BaseOptions.serializeBinaryToWriter),(c=l.getPoseDetectorGraphOptions())!=null&&u.writeMessage(2,c,p.PoseDetectorGraphOptions.serializeBinaryToWriter),(c=l.getPoseLandmarksDetectorGraphOptions())!=null&&u.writeMessage(3,c,d.PoseLandmarksDetectorGraphOptions.serializeBinaryToWriter),(c=e.Message.getField(l,4))!=null&&u.writeFloat(4,c)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.ext=new e.ExtensionFieldInfo(516587230,{ext:0},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.toObject,0),i.CalculatorOptions.extensionsBinary[516587230]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.deserializeBinaryFromReader,!1),i.CalculatorOptions.extensions[516587230]=proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.ext,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.getBaseOptions=function(){return e.Message.getWrapperField(this,n.BaseOptions,1)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.setBaseOptions=function(l){return e.Message.setWrapperField(this,1,l)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.hasBaseOptions=function(){return e.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.getPoseDetectorGraphOptions=function(){return e.Message.getWrapperField(this,p.PoseDetectorGraphOptions,2)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.setPoseDetectorGraphOptions=function(l){return e.Message.setWrapperField(this,2,l)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.clearPoseDetectorGraphOptions=function(){return this.setPoseDetectorGraphOptions(void 0)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.hasPoseDetectorGraphOptions=function(){return e.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.getPoseLandmarksDetectorGraphOptions=function(){return e.Message.getWrapperField(this,d.PoseLandmarksDetectorGraphOptions,3)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.setPoseLandmarksDetectorGraphOptions=function(l){return e.Message.setWrapperField(this,3,l)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.clearPoseLandmarksDetectorGraphOptions=function(){return this.setPoseLandmarksDetectorGraphOptions(void 0)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.hasPoseLandmarksDetectorGraphOptions=function(){return e.Message.getField(this,3)!=null},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.getMinTrackingConfidence=function(){return e.Message.getFloatingPointFieldWithDefault(this,4,.5)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.setMinTrackingConfidence=function(l){return e.Message.setField(this,4,l)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.clearMinTrackingConfidence=function(){return e.Message.setField(this,4,void 0)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.hasMinTrackingConfidence=function(){return e.Message.getField(this,4)!=null},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.ext=new e.ExtensionFieldInfo(516587230,{ext:0},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.toObject,0),i.CalculatorOptions.extensionsBinary[516587230]=new e.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.ext,e.BinaryReader.prototype.readMessage,e.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.deserializeBinaryFromReader,!1),i.CalculatorOptions.extensions[516587230]=proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.ext,r.object.extend(t,proto.mediapipe.tasks.vision.pose_landmarker.proto)}(pose_landmarker_graph_options_pb);var pose_landmarker_result={};Object.defineProperty(pose_landmarker_result,"__esModule",{value:!0}),pose_landmarker_result.PoseLandmarkerResult=void 0;class PoseLandmarkerResult{constructor(e,r,s){this.landmarks=e,this.worldLandmarks=r,this.segmentationMasks=s}close(){var e;(e=this.segmentationMasks)===null||e===void 0||e.forEach(r=>{r.close()})}}pose_landmarker_result.PoseLandmarkerResult=PoseLandmarkerResult;var pose_landmarker_options={};Object.defineProperty(pose_landmarker_options,"__esModule",{value:!0}),function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(v,S,T,O){O===void 0&&(O=T);var C=Object.getOwnPropertyDescriptor(S,T);C&&!("get"in C?!S.__esModule:C.writable||C.configurable)||(C={enumerable:!0,get:function(){return S[T]}}),Object.defineProperty(v,O,C)}:function(v,S,T,O){O===void 0&&(O=T),v[O]=S[T]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(v,S){for(var T in v)T==="default"||Object.prototype.hasOwnProperty.call(S,T)||e(S,v,T)};Object.defineProperty(t,"__esModule",{value:!0}),t.PoseLandmarker=void 0;const s=calculator_pb,o=calculator_options_pb,i=landmark_pb,n=base_options_pb,p=pose_detector_graph_options_pb,d=pose_landmarker_graph_options_pb,l=pose_landmarks_detector_graph_options_pb,u=landmark_result,c=vision_task_runner,g=pose_landmarker_result;r(pose_landmarker_options,t),r(pose_landmarker_result,t);const f="image_in",y="norm_rect",_="normalized_landmarks",m="world_landmarks",h="segmentation_masks",R=.5;class b extends c.VisionTaskRunner{static createFromOptions(S,T){return c.VisionTaskRunner.createVisionInstance(b,S,T)}static createFromModelBuffer(S,T){return c.VisionTaskRunner.createVisionInstance(b,S,{baseOptions:{modelAssetBuffer:T}})}static createFromModelPath(S,T){return c.VisionTaskRunner.createVisionInstance(b,S,{baseOptions:{modelAssetPath:T}})}constructor(S,T){super(new c.VisionGraphRunner(S,T),f,y,!1),this.landmarks=[],this.worldLandmarks=[],this.outputSegmentationMasks=!1,this.options=new d.PoseLandmarkerGraphOptions,this.options.setBaseOptions(new n.BaseOptions),this.poseLandmarksDetectorGraphOptions=new l.PoseLandmarksDetectorGraphOptions,this.options.setPoseLandmarksDetectorGraphOptions(this.poseLandmarksDetectorGraphOptions),this.poseDetectorGraphOptions=new p.PoseDetectorGraphOptions,this.options.setPoseDetectorGraphOptions(this.poseDetectorGraphOptions),this.initDefaults()}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(S){this.options.setBaseOptions(S)}setOptions(S){var T,O,C,M,E;return"numPoses"in S&&this.poseDetectorGraphOptions.setNumPoses((T=S.numPoses)!==null&&T!==void 0?T:1),"minPoseDetectionConfidence"in S&&this.poseDetectorGraphOptions.setMinDetectionConfidence((O=S.minPoseDetectionConfidence)!==null&&O!==void 0?O:R),"minTrackingConfidence"in S&&this.options.setMinTrackingConfidence((C=S.minTrackingConfidence)!==null&&C!==void 0?C:R),"minPosePresenceConfidence"in S&&this.poseLandmarksDetectorGraphOptions.setMinDetectionConfidence((M=S.minPosePresenceConfidence)!==null&&M!==void 0?M:R),"outputSegmentationMasks"in S&&(this.outputSegmentationMasks=(E=S.outputSegmentationMasks)!==null&&E!==void 0&&E),this.applyOptions(S)}detect(S,T,O){const C=typeof T!="function"?T:{};return this.userCallback=typeof T=="function"?T:O,this.resetResults(),this.processImageData(S,C),this.processResults()}detectForVideo(S,T,O,C){const M=typeof O!="function"?O:{};return this.userCallback=typeof O=="function"?O:C,this.resetResults(),this.processVideoData(S,M,T),this.processResults()}resetResults(){this.landmarks=[],this.worldLandmarks=[],this.segmentationMasks=void 0}processResults(){try{const S=new g.PoseLandmarkerResult(this.landmarks,this.worldLandmarks,this.segmentationMasks);if(!this.userCallback)return S;this.userCallback(S)}finally{this.freeKeepaliveStreams()}}initDefaults(){this.poseDetectorGraphOptions.setNumPoses(1),this.poseDetectorGraphOptions.setMinDetectionConfidence(R),this.poseLandmarksDetectorGraphOptions.setMinDetectionConfidence(R),this.options.setMinTrackingConfidence(R)}addJsLandmarks(S){this.landmarks=[];for(const T of S){const O=i.NormalizedLandmarkList.deserializeBinary(T);this.landmarks.push((0,u.convertToLandmarks)(O))}}adddJsWorldLandmarks(S){this.worldLandmarks=[];for(const T of S){const O=i.LandmarkList.deserializeBinary(T);this.worldLandmarks.push((0,u.convertToWorldLandmarks)(O))}}refreshGraph(){const S=new s.CalculatorGraphConfig;S.addInputStream(f),S.addInputStream(y),S.addOutputStream(_),S.addOutputStream(m),S.addOutputStream(h);const T=new o.CalculatorOptions;T.setExtension(d.PoseLandmarkerGraphOptions.ext,this.options);const O=new s.CalculatorGraphConfig.Node;O.setCalculator("mediapipe.tasks.vision.pose_landmarker.PoseLandmarkerGraph"),O.addInputStream("IMAGE:"+f),O.addInputStream("NORM_RECT:"+y),O.addOutputStream("NORM_LANDMARKS:"+_),O.addOutputStream("WORLD_LANDMARKS:"+m),O.setOptions(T),S.addNode(O),this.addKeepaliveNode(S),this.graphRunner.attachProtoVectorListener(_,(M,E)=>{this.addJsLandmarks(M),this.setLatestOutputTimestamp(E)}),this.graphRunner.attachEmptyPacketListener(_,M=>{this.landmarks=[],this.setLatestOutputTimestamp(M)}),this.graphRunner.attachProtoVectorListener(m,(M,E)=>{this.adddJsWorldLandmarks(M),this.setLatestOutputTimestamp(E)}),this.graphRunner.attachEmptyPacketListener(m,M=>{this.worldLandmarks=[],this.setLatestOutputTimestamp(M)}),this.outputSegmentationMasks&&(O.addOutputStream("SEGMENTATION_MASK:"+h),this.keepStreamAlive(h),this.graphRunner.attachImageVectorListener(h,(M,E)=>{this.segmentationMasks=M.map(B=>this.convertToMPMask(B,!this.userCallback)),this.setLatestOutputTimestamp(E)}),this.graphRunner.attachEmptyPacketListener(h,M=>{this.segmentationMasks=[],this.setLatestOutputTimestamp(M)}));const C=S.serializeBinary();this.setGraph(new Uint8Array(C),!0)}}t.PoseLandmarker=b,b.POSE_CONNECTIONS=[{start:0,end:1},{start:1,end:2},{start:2,end:3},{start:3,end:7},{start:0,end:4},{start:4,end:5},{start:5,end:6},{start:6,end:8},{start:9,end:10},{start:11,end:12},{start:11,end:13},{start:13,end:15},{start:15,end:17},{start:15,end:19},{start:15,end:21},{start:17,end:19},{start:12,end:14},{start:14,end:16},{start:16,end:18},{start:16,end:20},{start:16,end:22},{start:18,end:20},{start:11,end:23},{start:12,end:24},{start:23,end:24},{start:23,end:25},{start:24,end:26},{start:25,end:27},{start:26,end:28},{start:27,end:29},{start:28,end:30},{start:29,end:31},{start:30,end:32},{start:27,end:31},{start:28,end:32}]}(pose_landmarker),Object.defineProperty(vision,"__esModule",{value:!0});vision.PoseLandmarker=vision.ObjectDetector=vision.InteractiveSegmenter=vision.ImageSegmenter=vision.ImageEmbedder=vision.ImageClassifier=HandLandmarker_1=vision.HandLandmarker=vision.GestureRecognizer=vision.FaceStylizer=vision.FaceLandmarker=vision.FaceDetector=vision.MPMask=vision.MPImage=FilesetResolver_1=vision.FilesetResolver=vision.DrawingUtils=void 0;const fileset_resolver_1=fileset_resolver,drawing_utils_1=drawing_utils,image_1=image,mask_1=mask,face_detector_1=face_detector,face_landmarker_1=face_landmarker,face_stylizer_1=face_stylizer,gesture_recognizer_1=gesture_recognizer,hand_landmarker_1=hand_landmarker,image_classifier_1=image_classifier,image_embedder_1=image_embedder,image_segmenter_1=image_segmenter,interactive_segmenter_1=interactive_segmenter,object_detector_1=object_detector,pose_landmarker_1=pose_landmarker,DrawingUtils=drawing_utils_1.DrawingUtils;vision.DrawingUtils=DrawingUtils;const FilesetResolver=fileset_resolver_1.FilesetResolver;var FilesetResolver_1=vision.FilesetResolver=FilesetResolver;const MPImage=image_1.MPImage;vision.MPImage=MPImage;const MPMask=mask_1.MPMask;vision.MPMask=MPMask;const FaceDetector=face_detector_1.FaceDetector;vision.FaceDetector=FaceDetector;const FaceLandmarker=face_landmarker_1.FaceLandmarker;vision.FaceLandmarker=FaceLandmarker;const FaceStylizer=face_stylizer_1.FaceStylizer;vision.FaceStylizer=FaceStylizer;const GestureRecognizer=gesture_recognizer_1.GestureRecognizer;vision.GestureRecognizer=GestureRecognizer;const HandLandmarker=hand_landmarker_1.HandLandmarker;var HandLandmarker_1=vision.HandLandmarker=HandLandmarker;const ImageClassifier=image_classifier_1.ImageClassifier;vision.ImageClassifier=ImageClassifier;const ImageEmbedder=image_embedder_1.ImageEmbedder;vision.ImageEmbedder=ImageEmbedder;const ImageSegmenter=image_segmenter_1.ImageSegmenter;vision.ImageSegmenter=ImageSegmenter;const InteractiveSegmenter=interactive_segmenter_1.InteractiveSegmenter;vision.InteractiveSegmenter=InteractiveSegmenter;const ObjectDetector=object_detector_1.ObjectDetector;vision.ObjectDetector=ObjectDetector;const PoseLandmarker=pose_landmarker_1.PoseLandmarker;vision.PoseLandmarker=PoseLandmarker;const sphereVertexShader="varying vec2 vertexUV;varying vec3 vertexNormal;void main(){vertexUV=uv;vertexNormal=normalize(normalMatrix*normal);gl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.0);}",sphereFragmentShader="uniform sampler2D globeTexture;varying vec2 vertexUV;varying vec3 vertexNormal;void main(){float intensity=1.05-dot(vertexNormal,vec3(0.0,0.0,1.0));vec3 atmosphere=vec3(0.3,0.6,1.0)*pow(intensity,1.5);gl_FragColor=vec4(atmosphere+texture2D(globeTexture,vertexUV).xyz,1.0);}",atmosphereFragmentShader="varying vec3 vertexNormal;void main(){float intensity=pow(0.8-dot(vertexNormal,vec3(0,0,1.0)),2.0);gl_FragColor=vec4(0.3,0.6,1.0,1.0)*intensity;}",atmosphereVertexShader="varying vec3 vertexNormal;void main(){vertexNormal=normalize(normalMatrix*normal);gl_Position=projectionMatrix*modelViewMatrix*vec4(position,0.9);}",innerWidth=window.innerWidth,innerHeight=window.innerHeight,video=document.getElementById("video"),scene=new Scene,camera=new PerspectiveCamera(75,innerWidth/innerHeight,.07,1e3);camera.position.z=8;const renderer=new WebGLRenderer({antialias:!0,canvas:document.getElementById("canvas")}),raycaster=new Raycaster;raycaster.params.Points.threshold=.1;const sphere=new Mesh(new SphereGeometry(5,50,50),new ShaderMaterial({vertexShader:sphereVertexShader,fragmentShader:sphereFragmentShader,uniforms:{globeTexture:{value:new TextureLoader().load("./img/globe2.jpeg")}}})),atmosphere=new Mesh(new SphereGeometry(5,50,50),new ShaderMaterial({vertexShader:atmosphereVertexShader,fragmentShader:atmosphereFragmentShader,blending:AdditiveBlending,side:BackSide}));window.addEventListener("load",()=>{renderer.setSize(innerWidth,innerHeight),renderer.setPixelRatio(window.devicePixelRatio),camera.lookAt(scene.position),scene.add(sphere),atmosphere.scale.set(1.1,1.1,1.1),scene.add(atmosphere)});window.addEventListener("resize",()=>{camera.aspect=window.innerWidth/window.innerHeight,camera.updateProjectionMatrix(),renderer.setSize(window.innerWidth,window.innerHeight)},!1);navigator.mediaDevices===void 0&&(navigator.mediaDevices={});navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(t){var e=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return e?new Promise(function(r,s){e.call(navigator,t,r,s)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))});let handLandmarker;const createHandLandmarker=async()=>{const t=await FilesetResolver_1.forVisionTasks("./wasm");handLandmarker=await HandLandmarker_1.createFromOptions(t,{baseOptions:{modelAssetPath:"./hand_landmarker.task",delegate:"GPU"},runningMode:"CAMERA",numHands:2,min_hand_detection_confidence:.9,min_hand_presence_confidence:.9,min_tracking_confidence:.9}),navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(r){var s=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return s?new Promise(function(o,i){s.call(navigator,r,o,i)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),(()=>{var r;return!!((r=navigator.mediaDevices)!=null&&r.getUserMedia)})()?enableCam():alert("getUserMedia() is not supported by your browser")};createHandLandmarker();function enableCam(){navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:"user"}}).then(async t=>{await handLandmarker.setOptions({runningMode:"VIDEO"}),video.srcObject=t,video.addEventListener("loadeddata",animate)}).catch(()=>{alert("You need webcamera!")})}function calculateDistance(t,e){const r=e.x-t.x,s=e.y-t.y,o=e.z-t.z;return Math.sqrt(r**2+s**2+o**2)}let pinch_occurs=0,both_pinch_occurs=0,left_hand=!1,right_hand=!1;function processResults(t){if(t.landmarks.length>0){const e=t.landmarks.length,r=t.handednesses;if(e===2){left_hand=!0,right_hand=!0;const s=t.landmarks[0][4],o=t.landmarks[0][8],i=t.landmarks[1][4],n=t.landmarks[1][8];document.getElementById("dot").style.opacity=0,calculateDistance(s,o)<.07&&calculateDistance(i,n)<.07&&(both_pinch_occurs>0&&(calculateDistance(s,i)||calculateDistance(n,o),both_pinch_occurs=0),both_pinch_occurs++)}else{left_hand=!0,right_hand=!0;const s=t.landmarks[0][4],o=t.landmarks[0][8];calculateDistance(s,o)<.07?(pinch_occurs>0&&(document.getElementById("dot").style.opacity=100,r[0][0].categoryName==="Right"?(left_hand=!0,right_hand=!1,clicked_mouse_down===!1&&simulateMouseEvent(o.x,o.y),simulateMouseEvent(o.x,o.y,"mousemove")):(left_hand=!1,right_hand=!0,clicked_mouse_down===!1&&simulateMouseEvent(o.x,o.y),simulateMouseEvent(o.x,o.y,"mousemove")),pinch_occurs=0),pinch_occurs++):(document.getElementById("dot").style.opacity==="100"&&(document.getElementById("dot").style.opacity=0),clicked_mouse_down===!0&&simulateMouseEvent(o.x,o.y,"mouseup"))}}}let lastVideoTime=-1;function animate(){const t=performance.now();if(video.currentTime!==lastVideoTime){const e=handLandmarker.detectForVideo(video,t);processResults(e),lastVideoTime=video.currentTime}renderer.render(scene,camera),requestAnimationFrame(animate)}function simulateMouseEvent(t,e,r="mousedown"){let s=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,clientX:t*1e3,clientY:e*1e3});renderer.domElement.dispatchEvent(s)}let lastMove=[innerWidth/2,innerHeight/2],clicked_mouse_down=!1;addEventListener("mousedown",t=>{right_hand?(clicked_mouse_down||(clicked_mouse_down=!0),lastMove[0]=t.clientX,lastMove[1]=t.clientY):left_hand&&(clicked_mouse_down||(document.getElementById("dot2").style.opacity=100,clicked_mouse_down=!0))},!1);addEventListener("mouseup",t=>{clicked_mouse_down&&(document.getElementById("dot2").style.opacity=0,clicked_mouse_down=!1)},!1);addEventListener("mousemove",t=>{if(right_hand){if(clicked_mouse_down){const e=t.clientX-lastMove[0],r=t.clientY-lastMove[1];sphere.rotation.y-=e*9e-4,sphere.rotation.x+=r*9e-4,sphere.updateMatrix()}lastMove[0]=t.clientX,lastMove[1]=t.clientY}else if(left_hand){if(clicked_mouse_down){const e=t.clientX-10,r=t.clientY-10;document.getElementById("dot2").style="transform:translate3d("+e+"px,"+r+"px,0px);"}t.clientX,t.clientY}},!1)});export default St();
